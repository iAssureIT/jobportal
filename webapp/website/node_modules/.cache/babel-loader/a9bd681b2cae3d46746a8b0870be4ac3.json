{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/candidateportal/src/systemSecurity/ConfirmOtp.js\";\nimport React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport './ConfirmOtp.css';\n\nclass ConfirmOtp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showMessage: false\n    };\n  }\n\n  componentDidMount() {\n    //==================================\n    var user_id = this.props.match.params.userID;\n    console.log('user_id==', user_id);\n    axios.get('/api/users/get/' + userid).then(response => {\n      console.log('userInfo==', response.data);\n      this.setState({\n        'firstName': response.data.firstname,\n        'lastName': response.data.lastname,\n        'mobile': response.data.mobile,\n        'emailId': response.data.email,\n        \"user_id\": user_id,\n        \"createdBy\": user_id\n      });\n    }).catch(error => {});\n  }\n\n  handleChange(event) {\n    var fieldValue = event.currentTarget.value; // console.log(\"fieldValue\",fieldValue);\n\n    var fieldKey = event.currentTarget.name;\n    console.log(\"fieldKey\", fieldKey);\n    this.setState({\n      [fieldKey]: fieldValue\n    });\n  }\n\n  confirmOTP(event) {\n    event.preventDefault();\n    var url = this.props.match.params;\n    var formValues = {\n      \"user_ID\": this.props.match.params.userID,\n      \"emailOTP\": parseInt(this.refs.emailotp.value),\n      \"status\": \"Active\"\n    }; //========person master===============\n\n    var candidatemaster = {\n      'firstName': this.state.firstName,\n      'lastName': this.state.lastName,\n      'mobile': this.state.mobile,\n      'emailId': this.state.email,\n      \"user_id\": this.state.user_id,\n      \"createdBy\": this.state.createdBy\n    };\n    console.log(\"candidatemaster\", candidatemaster); //====================================\n\n    axios.get('/api/auth/get/checkemailotp/usingID/' + this.props.match.params.userID + '/' + this.refs.emailotp.value).then(response => {\n      if (response.data.message == 'SUCCESS') {\n        swal('OTP Verified Successfully.');\n        var url = localStorage.getItem('previousUrl');\n\n        if (url == 'forgotpassword') {\n          localStorage.removeItem(\"previousUrl\");\n          this.props.history.push('/reset-pwd/' + this.props.match.params.userID);\n        } else {\n          localStorage.removeItem(\"previousUrl\"); //this.props.history.push('/login');\n          //================================\n\n          axios.post('/api/candidatemaster/post', candidatemaster).then(response => {\n            console.log('in result Res data==>>>', response.data);\n          }).catch(error => {}); //================================\n        }\n      } else {\n        swal('Please enter valid OTP.');\n      }\n    }).catch(error => {\n      swal(error.response.data.message);\n    });\n  }\n\n  inputEffect(event) {\n    event.preventDefault();\n\n    if ($(event.target).val() != \"\") {\n      $(event.target).addClass(\"has-content\");\n    } else {\n      $(event.target).removeClass(\"has-content\");\n    }\n  }\n\n  resendOtp(event) {\n    document.getElementById(\"resendOtpBtn\").innerHTML = 'Please wait...';\n    const userid = this.props.match.params.userID;\n    var formValues = {\n      \"emailSubject\": \"Email Verification\",\n      \"emailContent\": \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\"\n    };\n    axios.patch('/api/auth/patch/setsendemailotpusingID/' + userid, formValues).then(response => {\n      document.getElementById(\"resendOtpBtn\").innerHTML = 'Resend OTP';\n      swal(\"OTP send to your registered email ID.\");\n    }).catch(error => {\n      swal(\" Failed to resent OTP\");\n      document.getElementById(\"resendOtpBtn\").innerHTML = 'Resend OTP';\n    });\n  }\n\n  Closepagealert(event) {\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n  }\n\n  render() {\n    var resendOtpWrap = \"resendOtpWrap resendOtpWrapcss\";\n    var mobileEmail = 'Mobile Number';\n    var resendOtp = \"\";\n    return React.createElement(\"section\", {\n      className: \"container-fluid confirmOTPWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmOTP col-lg-4 col-lg-offset-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"confirmOTPTitle col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Confirm OTP\"), React.createElement(\"hr\", {\n      className: \"confirmOTPHr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"confirmOTPSentence col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"We have sent you an OTP to your registered email address. Please enter your OTP below\"), React.createElement(\"div\", {\n      className: \"col-lg-12 form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-addon confirmOTPInputIcon1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-envelope\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"otp\",\n      name: \"otp\",\n      ref: \"emailotp\",\n      placeholder: \"Enter your OTP\",\n      value: this.state.OTP,\n      onChange: this.handleChange.bind(this),\n      className: \"form-control confirmOTPInputBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-12 confirmOTPLinks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Found your Password? \\xA0\", React.createElement(\"a\", {\n      className: \"confirmOTPSignIn\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Sign In\"))), React.createElement(\"div\", {\n      className: \"col-lg-12 buttonWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn col-lg-12 buttonConfirmOTP\",\n      onClick: this.resendOtp.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Resend OTP\")), React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn col-lg-12 buttonConfirmOTP\",\n      onClick: this.confirmOTP.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Confirm OTP\")))))));\n  }\n\n}\n\nexport default ConfirmOtp;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/candidateportal/src/systemSecurity/ConfirmOtp.js"],"names":["React","Component","swal","$","jQuery","axios","ConfirmOtp","constructor","props","state","showMessage","componentDidMount","user_id","match","params","userID","console","log","get","userid","then","response","data","setState","firstname","lastname","mobile","email","catch","error","handleChange","event","fieldValue","currentTarget","value","fieldKey","name","confirmOTP","preventDefault","url","formValues","parseInt","refs","emailotp","candidatemaster","firstName","lastName","createdBy","message","localStorage","getItem","removeItem","history","push","post","inputEffect","target","val","addClass","removeClass","resendOtp","document","getElementById","innerHTML","patch","Closepagealert","html","render","resendOtpWrap","mobileEmail","OTP","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport './ConfirmOtp.css';\n\nclass ConfirmOtp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showMessage: false\n    }\n  }\n  componentDidMount() {\n    \n    //==================================\n    var user_id = this.props.match.params.userID;\n    console.log('user_id==',user_id)  \n\n    axios.get('/api/users/get/'+userid)\n    .then((response) => {\n      console.log('userInfo==',response.data)\n\n      this.setState({\n              'firstName'       : response.data.firstname,\n              'lastName'        : response.data.lastname,\n              'mobile'          : response.data.mobile,\n              'emailId'         : response.data.email,\n              \"user_id\"         : user_id,\n              \"createdBy\"       : user_id\n             })\n    })\n    .catch((error) => {\n    })\n\n  }\n  \n  handleChange(event){\n      var fieldValue=event.currentTarget.value;\n      // console.log(\"fieldValue\",fieldValue);\n       var fieldKey=event.currentTarget.name;\n       console.log(\"fieldKey\",fieldKey);\n      this.setState({\n        [fieldKey]:fieldValue\n      });\n  }\n  confirmOTP(event) {\n    event.preventDefault();\n    var url = this.props.match.params;\n    var formValues = {\n      \"user_ID\": this.props.match.params.userID,\n      \"emailOTP\": parseInt(this.refs.emailotp.value),\n      \"status\": \"Active\"\n    }\n    //========person master===============\n\n      var candidatemaster   = {\n        'firstName'       : this.state.firstName,\n        'lastName'        : this.state.lastName,\n        'mobile'          : this.state.mobile,\n        'emailId'         : this.state.email,\n        \"user_id\"         : this.state.user_id,\n        \"createdBy\"       : this.state.createdBy\n      }\n    console.log(\"candidatemaster\",candidatemaster)\n    \n      //====================================\n    \n      axios.get('/api/auth/get/checkemailotp/usingID/' + this.props.match.params.userID + '/' + this.refs.emailotp.value)\n        .then((response) => {\n\n          if (response.data.message == 'SUCCESS') {\n            swal('OTP Verified Successfully.');\n            var url = localStorage.getItem('previousUrl');\n            if (url == 'forgotpassword') {\n              localStorage.removeItem(\"previousUrl\");\n              this.props.history.push('/reset-pwd/' + this.props.match.params.userID);\n            } else {\n              localStorage.removeItem(\"previousUrl\");\n              //this.props.history.push('/login');\n              //================================\n\n                axios.post('/api/candidatemaster/post', candidatemaster)\n                .then((response) => {\n\n                  console.log('in result Res data==>>>', response.data);\n                  \n                })\n                .catch((error) => {})\n              \n            //================================\n            }\n          } else {\n            swal('Please enter valid OTP.');\n          }\n        })\n        .catch((error) => {\n          swal(error.response.data.message);\n        })\n    \n\n  }\n  inputEffect(event) {\n    event.preventDefault();\n    if ($(event.target).val() != \"\") {\n      $(event.target).addClass(\"has-content\");\n    } else {\n      $(event.target).removeClass(\"has-content\");\n    }\n  }\n  resendOtp(event) {\n    document.getElementById(\"resendOtpBtn\").innerHTML = 'Please wait...';\n    const userid = this.props.match.params.userID;\n    var formValues = {\n      \"emailSubject\": \"Email Verification\",\n      \"emailContent\": \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\",\n    }\n    axios.patch('/api/auth/patch/setsendemailotpusingID/' + userid, formValues)\n      .then((response) => {\n        document.getElementById(\"resendOtpBtn\").innerHTML = 'Resend OTP';\n        swal(\"OTP send to your registered email ID.\");\n      })\n      .catch((error) => {\n        swal(\" Failed to resent OTP\");\n        document.getElementById(\"resendOtpBtn\").innerHTML = 'Resend OTP';\n      })\n  }\n  Closepagealert(event) {\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n\n  }\n  render() {\n\n    var resendOtpWrap = \"resendOtpWrap resendOtpWrapcss\";\n    var mobileEmail = 'Mobile Number';\n    var resendOtp = \"\";\n\n    return (\n      <section className=\"container-fluid confirmOTPWrapper\">\n                <div className=\"confirmOTP col-lg-4 col-lg-offset-4\">\n                  <form>\n                    <div className=\"confirmOTPTitle col-lg-12\">Confirm OTP\n                    </div>\n\n                    <hr className=\"confirmOTPHr\"/>\n\n                    <div className=\"confirmOTPSentence col-lg-12\">\n                         We have sent you an OTP to your registered email address.\n                        Please enter your OTP below\n\n                    </div>\n\n                    <div className=\"col-lg-12 form-group\" >\n                        <div className=\"input-group\">\n                            <span className=\"input-group-addon confirmOTPInputIcon1\"><i className=\"fa fa-envelope\"></i></span>\n                            <input type=\"text\" id=\"otp\" name=\"otp\" ref=\"emailotp\" placeholder=\"Enter your OTP\" value={this.state.OTP} onChange={this.handleChange.bind(this)} className=\"form-control confirmOTPInputBox\"/>\n                        </div>\n                    </div>\n\n\n                    <div className=\"col-lg-12 confirmOTPLinks\">\n                        Found your Password? &nbsp;\n                        <a className=\"confirmOTPSignIn\" href=\"#\"><u>Sign In</u></a>\n                    </div>\n                    \n                    \n                     \n                    <div className=\"col-lg-12 buttonWrapper\">\n                      <div className=\"row\">\n                        <div className=\"col-lg-6\">\n                            <button className=\"btn col-lg-12 buttonConfirmOTP\" onClick={this.resendOtp.bind(this)}>Resend OTP</button>\n                        </div>\n\n                        <div className=\"col-lg-6\">\n                            <button className=\"btn col-lg-12 buttonConfirmOTP\" onClick={this.confirmOTP.bind(this)}>Confirm OTP</button>\n                        </div>\n                      </div>\n                            \n                    </div>\n                  </form> \n\n                </div>\n         </section>\n\n      \n    );\n  }\n}\nexport default ConfirmOtp;"]},"metadata":{},"sourceType":"module"}