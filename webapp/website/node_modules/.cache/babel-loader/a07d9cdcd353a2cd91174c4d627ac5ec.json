{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/candidateportal/src/candidateprofile/systemSecurity/ForgotPassword.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nclass ForgotPassword extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bannerData: {\n        title: \"MY SHOPPING CART\",\n        breadcrumb: 'My Shopping Cart',\n        backgroungImage: '/images/cartBanner.png'\n      },\n      showMessage: false,\n      btnLoading: false\n    };\n  }\n\n  componentDidMount() {\n    this.validation();\n  }\n\n  sendLink(event) {\n    event.preventDefault();\n    var email = this.refs.emailLink.value;\n    var formValues = {\n      username: email,\n      \"emailSubject\": \"Email Verification\",\n      \"emailContent\": \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\"\n    };\n\n    if ($('#resetPass').valid()) {\n      this.setState({\n        btnLoading: true\n      }); // document.getElementById(\"sendlink\").innerHTML = 'Please wait...';\n\n      $('.fullpageloader').show();\n      axios.patch('/api/auth/patch/setsendemailotpusingEmail/' + email, formValues).then(response => {\n        this.setState({\n          btnLoading: false\n        });\n        console.log('forgotpassword res===', response.data);\n\n        if (response.data.ID) {\n          document.getElementById(\"sendlink\").innerHTML = 'Reset Password';\n          localStorage.setItem('previousUrl', 'forgotpassword');\n          $('.fullpageloader').hide();\n          swal(\"OTP send to your registered email ID.\");\n          this.props.history.push('/confirm-otp/' + response.data.ID);\n        } else if (response.data.message == \"USER_BLOCK\") {\n          console.log(\"In USER_BLOCK\");\n          swal({\n            title: \"You are blocked by admin. Please contact Admin.\",\n            text: \"You are blocked by admin. Please contact Admin.\"\n          });\n          this.props.history.push('/login');\n        } else if (response.data.message == \"USER_UNVERIFIED\") {\n          console.log(\"In USER_UNVERIFIED\");\n          swal({\n            text: \"You have not verified your account. Please verify your account.\"\n          });\n          this.props.history.push('/login');\n        } else if (response.data.message == \"NOT_REGISTER\") {\n          console.log(\"In NOT_REGISTER\");\n          swal({\n            text: \"This email is not registered. Please do signup.\"\n          });\n          this.props.history.push('/login');\n        }\n      }).catch(error => {\n        document.getElementById(\"sendlink\").innerHTML = 'Reset Password';\n        swal(\"This Email ID is not registered\");\n        $('.fullpageloader').hide();\n      });\n    }\n  }\n\n  Closepagealert(event) {\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n  }\n\n  validation() {\n    $.validator.addMethod(\"regxemail\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid email address.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#resetPass\").validate({\n      rules: {\n        emailLink: {\n          required: true,\n          regxemail: /^\\b[A-Z0-9._%-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}\\b$/i\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") == \"emailLink\") {\n          error.insertAfter(\"#emailLink\");\n        }\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        'height': window.innerHeight + 'px',\n        'width': window.innerWidth + 'px'\n      },\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 LoginWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-12 col-xs-12 formShadow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, \"Forgot Password\")), this.state.showMessage == false ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 29\n      }\n    }, \"Please enter your registered email address below to receive a OTP.\"), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"resetPass\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"textAlignLeft col-lg-12 col-md-12 col-sm-12 col-xs-12 mt25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 37\n      }\n    }, \"Email ID\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"astricsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 73\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col-lg-12 col-md-12 col-sm-12  col-xs-12\",\n      placeholder: \"Email ID\",\n      ref: \"emailLink\",\n      name: \"emailLink\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"emailLink\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-12 col-xs-12 mt25 mb25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"sendlink\",\n      className: \"btn resetBtn\",\n      onClick: this.sendLink.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 37\n      }\n    }, \"Send OTP\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row loginforgotpass textAlignCenter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/login\",\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 41\n      }\n    }, \"Sign In\"))))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 29\n      }\n    }, \"We have sent a reset password link to your email account.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row loginforgotpass textAlignCenter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/login\",\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 37\n      }\n    }, \"Sign In\")))), this.state.btnLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-lg-offset-4 col-md-10 col-md-offset-1 col-sm-12 col-xs-12 NOpaddingRight \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      className: \"cssload-fond\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-container-general\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-internal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-ballcolor cssload-ball_1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 59\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-internal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-ballcolor cssload-ball_2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 59\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-internal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-ballcolor cssload-ball_3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 59\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-internal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-ballcolor cssload-ball_4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 59\n      }\n    }, \"\\xA0\"))))) : \"\"));\n  }\n\n}\n\nexport default ForgotPassword;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/candidateportal/src/candidateprofile/systemSecurity/ForgotPassword.js"],"names":["React","Component","$","jQuery","axios","swal","ForgotPassword","constructor","props","state","bannerData","title","breadcrumb","backgroungImage","showMessage","btnLoading","componentDidMount","validation","sendLink","event","preventDefault","email","refs","emailLink","value","formValues","username","valid","setState","show","patch","then","response","console","log","data","ID","document","getElementById","innerHTML","localStorage","setItem","hide","history","push","message","text","catch","error","Closepagealert","html","removeClass","validator","addMethod","element","regexpr","test","setDefaults","debug","success","validate","rules","required","regxemail","errorPlacement","attr","insertAfter","render","window","innerHeight","innerWidth","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nclass ForgotPassword extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bannerData: {\n                title: \"MY SHOPPING CART\",\n                breadcrumb: 'My Shopping Cart',\n                backgroungImage: '/images/cartBanner.png',\n            },\n            showMessage : false,\n            btnLoading  : false\n        }\n    }\n    componentDidMount(){\n        this.validation();\n    }\n    sendLink(event) {\n        event.preventDefault();\n        \n        var email = this.refs.emailLink.value;\n        var formValues = {\n            username : email,\n            \"emailSubject\"\t: \"Email Verification\", \n\t\t\t\"emailContent\"  : \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\",\n        }\n        if($('#resetPass').valid()){\n             this.setState({ btnLoading: true });\n            // document.getElementById(\"sendlink\").innerHTML = 'Please wait...';\n            $('.fullpageloader').show();\n            axios.patch('/api/auth/patch/setsendemailotpusingEmail/'+email, formValues)\n            .then((response)=>{\n                this.setState({ btnLoading: false });\n\n                console.log('forgotpassword res===',response.data)\n                if (response.data.ID) {\n                    document.getElementById(\"sendlink\").innerHTML = 'Reset Password';\n                    localStorage.setItem('previousUrl' ,'forgotpassword');\n                    $('.fullpageloader').hide();\n                    swal(\"OTP send to your registered email ID.\");\n                    this.props.history.push('/confirm-otp/'+response.data.ID);\n                } else if(response.data.message == \"USER_BLOCK\"){\n                    console.log(\"In USER_BLOCK\")\n                    swal({\n                      title: \"You are blocked by admin. Please contact Admin.\",\n                      text: \"You are blocked by admin. Please contact Admin.\"\n                    });\n                    this.props.history.push('/login');\n\n                  }else if(response.data.message == \"USER_UNVERIFIED\"){\n                    console.log(\"In USER_UNVERIFIED\")\n                    swal({\n                      text : \"You have not verified your account. Please verify your account.\"\n                    });\n                    this.props.history.push('/login');\n\n                  }else if(response.data.message == \"NOT_REGISTER\"){\n                    console.log(\"In NOT_REGISTER\")\n                    swal({\n                      text : \"This email is not registered. Please do signup.\"\n                    });\n                    this.props.history.push('/login');\n                    \n                  }\n\n            })\n            .catch((error)=>{\n                document.getElementById(\"sendlink\").innerHTML = 'Reset Password';\n                swal(\"This Email ID is not registered\");\n                $('.fullpageloader').hide();\n            })\n        }\n    }\n      Closepagealert(event){\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n\n  }\n\n    validation() {\n        $.validator.addMethod(\"regxemail\", function (value, element, regexpr) {\n            return regexpr.test(value);\n        }, \"Please enter valid email address.\");\n\n\n        jQuery.validator.setDefaults({\n            debug: true,\n            success: \"valid\"\n        });\n\n        $(\"#resetPass\").validate({\n            rules: {\n                emailLink: {\n                    required: true,\n                    regxemail: /^\\b[A-Z0-9._%-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}\\b$/i\n                },\n            },\n            errorPlacement: function (error, element) {\n\n                if (element.attr(\"name\") == \"emailLink\") {\n                    error.insertAfter(\"#emailLink\");\n                }\n            }\n        });\n    }\n    render() {\n        return (\n            <div style={{'height': window.innerHeight+'px', 'width': window.innerWidth+'px'}} className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 LoginWrapper\">\n                <div  className=\"col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-12 col-xs-12 formShadow\">\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    </div>\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\">\n                        <h3>Forgot Password</h3>\n                    </div>\n                    {\n                        this.state.showMessage == false ? \n                        <div>\n                            <p className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt25\">Please enter your registered email address below to receive a OTP.</p>\n                            <form id=\"resetPass\">\n                                <div className=\"textAlignLeft col-lg-12 col-md-12 col-sm-12 col-xs-12 mt25\" >\n                                    <label className=\"\">Email ID</label><label className=\"astricsign\">*</label>\n                                    <input className=\"form-control col-lg-12 col-md-12 col-sm-12  col-xs-12\" placeholder=\"Email ID\" ref=\"emailLink\" name=\"emailLink\" type=\"text\" />\n                                    <div id=\"emailLink\"></div>\n                                </div>\n                                <div className=\"col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-12 col-xs-12 mt25 mb25\">\n                                    <button id=\"sendlink\" className=\"btn resetBtn\" onClick={this.sendLink.bind(this)}>Send OTP</button>\n                                </div>\n                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt10\">\n                                    <div className=\"row loginforgotpass textAlignCenter\">\n                                        <a href='/login' className=\"\">Sign In</a>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                        :\n                        <div>\n                            <p className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt25\">We have sent a reset password link to your email account.</p>\n                            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt10\">\n                                <div className=\"row loginforgotpass textAlignCenter\">\n                                    <a href='/login' className=\"\">Sign In</a>\n                                </div>\n                            </div>\n                        </div>\n                    }\n                    {\n                  this.state.btnLoading\n                  ?\n                  <div className=\"col-lg-3 col-lg-offset-4 col-md-10 col-md-offset-1 col-sm-12 col-xs-12 NOpaddingRight \">\n                  <div align=\"center\" className=\"cssload-fond\">\n                    <div className=\"cssload-container-general\">\n                        <div className=\"cssload-internal\"><div className=\"cssload-ballcolor cssload-ball_1\"> </div></div>\n                        <div className=\"cssload-internal\"><div className=\"cssload-ballcolor cssload-ball_2\"> </div></div>\n                        <div className=\"cssload-internal\"><div className=\"cssload-ballcolor cssload-ball_3\"> </div></div>\n                        <div className=\"cssload-internal\"><div className=\"cssload-ballcolor cssload-ball_4\"> </div></div>\n                    </div>\n                  </div>\n                </div>\n                  :\n                  \"\"\n                }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ForgotPassword;"]},"metadata":{},"sourceType":"module"}