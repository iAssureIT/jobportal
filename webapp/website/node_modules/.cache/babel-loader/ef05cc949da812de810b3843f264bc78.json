{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/candidateportal/src/candidateprofile/systemSecurity/Login.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './LoginForm.css';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport jQuery from 'jquery';\nimport 'jquery-validation';\nimport swal from 'sweetalert';\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedIn: false,\n      btnLoading: false,\n      auth: {\n        email: '',\n        pwd: ''\n      },\n      messageData: {\n        \"type\": \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    $.validator.addMethod(\"regxemail\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter a valid email address.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#login\").validate({\n      rules: {\n        loginusername: {\n          required: true,\n          regxemail: /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/\n        },\n        loginpassword: {\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") == \"loginusername\") {\n          error.insertAfter(\"#loginusername\");\n        }\n\n        if (element.attr(\"name\") == \"loginpassword\") {\n          error.insertAfter(\"#loginpassword1\");\n        }\n      }\n    });\n  }\n\n  userlogin(event) {\n    event.preventDefault();\n    var auth = {\n      email: this.refs.loginusername.value,\n      password: this.refs.loginpassword.value,\n      role: \"vendoradmin\"\n    };\n\n    if ($(\"#login\").valid()) {\n      document.getElementById(\"logInBtn\").value = this.setState({\n        btnLoading: true\n      }); // axios.post('/api/auth/post/login', auth) \n\n      console.log(\"Before Post auth:==>\", auth);\n      axios.post('/api/auth/post/loginwithcompanyid', auth).then(response => {\n        this.setState({\n          btnLoading: false\n        });\n        console.log(\"response.data userDetails:==>\", response.data);\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + response.data.token;\n\n        if (response.data.ID) {\n          var userDetails = {\n            firstName: response.data.userDetails.firstName,\n            lastName: response.data.userDetails.lastName,\n            email: response.data.userDetails.email,\n            phone: response.data.userDetails.phone,\n            city: response.data.userDetails.city,\n            companyID: response.data.userDetails.companyID,\n            companyName: response.data.userDetails.companyName,\n            locationID: response.data.userDetails.locationID,\n            user_id: response.data.userDetails.user_id,\n            roles: response.data.userDetails.roles,\n            passwordreset: response.data.userDetailspasswordreset,\n            token: response.data.userDetails.token,\n            loginTime: response.data.userDetails.loginTime\n          };\n          document.getElementById(\"logInBtn\").value = 'Sign In';\n          localStorage.setItem(\"companyName\", response.data.companyName);\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"user_ID\", response.data.ID);\n          localStorage.setItem(\"roles\", response.data.roles);\n          localStorage.setItem(\"loginTime\", response.data.loginTime);\n          localStorage.setItem('userDetails', JSON.stringify(userDetails));\n          axios.get(\"/api/entitymaster/getCompany/\" + response.data.userDetails.companyID).then(response => {\n            console.log('company_Id===', response.data);\n            localStorage.setItem(\"company_Id\", response.data._id);\n          }).catch(error => {});\n          this.setState({\n            loggedIn: true\n          }); // console.log(\"In login data====>>\",response.data);\n\n          if (response.data.passwordreset === false) {\n            this.props.history.push('/reset-password/' + response.data.ID);\n          } else {\n            const roles = localStorage.getItem(\"roles\");\n            var company_Id = localStorage.getItem(\"company_Id\");\n            var roleArr = [];\n            roleArr.push(roles);\n\n            if (roles.indexOf(\"vendoradmin\") > -1) {\n              axios.get(\"/api/entitymaster/get/one/\" + company_Id).then(response => {\n                console.log(\"response dash\", response);\n                this.setState({\n                  profileStatus: response.data[0].profileStatus\n                }, () => {\n                  if (this.state.profileStatus == \"New\") {\n                    this.props.history.push(\"/company-profile\");\n                    window.location.reload();\n                  } else {\n                    axios.get(\"/api/contract/get/one/entity/\" + company_Id).then(response => {\n                      if (response.data.length > 0) {\n                        console.log(\"response\", response.data);\n                        var contractDetails = response.data[0];\n                        this.setState({\n                          contractDetails: contractDetails\n                        }, () => {\n                          if (this.state.contractDetails.status !== \"Approved\") {\n                            this.props.history.push(\"/contract-view\");\n                            window.location.reload();\n                          } else {\n                            var user_id = localStorage.getItem(\"user_ID\");\n                            axios.get('/api/personmaster/get/details/' + user_id).then(res => {\n                              console.log(\"res empProfileStatus\", res);\n\n                              if (res.data[0].profileStatus && res.data[0].profileStatus === \"New\") {\n                                this.props.history.push(\"/my-profile\");\n                                window.location.reload();\n                              } else {\n                                this.props.history.push(\"/dashboard\");\n                                window.location.reload();\n                              }\n                            }).catch(err => {});\n                          }\n                        });\n                      } else {\n                        this.props.history.push(\"/no-contract\");\n                        window.location.reload();\n                      }\n                    }).catch(error => {});\n                  }\n                });\n              }).catch(error => {});\n            } else {\n              this.props.history.push(\"/dashboard\");\n              window.location.reload();\n            }\n          }\n        } else if (response.data.message == \"USER_BLOCK\") {\n          console.log(\"In USER_BLOCK\");\n          swal({\n            title: \"You are blocked by admin. Please contact Admin.\",\n            text: \"You are blocked by admin. Please contact Admin.\"\n          });\n        } else if (response.data.message == \"NOT_REGISTER\") {\n          console.log(\"In NOT_REGISTER\");\n          swal({\n            text: \"This email is not registered. Please do signup.\"\n          });\n        } else if (response.data.message == \"INVALID_PASSWORD\") {\n          swal({\n            text: \"You have entered wrong password. Please try again.\"\n          });\n        } else if (response.data.message == \"USER_UNVERIFIED\") {\n          swal({\n            text: \"You have not verified your account. Please verify your account.\"\n          }).then(value => {\n            var emailText = {\n              \"emailSubject\": \"Email Verification\",\n              \"emailContent\": \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\"\n            };\n            axios.patch('/api/auth/patch/setsendemailotpusingEmail/' + this.refs.loginusername.value, emailText).then(response => {\n              swal(\"We send you a Verification Code to your registered email. Please verify your account.\");\n              this.props.history.push(\"/confirm-otp/\" + response.data.userID);\n            }).catch(error => {\n              swal(\" Failed to sent OTP\");\n            });\n          });\n        }\n      }).catch(error => {\n        console.log(\"error\", error);\n\n        if (error.response && error.response.status === 401) {\n          swal(\"Invalid Email or Password\", \"Email ID does not exists\");\n        } else if (error.response && error.response.status === 409) {\n          swal(\"Invalid Email or Password\", \"Please Enter a valid password\");\n        } else {\n          swal(\"Invalid Email or Password\", \"Please try again\");\n        }\n\n        this.setState({\n          btnLoading: false\n        });\n      });\n    }\n  }\n\n  showSignPass() {\n    $('.showPwd').toggleClass('showPwd1');\n    $('.hidePwd').toggleClass('hidePwd1');\n    return $('#loginpassword').attr('type', 'text');\n  }\n\n  hideSignPass() {\n    $('.showPwd').toggleClass('showPwd1');\n    $('.hidePwd').toggleClass('hidePwd1');\n    return $('#loginpassword').attr('type', 'password');\n  }\n\n  Closepagealert(event) {\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"loginFormOuter col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"loginFormInner col-lg-4 col-lg-offset-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"signInTitle col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"div\", {\n      className: \"loginSocialMedia\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"loginSocialMediaInner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"loginLinkedIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-linkedin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"loginGoogle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-google\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"loginOr col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      className: \"loginHr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"loginOrText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"or\"), React.createElement(\"hr\", {\n      className: \"loginHr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 form-group loginFormGroup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-addon loginInputIcon1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-mobile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"tel\",\n      id: \"mobileNumber\",\n      name: \"mobileNumber\",\n      placeholder: \"Mobile Number\",\n      value: this.state.mobileNumber,\n      onChange: this.handleChange.bind(this),\n      className: \"form-control loginInputBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-12 form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-addon loginInputIcon2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-lock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: this.handleChange.bind(this),\n      className: \"form-control loginInputBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"input-group-addon loginInputIcon3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-eye\",\n      onClick: this.showPassword.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"col-lg-12 buttonWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn col-lg-12 buttonSignIn\",\n      onClick: this.userlogin.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"Sign In\")), React.createElement(\"div\", {\n      className: \"col-lg-12 loginLinks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \" loginSignUp\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, \"Sign Up?\"))), React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \" loginForgotPassword\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Forgot Password?\")))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/candidateportal/src/candidateprofile/systemSecurity/Login.js"],"names":["React","Component","connect","$","axios","jQuery","swal","BrowserRouter","Route","Link","Login","constructor","state","loggedIn","btnLoading","auth","email","pwd","messageData","componentDidMount","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","loginusername","required","regxemail","loginpassword","errorPlacement","error","attr","insertAfter","userlogin","event","preventDefault","refs","password","role","valid","document","getElementById","setState","console","log","post","then","response","data","defaults","headers","common","token","ID","userDetails","firstName","lastName","phone","city","companyID","companyName","locationID","user_id","roles","passwordreset","userDetailspasswordreset","loginTime","localStorage","setItem","JSON","stringify","get","_id","catch","props","history","push","getItem","company_Id","roleArr","indexOf","profileStatus","window","location","reload","length","contractDetails","status","res","err","message","title","text","emailText","patch","userID","showSignPass","toggleClass","hideSignPass","Closepagealert","html","removeClass","render","mobileNumber","handleChange","bind","showPassword"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect }        from 'react-redux';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './LoginForm.css';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport jQuery from 'jquery';\nimport 'jquery-validation';\nimport swal from 'sweetalert';\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\n\nclass Login extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      loggedIn: false,\n      btnLoading: false,\n      auth: {\n        email: '',\n        pwd: '',\n      },\n      messageData: {\n        \"type\": \"\",\n      }\n    }\n  }\n  componentDidMount() {\n\n    $.validator.addMethod(\"regxemail\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter a valid email address.\");\n\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#login\").validate({\n      rules: {\n        loginusername: {\n          required: true,\n          regxemail : /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/\n        },\n        loginpassword: {\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") == \"loginusername\") {\n          error.insertAfter(\"#loginusername\");\n        }\n        if (element.attr(\"name\") == \"loginpassword\") {\n          error.insertAfter(\"#loginpassword1\");\n        }\n      }\n    });\n  }\n  \n  userlogin(event) {\n    event.preventDefault();\n    var auth = {\n      email: this.refs.loginusername.value,\n      password: this.refs.loginpassword.value,\n      role: \"vendoradmin\"\n    }\n    \n    if ($(\"#login\").valid()) {\n      document.getElementById(\"logInBtn\").value = \n      this.setState({ btnLoading: true });\n      // axios.post('/api/auth/post/login', auth) \n      console.log(\"Before Post auth:==>\",auth);  \n      axios.post('/api/auth/post/loginwithcompanyid', auth)\n      .then((response) => {\n        this.setState({ btnLoading: false });\n        console.log(\"response.data userDetails:==>\",response.data);  \n         axios.defaults.headers.common['Authorization'] = 'Bearer '+response.data.token;\n          if (response.data.ID) {\n             var  userDetails = {\n              firstName : response.data.userDetails.firstName, \n              lastName  : response.data.userDetails.lastName, \n              email     : response.data.userDetails.email, \n              phone     : response.data.userDetails.phone, \n              city      : response.data.userDetails.city,\n              companyID : response.data.userDetails.companyID,\n              companyName : response.data.userDetails.companyName,\n              locationID: response.data.userDetails.locationID,\n              user_id   : response.data.userDetails.user_id,\n              roles     : response.data.userDetails.roles,\n              passwordreset: response.data.userDetailspasswordreset,\n              token     : response.data.userDetails.token, \n              loginTime : response.data.userDetails.loginTime, \n            }\n            document.getElementById(\"logInBtn\").value = 'Sign In';\n            localStorage.setItem(\"companyName\", response.data.companyName);\n            localStorage.setItem(\"token\", response.data.token);\n            localStorage.setItem(\"user_ID\", response.data.ID);\n            localStorage.setItem(\"roles\", response.data.roles);\n            localStorage.setItem(\"loginTime\", response.data.loginTime);\n            localStorage.setItem('userDetails', JSON.stringify(userDetails));\n             axios.get(\"/api/entitymaster/getCompany/\"+response.data.userDetails.companyID)\n            .then((response) => {\n              console.log('company_Id===',response.data)\n                localStorage.setItem(\"company_Id\",response.data._id);\n            })\n            .catch((error) => {\n            })\n            \n            this.setState({\n              loggedIn: true\n            })\n            // console.log(\"In login data====>>\",response.data);\n            if(response.data.passwordreset === false  ){\n                this.props.history.push('/reset-password/'+response.data.ID);\n            }else{\n              const roles = localStorage.getItem(\"roles\");\n              var company_Id = localStorage.getItem(\"company_Id\");\n              var roleArr = [];\n              roleArr.push(roles);\n              if(roles.indexOf(\"vendoradmin\")>-1)\n              {\n                axios.get(\"/api/entitymaster/get/one/\"+company_Id)\n                .then((response)=>{\n                  console.log(\"response dash\",response);\n                  this.setState({\n                      profileStatus : response.data[0].profileStatus,\n                  },()=>{\n                     if(this.state.profileStatus== \"New\"){\n                      this.props.history.push(\"/company-profile\")\n                      window.location.reload()\n\n                    }else{\n                      axios.get(\"/api/contract/get/one/entity/\" + company_Id)\n                      .then((response) => {\n                        if(response.data.length>0)\n                        {\n                          console.log(\"response\",response.data);\n                          var contractDetails = response.data[0];\n                          this.setState({\n                              contractDetails: contractDetails\n                          },()=>{\n                            if(this.state.contractDetails.status !== \"Approved\"){\n                                this.props.history.push(\"/contract-view\")\n                                window.location.reload()\n\n\n                            }else{\n                              var user_id = localStorage.getItem(\"user_ID\");\n                             axios.get('/api/personmaster/get/details/' + user_id)\n                              .then((res) => {\n                                console.log(\"res empProfileStatus\",res)\n                                if(res.data[0].profileStatus && res.data[0].profileStatus === \"New\" )\n                                {\n                                 this.props.history.push(\"/my-profile\")\n                                  window.location.reload()\n\n                                }else{\n                                this.props.history.push(\"/dashboard\")\n                                window.location.reload()\n                                }\n                                \n                              })\n                              .catch((err) => {\n                              })\n\n                            \n                            }\n                          })\n                        }else{\n                           this.props.history.push(\"/no-contract\")\n                                window.location.reload()\n                        }\n                      })\n                      .catch((error) => {\n                      })\n                    }\n                  });\n                })\n                .catch((error)=>{\n                })\n            }else{\n              this.props.history.push(\"/dashboard\")\n              window.location.reload()\n\n            }\n          }\n             \n          }else if(response.data.message == \"USER_BLOCK\"){\n            console.log(\"In USER_BLOCK\")\n            swal({\n              title: \"You are blocked by admin. Please contact Admin.\",\n              text: \"You are blocked by admin. Please contact Admin.\"\n            });\n          }else if(response.data.message == \"NOT_REGISTER\"){\n            console.log(\"In NOT_REGISTER\")\n            swal({\n              text : \"This email is not registered. Please do signup.\"\n            });\n          }else if(response.data.message == \"INVALID_PASSWORD\"){\n            swal({\n              text : \"You have entered wrong password. Please try again.\"\n            });\n          }else if(response.data.message == \"USER_UNVERIFIED\"){\n            swal({\n              text : \"You have not verified your account. Please verify your account.\"\n            })\n            .then((value)=>{\n              var emailText = {\n                \"emailSubject\"\t: \"Email Verification\", \n                \"emailContent\"  : \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\",\n              }\n              axios.patch('/api/auth/patch/setsendemailotpusingEmail/'+this.refs.loginusername.value, emailText)\n              .then((response)=>{\n                swal(\"We send you a Verification Code to your registered email. Please verify your account.\");\n                this.props.history.push(\"/confirm-otp/\" + response.data.userID);\n              })\n              .catch((error)=>{\n                swal(\" Failed to sent OTP\");\n              })    \n            });\n          }\n      })\n      .catch((error) => {\n        console.log(\"error\",error);\n         if(error.response&&error.response.status===401){\n          swal(\"Invalid Email or Password\",\"Email ID does not exists\");\n        }else if(error.response&&error.response.status===409){\n          swal(\"Invalid Email or Password\",\"Please Enter a valid password\");\n        }else{\n          swal(\"Invalid Email or Password\",\"Please try again\");\n        }\n        this.setState({ btnLoading: false });\n      });\n    }\n  }\n  showSignPass() {\n    $('.showPwd').toggleClass('showPwd1');\n    $('.hidePwd').toggleClass('hidePwd1');\n    return $('#loginpassword').attr('type', 'text');\n  }\n  hideSignPass() {\n    $('.showPwd').toggleClass('showPwd1');\n    $('.hidePwd').toggleClass('hidePwd1');\n    return $('#loginpassword').attr('type', 'password');\n  }\n  Closepagealert(event) {\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n  }\n  render() {\n    return (\n      <div className=\"loginFormOuter col-lg-12\">\n          <div className=\"loginFormInner col-lg-4 col-lg-offset-4\">\n            <div className=\"signInTitle col-lg-12\">Sign In\n            </div>\n            \n            <div className=\"loginSocialMedia\">\n              <div className=\"loginSocialMediaInner\">\n                <div className=\"loginLinkedIn\"><i className=\"fa fa-linkedin\"></i></div>\n                <div className=\"loginGoogle\"><i className=\"fa fa-google\"></i></div>\n              </div>    \n            </div>\n            <div className=\"loginOr col-lg-12\">\n              <hr className=\"loginHr\"/>\n              <div className=\"loginOrText\">or\n              </div>\n              <hr className=\"loginHr\"/>\n            </div>\n            <div className=\"col-lg-12 form-group loginFormGroup\" >\n              <div className=\"input-group\">\n                <span className=\"input-group-addon loginInputIcon1\"><i className=\"fa fa-mobile\"></i></span>\n                <input type=\"tel\" id=\"mobileNumber\" name=\"mobileNumber\" placeholder=\"Mobile Number\" value={this.state.mobileNumber} onChange={this.handleChange.bind(this)} className=\"form-control loginInputBox\"/>\n              </div>\n            </div>\n            <div className=\"col-lg-12 form-group\" >\n              <div className=\"input-group\">\n                <span className=\"input-group-addon loginInputIcon2\"><i className=\"fa fa-lock\"></i></span>\n                <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.handleChange.bind(this)} className=\"form-control loginInputBox\"/>\n                <span className=\"input-group-addon loginInputIcon3\"><i className=\"fa fa-eye\" onClick={this.showPassword.bind(this)}></i></span>\n              </div>\n            </div>\n            <div className=\"col-lg-12 buttonWrapper\">\n             <button className=\"btn col-lg-12 buttonSignIn\" onClick={this.userlogin.bind(this)}>Sign In</button>\n            </div>\n            <div className=\"col-lg-12 loginLinks\">\n            <div className=\"row\">\n                <div className=\"col-lg-6\">\n                  <a className=\" loginSignUp\" href=\"#\"><u>Sign Up?</u></a>\n                </div>\n                <div className=\"col-lg-6\">\n                  <a className=\" loginForgotPassword\" href=\"#\"><u>Forgot Password?</u></a>\n                </div>\n            </div>  \n            </div>\n          </div>\n        </div>\n    );\n  }\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}