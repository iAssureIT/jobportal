{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/candidateportal/src/systemSecurity/ForgotPassword.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nclass ForgotPassword extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bannerData: {\n        title: \"MY SHOPPING CART\",\n        breadcrumb: 'My Shopping Cart',\n        backgroungImage: '/images/cartBanner.png'\n      },\n      showMessage: false,\n      btnLoading: false\n    };\n  }\n\n  componentDidMount() {\n    this.validation();\n  }\n\n  sendLink(event) {\n    event.preventDefault();\n    var email = this.refs.emailLink.value;\n    var formValues = {\n      username: email,\n      \"emailSubject\": \"Email Verification\",\n      \"emailContent\": \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\"\n    };\n\n    if ($('#resetPass').valid()) {\n      this.setState({\n        btnLoading: true\n      }); // document.getElementById(\"sendlink\").innerHTML = 'Please wait...';\n\n      $('.fullpageloader').show();\n      axios.patch('/api/auth/patch/setsendemailotpusingEmail/' + email, formValues).then(response => {\n        this.setState({\n          btnLoading: false\n        });\n        console.log('forgotpassword res===', response.data);\n\n        if (response.data.ID) {\n          localStorage.setItem('previousUrl', 'forgotpassword');\n          $('.fullpageloader').hide();\n          swal(\"OTP send to your registered email ID.\");\n          this.props.history.push('/confirm-otp/' + response.data.ID);\n        } else if (response.data.message == \"USER_BLOCK\") {\n          console.log(\"In USER_BLOCK\");\n          swal({\n            title: \"You are blocked by admin. Please contact Admin.\",\n            text: \"You are blocked by admin. Please contact Admin.\"\n          });\n          this.props.history.push('/login');\n        } else if (response.data.message == \"USER_UNVERIFIED\") {\n          console.log(\"In USER_UNVERIFIED\");\n          swal({\n            text: \"You have not verified your account. Please verify your account.\"\n          });\n          this.props.history.push('/login');\n        } else if (response.data.message == \"NOT_REGISTER\") {\n          console.log(\"In NOT_REGISTER\");\n          swal({\n            text: \"This email is not registered. Please do signup.\"\n          });\n          this.props.history.push('/login');\n        }\n      }).catch(error => {\n        document.getElementById(\"sendlink\").innerHTML = 'Reset Password';\n        swal(\"This Email ID is not registered\");\n        $('.fullpageloader').hide();\n      });\n    }\n  }\n\n  Closepagealert(event) {\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      className: \"container-fluid forgotPasswordWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"forgotPassword col-lg-4 col-lg-offset-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"forgotPasswordTitle col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Forgot Password ?\"), React.createElement(\"hr\", {\n      className: \"forgotPasswordHr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"forgotPasswordSentence col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Please enter your registered email address below to receive OTP\"), React.createElement(\"div\", {\n      className: \"col-lg-12 form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-addon forgotPasswordInputIcon1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-envelope\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"email\",\n      id: \"emailAddress\",\n      name: \"emailAddress\",\n      placeholder: \"Email Address\",\n      value: this.state.emailAddress,\n      onChange: this.handleChange.bind(this),\n      className: \"form-control forgotPasswordInputBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-12 buttonWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn col-lg-12 buttonSendOTP\",\n      onClick: this.handleSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Send OTP\")), React.createElement(\"div\", {\n      className: \"col-lg-12 forgotPasswordLinks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"forgotPasswordSignIn\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Sign In\"))))));\n  }\n\n}\n\nexport default ForgotPassword;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/candidateportal/src/systemSecurity/ForgotPassword.js"],"names":["React","Component","$","jQuery","axios","swal","ForgotPassword","constructor","props","state","bannerData","title","breadcrumb","backgroungImage","showMessage","btnLoading","componentDidMount","validation","sendLink","event","preventDefault","email","refs","emailLink","value","formValues","username","valid","setState","show","patch","then","response","console","log","data","ID","localStorage","setItem","hide","history","push","message","text","catch","error","document","getElementById","innerHTML","Closepagealert","html","removeClass","render","emailAddress","handleChange","bind","handleSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nclass ForgotPassword extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bannerData: {\n                title: \"MY SHOPPING CART\",\n                breadcrumb: 'My Shopping Cart',\n                backgroungImage: '/images/cartBanner.png',\n            },\n            showMessage : false,\n            btnLoading  : false\n        }\n    }\n    componentDidMount(){\n        this.validation();\n    }\n    sendLink(event) {\n        event.preventDefault();\n        \n        var email = this.refs.emailLink.value;\n        var formValues = {\n            username : email,\n            \"emailSubject\"\t: \"Email Verification\", \n\t\t\t\"emailContent\"  : \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\",\n        }\n        if($('#resetPass').valid()){\n             this.setState({ btnLoading: true });\n            // document.getElementById(\"sendlink\").innerHTML = 'Please wait...';\n            $('.fullpageloader').show();\n            axios.patch('/api/auth/patch/setsendemailotpusingEmail/'+email, formValues)\n            .then((response)=>{\n                this.setState({ btnLoading: false });\n\n                console.log('forgotpassword res===',response.data)\n                if (response.data.ID) {\n                    localStorage.setItem('previousUrl' ,'forgotpassword');\n                    $('.fullpageloader').hide();\n                    swal(\"OTP send to your registered email ID.\");\n                    this.props.history.push('/confirm-otp/'+response.data.ID);\n                } else if(response.data.message == \"USER_BLOCK\"){\n                    console.log(\"In USER_BLOCK\")\n                    swal({\n                      title: \"You are blocked by admin. Please contact Admin.\",\n                      text: \"You are blocked by admin. Please contact Admin.\"\n                    });\n                    this.props.history.push('/login');\n\n                  }else if(response.data.message == \"USER_UNVERIFIED\"){\n                    console.log(\"In USER_UNVERIFIED\")\n                    swal({\n                      text : \"You have not verified your account. Please verify your account.\"\n                    });\n                    this.props.history.push('/login');\n\n                  }else if(response.data.message == \"NOT_REGISTER\"){\n                    console.log(\"In NOT_REGISTER\")\n                    swal({\n                      text : \"This email is not registered. Please do signup.\"\n                    });\n                    this.props.history.push('/login');\n                    \n                  }\n\n            })\n            .catch((error)=>{\n                document.getElementById(\"sendlink\").innerHTML = 'Reset Password';\n                swal(\"This Email ID is not registered\");\n                $('.fullpageloader').hide();\n            })\n        }\n    }\n      Closepagealert(event){\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n\n  }\n\n   \n    render() {\n        return (\n            <section className=\"container-fluid forgotPasswordWrapper\">\n                <div className=\"forgotPassword col-lg-4 col-lg-offset-4\">\n                  <form>\n                    <div className=\"forgotPasswordTitle col-lg-12\">Forgot Password ?\n                    </div>\n\n                    <hr className=\"forgotPasswordHr\"/>\n\n                    <div className=\"forgotPasswordSentence col-lg-12\">\n                        Please enter your registered email address below to receive OTP\n                    </div>\n\n                    <div className=\"col-lg-12 form-group\" >\n                        <div className=\"input-group\">\n                            <span className=\"input-group-addon forgotPasswordInputIcon1\"><i className=\"fa fa-envelope\"></i></span>\n                            <input type=\"email\" id=\"emailAddress\" name=\"emailAddress\" placeholder=\"Email Address\" value={this.state.emailAddress} onChange={this.handleChange.bind(this)} className=\"form-control forgotPasswordInputBox\"/>\n                        </div>\n                    </div>\n\n                    \n\n                    <div className=\"col-lg-12 buttonWrapper\">\n                        <button className=\"btn col-lg-12 buttonSendOTP\" onClick={this.handleSubmit.bind(this)}>Send OTP</button>\n                    </div>\n\n                    <div className=\"col-lg-12 forgotPasswordLinks\">\n                        <a className=\"forgotPasswordSignIn\" href=\"#\"><u>Sign In</u></a>\n                      </div>\n                  </form>\n                </div>\n         </section>\n        )\n    }\n}\n\nexport default ForgotPassword;"]},"metadata":{},"sourceType":"module"}