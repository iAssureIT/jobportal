{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/candidateportal/src/candidateprofile/common/header/Header.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport $ from \"jquery\";\nimport axios from 'axios';\nimport { BrowserRouter, Route, Switch, Link, location } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport Rightsidebar from '../rightSidebar/Rightsidebar.js';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport './Header.css';\n\nclass Header2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedIn: false,\n      token: \"\",\n      showNotification: false,\n      inAppNotifications: [],\n      contractDetails: [],\n      notifCount: 0,\n      cogs: true,\n      empProfileStatus: true\n    };\n  }\n\n  componentDidMount() {\n    if (!$('body').hasClass('adminLte')) {\n      var adminLte = document.createElement(\"script\");\n      adminLte.type = \"text/javascript\";\n      adminLte.src = \"/js/adminLte.js\";\n      $(\"body\").append(adminLte);\n    }\n\n    $(\"html,body\").scrollTop(0);\n    const Token = localStorage.getItem(\"token\");\n    const user_ID = localStorage.getItem(\"user_ID\");\n    this.setState({\n      user_ID: user_ID\n    });\n    const email = localStorage.getItem(\"emailId\");\n    const fullname = localStorage.getItem(\"fullName\");\n    axios.get('/api/users/get/' + user_ID).then(res => {\n      this.setState({\n        email: res.data.email,\n        profileImage: res.data.image,\n        fullname: res.data.firstname + ' ' + res.data.lastname,\n        companyID: res.data.companyID,\n        companyName: res.data.companyName,\n        role: res.data.role,\n        token: Token\n      }, () => {\n        localStorage.setItem(\"companyName\", this.state.companyName);\n        localStorage.setItem(\"companyID\", this.state.companyID);\n        localStorage.setItem(\"roles\", this.state.role);\n        axios.get(\"/api/entitymaster/getCompany/\" + this.state.companyID).then(response => {\n          this.setState({\n            companyImage: response.data.companyLogo[0]\n          });\n          localStorage.setItem(\"company_Id\", response.data._id);\n        }).catch(error => {});\n      });\n    }).catch(err => {});\n    var company_Id = localStorage.getItem(\"company_Id\");\n    var contractID = \"\";\n    axios.get(\"/api/contract/get/one/entity/\" + company_Id).then(response => {\n      if (response.data.length > 0) {\n        var contractDetails = response.data[0];\n        axios.get(\"/api/entitymaster/get/one/\" + company_Id).then(response => {\n          if (response.data[0].profileStatus === \"New\" || contractDetails.status !== \"Approved\") {\n            this.setState({\n              cogs: false\n            });\n            $(\"body\").addClass(\"sidebar-mini sidebar-collapse\");\n          }\n        }).catch(error => {});\n      } else {\n        this.setState({\n          cogs: false\n        });\n      }\n    }).catch(error => {});\n    axios.get('/api/personmaster/get/details/' + user_ID).then(res => {\n      console.log(\"res empProfileStatus\", res);\n\n      if (res.data[0].profileStatus && res.data[0].profileStatus === \"New\") {\n        this.setState({\n          empProfileStatus: false\n        });\n      }\n    }).catch(err => {});\n    axios.get('/api/notifications/get/list/Unread/' + user_ID).then(notifications => {\n      this.setState({\n        inAppNotifications: notifications.data,\n        notifCount: notifications.data.length\n      });\n    }).catch(error => {});\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const user_ID = localStorage.getItem(\"user_ID\");\n    axios.get('/api/notifications/get/list/Unread/' + user_ID).then(notifications => {\n      this.setState({\n        inAppNotifications: notifications.data,\n        notifCount: notifications.data.length\n      });\n    }).catch(error => {});\n  }\n\n  componentWillUnmount() {\n    $(\"script[src='/js/adminLte.js']\").remove();\n    $(\"link[href='/css/dashboard.css']\").remove();\n  }\n\n  openNav() {\n    document.getElementById(\"mySidenav\").style.width = \"250px\";\n  }\n\n  closeNav() {\n    document.getElementById(\"mySidenav\").style.width = \"0\";\n  }\n\n  toggleLeftNav(event) {\n    event.preventDefault();\n    $('#sidebar').toggleClass('active');\n    $('#headerid').toggleClass('headereffect');\n    $('#dashbordid').toggleClass('dashboardeffect');\n    var sideBar = $(\"#sidebar\").hasClass(\"active\");\n    localStorage.setItem('sideBar', sideBar);\n  }\n\n  toggleNav(event) {\n    event.preventDefault();\n    var currentWidth = document.getElementById(\"mySidenav\").style.width;\n\n    if (currentWidth == \"230px\") {\n      document.getElementById(\"mySidenav\").style.width = \"0\";\n    } else {\n      document.getElementById(\"mySidenav\").style.width = \"230px\";\n    }\n  }\n\n  logout() {\n    var id = this.state.email;\n    var data = {};\n    data.email = id;\n    data.user_ID = this.state.user_ID;\n    data.token = this.state.token;\n    console.log(\"emailId\", data);\n    axios.patch('/api/auth/patch/logout', data).then(res => {\n      console.log(\"response\", res); // this.props.history.push(\"/ViewAllNotification\");\n    }).catch(err => {\n      console.log(err);\n    });\n    $(\"script[src='/js/adminLte.js']\").remove();\n    $(\"link[href='/css/dashboard.css']\").remove();\n    var token = localStorage.removeItem(\"token\");\n\n    if (token !== null) {\n      this.setState({\n        loggedIn: false\n      }, () => {\n        localStorage.removeItem(\"emailId\");\n        localStorage.removeItem(\"center_ID\");\n        localStorage.removeItem(\"centerName\");\n        localStorage.removeItem(\"fullName\");\n      });\n    }\n  }\n\n  LogoutSectionHover(event) {\n    $(\".colorboxbefore\").toggleClass(\"colorbox\");\n    $('.showme').toggle();\n  }\n\n  bellNotification(event) {\n    $('.bellnotification').toggle();\n    const user_ID = localStorage.getItem(\"user_ID\");\n    axios.get('/api/notifications/get/list/Unread/' + user_ID).then(notifications => {\n      // console.log('notifications: ',notifications)\n      this.setState({\n        inAppNotifications: notifications.data,\n        notifCount: notifications.data.length\n      });\n    }).catch(error => {});\n  }\n\n  viewAll(id, event) {\n    // $('.bellnotification').toggle();\n    axios.put('/api/notifications/put/' + id).then(res => {\n      this.props.history.push(\"/ViewAllNotification\");\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  showDropdown(event) {\n    $(\"#showhide\").addClass(\"showhim\");\n    $(\"#showhidearrow\").addClass(\"showhim\");\n  }\n\n  hideDropdown(event) {\n    $(\"#showhide\").removeClass(\"showhim\");\n    $(\"#showhidearrow\").removeClass(\"showhim\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"main-header newMain-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      className: \"logo logoOne\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"logo-mini\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.companyImage ? this.state.companyImage : \"/images/noImagePreview.png\",\n      className: \"shortlogo strong\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"logo-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"headerImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }\n    }, localStorage.getItem(\"companyName\")))), /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-static-top\",\n      role: \"navigation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }\n    }, this.state.cogs ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-4 col-sm-4 col-xs-4 padd0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      className: \"sidebar-toggle marginTop11 marginLeft12\",\n      \"data-toggle\": \"push-menu\",\n      role: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }\n    }, \"Toggle navigation\"))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-8 col-sm-8 col-xs-8 padd0 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 13\n      }\n    }, this.state.cogs && this.state.empProfileStatus ? /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.toggleNav.bind(this),\n      className: \"col-lg-1 col-md-1 col-sm-1 col-xs-1 pull-right nopadding textAlignCenter onHoverEffect hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 19\n      }\n    }, localStorage.getItem(\"roles\").indexOf(\"vendoradmin\") > -1 ? /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-cogs headicon \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 21\n      }\n    }) : null) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-8 col-sm-8 col-xs-8 pull-right padd0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-8 col-sm-8 col-xs-8 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-2 col-sm-2 col-xs-2 bell_Icon dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-bell btn dropdown-toggle\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"badge bg-warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 21\n      }\n    }, this.state.notifCount), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 dropdown-menu bellnotification\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 23\n      }\n    }, \"You have \", this.state.notifCount, \" notifications\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profiledetails\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 23\n      }\n    }, this.state.inAppNotifications && this.state.inAppNotifications.length > 0 ? this.state.inAppNotifications.map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"msgborderbtm\",\n        key: index,\n        id: data._id,\n        onClick: this.viewAll.bind(this, data._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: data.notifBody\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 33\n        }\n      }));\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 31\n      }\n    }, \"You have no notifications\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-9 col-md-7 col-sm-9 col-xs-12  hover logoutAct pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row hover\",\n      onClick: this.LogoutSectionHover.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 colorboxbefore hoverText onHoverEffect \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"col-lg-11 nopadding \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.profileImage ? this.state.profileImage : \"/images/person.png\",\n      className: \"userIcon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"mailtext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 27\n      }\n    }, \"\\xA0\\xA0\\xA0\", this.state.fullname ? this.state.fullname : \"\")), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"textAlignCenter\",\n      style: {\n        \"marginTop\": \"4px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 user-footer showme NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  headerImageContainer padd0 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pull-right fntC1\",\n      style: {\n        \"cursor\": \"pointer\"\n      },\n      title: \"Close\",\n      onClick: this.LogoutSectionHover.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 27\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 153\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" marLeft \",\n      style: {\n        \"backgroundImage\": `url(` + (this.state.profileImage ? this.state.profileImage : \"/images/person.png\") + `)`,\n        \"height\": \"40%\",\n        \"backgroundSize\": \"41% 100%\",\n        \"background-repeat\": \"no-repeat\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-6 col-sm-12 col-xs-12 marTop pull-right  padd0 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"nomargin dropmailtext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 29\n      }\n    }, this.state.fullname ? this.state.fullname : \"\"), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \" dropmailtext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 29\n      }\n    }, \" \", this.state.email ? this.state.email : \"\"), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \" dropmailtext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 29\n      }\n    }, \" \", this.state.companyName ? this.state.companyName + \"( \" + this.state.companyID + \" )\" : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btnDiv col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"profileTitle btnpadd\",\n      href: \"/my-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"profilebtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 31\n      }\n    }, \"Profile\"))), \" \\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"profileTitle btnpadd\",\n      href: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"logoutbtn\",\n      onClick: this.logout.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 31\n      }\n    }, \"Sign Out\")))))))))))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"mySidenav\",\n      className: \"sidenav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Rightsidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default withRouter(Header2);\n/*\nhref={\"/Profile/\"+ Meteor.userId()}*/","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/candidateportal/src/candidateprofile/common/header/Header.js"],"names":["React","Component","render","$","axios","BrowserRouter","Route","Switch","Link","location","withRouter","Rightsidebar","Header2","constructor","props","state","loggedIn","token","showNotification","inAppNotifications","contractDetails","notifCount","cogs","empProfileStatus","componentDidMount","hasClass","adminLte","document","createElement","type","src","append","scrollTop","Token","localStorage","getItem","user_ID","setState","email","fullname","get","then","res","data","profileImage","image","firstname","lastname","companyID","companyName","role","setItem","response","companyImage","companyLogo","_id","catch","error","err","company_Id","contractID","length","profileStatus","status","addClass","console","log","notifications","componentWillReceiveProps","nextProps","componentWillUnmount","remove","openNav","getElementById","style","width","closeNav","toggleLeftNav","event","preventDefault","toggleClass","sideBar","toggleNav","currentWidth","logout","id","patch","removeItem","LogoutSectionHover","toggle","bellNotification","viewAll","put","history","push","showDropdown","hideDropdown","removeClass","bind","indexOf","map","index","__html","notifBody"],"mappings":"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","sourcesContent":["import React,{Component}                              from 'react';\nimport { render }                                     from 'react-dom';\nimport $                                              from \"jquery\";\nimport axios from 'axios';\nimport { BrowserRouter, Route, Switch,Link,location } from 'react-router-dom';\nimport { withRouter }           from 'react-router-dom';\n\nimport Rightsidebar from '../rightSidebar/Rightsidebar.js';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css'; \nimport './Header.css';\n\n\nclass Header2 extends Component{\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedIn: false,\n      token: \"\",\n      showNotification: false,\n      inAppNotifications:[],\n      contractDetails:[],\n      notifCount:0,\n      cogs : true, \n      empProfileStatus : true, \n    }\n  }\n\n  componentDidMount(){\n    if ( !$('body').hasClass('adminLte')) {\n      var adminLte = document.createElement(\"script\");\n      adminLte.type=\"text/javascript\";\n      adminLte.src = \"/js/adminLte.js\";\n      $(\"body\").append(adminLte);\n    }\n    $(\"html,body\").scrollTop(0);\n\n    const Token = localStorage.getItem(\"token\");\n    const user_ID = localStorage.getItem(\"user_ID\");\n    this.setState({\n      user_ID : user_ID\n    });\n    const email = localStorage.getItem(\"emailId\");\n    const fullname = localStorage.getItem(\"fullName\");\n    axios.get('/api/users/get/' + user_ID)\n      .then((res) => {\n        this.setState({\n          email: res.data.email,\n          profileImage: res.data.image,\n          fullname: res.data.firstname+' '+res.data.lastname,\n          companyID : res.data.companyID,\n          companyName : res.data.companyName,\n          role : res.data.role,\n          token : Token\n\n        },()=>{\n          localStorage.setItem(\"companyName\",this.state.companyName);\n          localStorage.setItem(\"companyID\",this.state.companyID);\n          localStorage.setItem(\"roles\",this.state.role)\n          axios.get(\"/api/entitymaster/getCompany/\"+this.state.companyID)\n            .then((response) => {\n              this.setState({\n                companyImage:response.data.companyLogo[0]\n              })\n                localStorage.setItem(\"company_Id\",response.data._id);\n            })\n            .catch((error) => {\n            })\n        });\n    })\n    .catch((err) => {\n    })\n    var company_Id = localStorage.getItem(\"company_Id\");\n    var contractID =\"\";\n\n    axios.get(\"/api/contract/get/one/entity/\" + company_Id)\n    .then((response) => {\n        if(response.data.length>0){\n            var contractDetails = response.data[0];\n             axios.get(\"/api/entitymaster/get/one/\"+company_Id)\n            .then((response)=>{\n                if(response.data[0].profileStatus === \"New\" || contractDetails.status !== \"Approved\"){\n                    this.setState({\n                        cogs:false\n                    })\n                    $(\"body\").addClass(\"sidebar-mini sidebar-collapse\");\n                }\n            })\n            .catch((error)=>{})\n        }else{\n            this.setState({\n                cogs:false\n            })\n        }\n    })\n    .catch((error) => {})\n\n     axios.get('/api/personmaster/get/details/' + user_ID)\n      .then((res) => {\n        console.log(\"res empProfileStatus\",res)\n        if(res.data[0].profileStatus && res.data[0].profileStatus === \"New\" )\n        {\n          this.setState({\n            empProfileStatus : false\n          })\n        }\n        \n      })\n      .catch((err) => {\n      })\n\n\n    axios.get('/api/notifications/get/list/Unread/'+user_ID)\n    .then(notifications => {\n        this.setState({ \n          inAppNotifications: notifications.data,\n          notifCount: notifications.data.length\n        })\n    })\n    .catch(error => {\n    })\n    }\n\n    componentWillReceiveProps(nextProps){\n        const user_ID = localStorage.getItem(\"user_ID\");\n        axios.get('/api/notifications/get/list/Unread/'+user_ID)\n        .then(notifications => {\n            this.setState({ inAppNotifications: notifications.data,notifCount: notifications.data.length })\n            })\n        .catch(error => {\n        })\n    }\n    componentWillUnmount(){\n        $(\"script[src='/js/adminLte.js']\").remove();\n        $(\"link[href='/css/dashboard.css']\").remove();\n    }\n\n    openNav() {\n        document.getElementById(\"mySidenav\").style.width = \"250px\";\n    }\n\n    closeNav() {\n        document.getElementById(\"mySidenav\").style.width = \"0\";\n    }\n\n    toggleLeftNav(event) {\n        event.preventDefault()\n        $('#sidebar').toggleClass('active')\n        $('#headerid').toggleClass('headereffect');\n        $('#dashbordid').toggleClass('dashboardeffect')\n        var sideBar = $(\"#sidebar\").hasClass(\"active\")\n        localStorage.setItem('sideBar', sideBar);\n\n    }\n\n    toggleNav(event) {\n        event.preventDefault()\n        var currentWidth = document.getElementById(\"mySidenav\").style.width;\n        if (currentWidth == \"230px\") {\n          document.getElementById(\"mySidenav\").style.width = \"0\";\n        } else {\n          document.getElementById(\"mySidenav\").style.width = \"230px\";\n        }\n    }\n\n    logout() {\n      var id = this.state.email;\n        var data={};\n        data.email = id;\n        data.user_ID =this.state.user_ID;\n        data.token = this.state.token;\n        console.log(\"emailId\",data);\n        axios.patch('/api/auth/patch/logout',data)\n        .then((res)=>{\n          console.log(\"response\",res);\n          // this.props.history.push(\"/ViewAllNotification\");\n        })\n        .catch((err)=>{\n          console.log(err)\n        })\n        $(\"script[src='/js/adminLte.js']\").remove();\n        $(\"link[href='/css/dashboard.css']\").remove();\n        var token = localStorage.removeItem(\"token\");\n\n        if (token !== null) {\n          this.setState({\n            loggedIn: false\n          }, () => {\n            localStorage.removeItem(\"emailId\")\n            localStorage.removeItem(\"center_ID\")\n            localStorage.removeItem(\"centerName\")\n            localStorage.removeItem(\"fullName\")\n          }) \n        }\n        \n    }\n    LogoutSectionHover(event) {\n        $(\".colorboxbefore\").toggleClass(\"colorbox\");\n        $('.showme').toggle();\n    }\n\n    bellNotification(event) {\n        $('.bellnotification').toggle();\n        const user_ID = localStorage.getItem(\"user_ID\");\n        axios.get('/api/notifications/get/list/Unread/'+user_ID)\n        .then(notifications => {\n        // console.log('notifications: ',notifications)\n        this.setState({ inAppNotifications: notifications.data,notifCount: notifications.data.length })\n        })\n        .catch(error => {\n        })\n    }\n    viewAll(id,event){\n        // $('.bellnotification').toggle();\n        axios.put('/api/notifications/put/'+id)\n        .then((res)=>{\n          this.props.history.push(\"/ViewAllNotification\");\n        })\n        .catch((err)=>{\n          console.log(err)\n        })\n    }\n    showDropdown(event)\n    {\n        $(\"#showhide\").addClass(\"showhim\");\n        $(\"#showhidearrow\").addClass(\"showhim\");\n    }\n    hideDropdown(event)\n    {\n        $(\"#showhide\").removeClass(\"showhim\");\n        $(\"#showhidearrow\").removeClass(\"showhim\");\n    }\n\n  render(){\n    return(\n      <div className=\"\">\n        <header className=\"main-header newMain-header\">\n          <a href=\"javascript:void(0)\" className=\"logo logoOne\">\n            <span className=\"logo-mini\">\n              <img src={ this.state.companyImage ? this.state.companyImage : \"/images/noImagePreview.png\"} className=\"shortlogo strong\"/>\n            </span>\n            <span className=\"logo-lg\">\n                <label  className=\"headerImage\">{localStorage.getItem(\"companyName\")}</label>\n            </span>\n          </a>\n          <nav className=\"navbar navbar-static-top\" role=\"navigation\">\n            {\n              this.state.cogs ?  \n              <div className=\"col-lg-3 col-md-4 col-sm-4 col-xs-4 padd0\">\n                <a href=\"javascript:void(0)\" className=\"sidebar-toggle marginTop11 marginLeft12\" data-toggle=\"push-menu\" role=\"button\">\n                    <span className=\"sr-only\">\n                      Toggle navigation\n                    </span>\n                </a>\n              </div>\n               :\n                null\n            }\n            <div className=\"col-lg-6 col-md-8 col-sm-8 col-xs-8 padd0 pull-right\">\n            {\n              this.state.cogs && this.state.empProfileStatus?\n                  <div onClick={this.toggleNav.bind(this)} className=\"col-lg-1 col-md-1 col-sm-1 col-xs-1 pull-right nopadding textAlignCenter onHoverEffect hover\">\n                    { localStorage.getItem(\"roles\").indexOf(\"vendoradmin\")>-1  ?\n                    <i className=\"fa fa-cogs headicon \"></i>\n                    :\n                    null\n                    }\n                  </div>\n                :\n                null\n            }\n              <div className=\"col-lg-8 col-md-8 col-sm-8 col-xs-8 pull-right padd0\">\n                <div className=\"col-lg-8 col-md-8 col-sm-8 col-xs-8 pull-right\">\n                  <div className=\"col-lg-2 col-md-2 col-sm-2 col-xs-2 bell_Icon dropdown\">\n                    <i className=\"fa fa-bell btn dropdown-toggle\" data-toggle=\"dropdown\" aria-hidden=\"true\"></i>\n                    <span className=\"badge bg-warning\">{this.state.notifCount}</span>\n                    <div className=\"col-lg-12 col-md-12 dropdown-menu bellnotification\">\n                      <p>You have {this.state.notifCount} notifications</p>\n                      <div className=\"profiledetails\">\n                        {this.state.inAppNotifications && this.state.inAppNotifications.length > 0 ?\n                            this.state.inAppNotifications.map((data, index) => {\n                              return (\n                                <div className=\"msgborderbtm\" key={index} id={data._id} onClick={this.viewAll.bind(this,data._id)}>\n                                <div dangerouslySetInnerHTML={{ __html: data.notifBody }} />\n                                </div>\n                              )\n                            })\n                           \n                          :\n                          <div >\n                            <div>\n                              <p>You have no notifications</p>\n                            </div>\n\n                          </div>\n                        }\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"col-lg-9 col-md-7 col-sm-9 col-xs-12  hover logoutAct pull-right\">\n                    <div className=\"row hover\" onClick={this.LogoutSectionHover.bind(this)}>\n                      <span className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 colorboxbefore hoverText onHoverEffect \">\n                        <span className=\"col-lg-11 nopadding \">\n                          <img src={this.state.profileImage ? this.state.profileImage : \"/images/person.png\"} className=\"userIcon\"/>\n                          <label className=\"mailtext\">&nbsp;&nbsp;&nbsp;{this.state.fullname ? this.state.fullname: \"\"}</label>\n                        </span>\n                        <span className=\"textAlignCenter\" style={{\"marginTop\": \"4px\"}}>\n                        </span>\n                      </span>\n                    </div>\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 user-footer showme NOpadding\">\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding \" >\n                        \n                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  headerImageContainer padd0 \">\n                          <p className=\"pull-right fntC1\" style={{\"cursor\":\"pointer\"}} title=\"Close\"  onClick={this.LogoutSectionHover.bind(this)}>X</p><br/>\n                            <div className=\" marLeft \"  style={{\"backgroundImage\":`url(`+ (this.state.profileImage ? this.state.profileImage : \"/images/person.png\")+`)`, \"height\": \"40%\", \"backgroundSize\":\"41% 100%\",\"background-repeat\": \"no-repeat\"}}></div>\n                          <div className=\"col-lg-12 col-md-6 col-sm-12 col-xs-12 marTop pull-right  padd0 \">\n                            <h5 className=\"nomargin dropmailtext\">\n                              {this.state.fullname ? this.state.fullname : \"\"}\n                            </h5>\n                            <h6 className=\" dropmailtext\"> {this.state.email ? this.state.email : \"\"}</h6>\n                            <h6 className=\" dropmailtext\"> {this.state.companyName ? this.state.companyName + \"( \" + this.state.companyID+ \" )\": \"\"}</h6>\n                          </div>\n                        </div>\n                        <div className=\"btnDiv col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          <span className=\"\">\n                            {/*<a className=\"profileTitle btnpadd\" href={\"/profile/\"+localStorage.getItem('user_ID')}>*/}\n                            <a className=\"profileTitle btnpadd\" href={\"/my-profile\"}>\n                              <button type=\"button\" className=\"profilebtn\">Profile</button>\n                            </a>\n                          </span> &nbsp;\n                          <span className=\"pull-right\">\n                            <a className=\"profileTitle btnpadd\" href=\"/login\">\n                              <button type=\"button\" className=\"logoutbtn\" onClick={this.logout.bind(this)}>Sign Out</button>\n                            </a>\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </nav>\n        </header>\n        <div id=\"mySidenav\" className=\"sidenav\">\n          <Rightsidebar />\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(Header2);\n/*\nhref={\"/Profile/\"+ Meteor.userId()}*/"]},"metadata":{},"sourceType":"module"}