{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/candidateportal/src/coreadmin/NotificationManagement/NotificationTemplate.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport moment from 'moment';\nimport swal from 'sweetalert';\nimport { withRouter } from 'react-router-dom';\nimport 'bootstrap/js/tab.js';\nimport './NotificationTemplate.css';\nimport './notification.css';\nimport TemplateList from './TemplateList.js';\nimport CreateTemplate from './CreateTemplate.js';\n\nclass NotificationTemplate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      type: 'Email',\n      roleArray: [],\n      eventArray: [],\n      filterStatus: '',\n      filterEvent: '',\n      filterRole: '',\n      filterCompany: 'All',\n      TemplatesListCount: 0,\n      filteredTemplatesCount: 0,\n      filteredSelectors: \"\",\n      selector: {},\n      selectorOn: false\n    };\n  }\n\n  componentDidMount() {\n    this.getAllEvents();\n    this.getRoles();\n    this.getCompany();\n    this.getData('Email');\n  }\n\n  getAllEvents() {\n    axios.post('/api/EventToken/list').then(response => {\n      this.setState({\n        eventArray: response.data\n      });\n    }).catch(function (error) {});\n  }\n\n  getRoles() {\n    var data = {\n      \"startRange\": 0,\n      \"limitRange\": 100000\n    };\n    axios.post('/api/roles/get/list', data).then(response => {\n      this.setState({\n        roleArray: response.data\n      }, () => {});\n    }).catch(function (error) {});\n  }\n\n  getCompany() {\n    axios.get('/api/entitymaster/getAllEntities').then(response => {\n      this.setState({\n        companyArray: response.data\n      }, () => {});\n    }).catch(function (error) {});\n  }\n\n  getData(type) {\n    axios.get('/api/masternotifications/get/listByType/' + type).then(response => {\n      if (response.data) {\n        this.setState({\n          TemplatesListCount: response.data.length\n        });\n      } else {\n        this.setState({\n          TemplatesListCount: 0\n        });\n      }\n    }).catch(err => {\n      console.log('error: ', err);\n    });\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    var value = event.target.value;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  getType(type) {\n    this.setState({\n      type: type\n    });\n  }\n\n  clickTab(value) {\n    this.setState({\n      type: value\n    }, () => {\n      if (this.state.selectorOn) {\n        this.getFilteredTemplate(this.state.selector);\n      } else {\n        this.getData(value);\n      }\n    });\n  }\n\n  selectFilter(event) {\n    $(\".filterWrapper\").toggle();\n  }\n\n  resetFilter(event) {\n    event.preventDefault();\n    this.setState({\n      filterStatus: '',\n      filterEvent: '',\n      filterRole: '',\n      filterCompany: 'All',\n      filteredTemplatesCount: 0,\n      filteredSelectors: \"\",\n      selector: {},\n      selectorOn: false\n    }, () => {\n      this.getData(this.state.type);\n    });\n  }\n\n  onSelectedItemsChange(filterType, selecteditems) {\n    console.log('inside selector==>', filterType, selecteditems.currentTarget.value);\n    var selector = this.state.selector;\n    this.setState({\n      [selecteditems.currentTarget.getAttribute('name')]: selecteditems.currentTarget.value\n    });\n\n    if (filterType === 'filterEvent') {\n      selector.filterEvent = selecteditems.currentTarget.value;\n    }\n\n    if (filterType === 'filterRole') {\n      selector.filterRole = selecteditems.currentTarget.value;\n    }\n\n    if (filterType === 'filterStatus') {\n      selector.filterStatus = selecteditems.currentTarget.value;\n    }\n\n    if (filterType === 'filterCompany') {\n      selector.filterCompany = selecteditems.currentTarget.value;\n    }\n\n    this.setState({\n      selector: selector,\n      selectorOn: true\n    }, () => {\n      this.getFilteredTemplate(this.state.selector);\n    });\n  }\n\n  getFilteredTemplate(selector) {\n    console.log('selector:', selector);\n    axios.post(\"/api/masternotifications/get/filterTemplate/\" + this.state.type, selector).then(response => {\n      if (response.data) {\n        this.setState({\n          filteredTemplatesCount: response.data.length,\n          filteredSelectors: selector\n        });\n      } else {\n        this.setState({\n          filteredTemplatesCount: 0,\n          filteredSelectors: \"\"\n        });\n      }\n    }).catch(error => {});\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-8 col-md-8 col-xs-8 col-sm-8 NOpadding-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Notification Management\")), React.createElement(\"section\", {\n      className: \"Content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mrgTp1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"pull-right btn btn-primary btn-sm btn_oval col-lg-3 col-md-3\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#createNotifyModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }), \"\\xA0\\xA0Create New Template\"), React.createElement(CreateTemplate, {\n      getType: this.getType.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-12 col-sm-12 col-xs-12 nopadding rowPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \" selectFilterBtn reset\",\n      onClick: this.selectFilter.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }), \"\\xA0\\xA0\", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \" SELECT FILTER\"))), React.createElement(\"h5\", {\n      className: \"box-title2 col-lg-2 col-md-11 col-sm-11 col-xs-12 nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Total Records :\\xA0\\xA0\", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, this.state.TemplatesListCount)), React.createElement(\"h5\", {\n      className: \"box-title2 col-lg-2 col-md-11 col-sm-11 col-xs-12 nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Filtered :\\xA0\\xA0\", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, this.state.filteredTemplatesCount))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding firstElement filterWrapper rowPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-12 col-sm-12 col-xs-12 nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"reset selheight\",\n      onClick: this.resetFilter.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"RESET FILTERS\")), React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-12 col-xs-12 col-sm-12 nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      id: \"filterEvent\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.filterEvent,\n      ref: \"filterEvent\",\n      name: \"filterEvent\",\n      onChange: this.onSelectedItemsChange.bind(this, 'filterEvent'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      className: \"fontAjt\",\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Select Event\"), this.state.eventArray && this.state.eventArray.length > 0 ? this.state.eventArray.map((data, index) => {\n      return React.createElement(\"option\", {\n        key: index,\n        value: data.templateName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, data.templateName);\n    }) : React.createElement(\"option\", {\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"No Event Added Yet\"))), React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-12 col-xs-12 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      id: \"filterRole\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.filterRole,\n      ref: \"filterRole\",\n      name: \"filterRole\",\n      onChange: this.onSelectedItemsChange.bind(this, 'filterRole'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      className: \"fontAjt\",\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Select Role\"), this.state.roleArray && this.state.roleArray.length > 0 ? this.state.roleArray.map((data, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: data.role,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, data.role, \" \");\n    }) : null)), React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-12 col-xs-12 col-sm-12 nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      id: \"filterStatus\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.filterStatus,\n      ref: \"filterStatus\",\n      name: \"filterStatus\",\n      onChange: this.onSelectedItemsChange.bind(this, 'filterStatus'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      className: \"fontAjt\",\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"Select Status\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \" active \"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \" inactive \"))), React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-12 col-xs-12 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      id: \"filterCompany\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.filterCompany,\n      ref: \"filterCompany\",\n      name: \"filterCompany\",\n      onChange: this.onSelectedItemsChange.bind(this, 'filterCompany'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      className: \"fontAjt\",\n      disabled: true,\n      value: \"All\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"Select Company\"), this.state.companyArray && this.state.companyArray.length > 0 ? this.state.companyArray.map((data, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: data._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, data.companyName, \" \");\n    }) : null))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mrgTp1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav nav-pills nav-justified\",\n      id: \"navContents\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"active\",\n      onClick: this.clickTab.bind(this, 'Email'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-toggle\": \"tab\",\n      href: \"#email\",\n      role: \"tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Email\")), React.createElement(\"li\", {\n      onClick: this.clickTab.bind(this, 'SMS'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-toggle\": \"tab\",\n      href: \"#sms\",\n      role: \"tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"SMS\")), React.createElement(\"li\", {\n      onClick: this.clickTab.bind(this, 'Notification'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-toggle\": \"tab\",\n      href: \"#notification\",\n      role: \"tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Notification\"))), React.createElement(\"div\", {\n      className: \"tab-content\",\n      id: \"nav-tabContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-pane fade in active\",\n      id: \"email\",\n      role: \"tabpanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(TemplateList, {\n      type: this.state.type,\n      filteredSelectors: this.state.filteredSelectors,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"tab-pane fade\",\n      id: \"sms\",\n      role: \"tabpanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(TemplateList, {\n      type: this.state.type,\n      filteredSelectors: this.state.filteredSelectors,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"tab-pane fade\",\n      id: \"notification\",\n      role: \"tabpanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(TemplateList, {\n      type: this.state.type,\n      filteredSelectors: this.state.filteredSelectors,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }))))))))))));\n  }\n\n}\n\nexport default NotificationTemplate;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/candidateportal/src/coreadmin/NotificationManagement/NotificationTemplate.js"],"names":["React","Component","$","jQuery","axios","moment","swal","withRouter","TemplateList","CreateTemplate","NotificationTemplate","constructor","props","state","type","roleArray","eventArray","filterStatus","filterEvent","filterRole","filterCompany","TemplatesListCount","filteredTemplatesCount","filteredSelectors","selector","selectorOn","componentDidMount","getAllEvents","getRoles","getCompany","getData","post","then","response","setState","data","catch","error","get","companyArray","length","err","console","log","handleChange","event","preventDefault","target","name","value","getType","clickTab","getFilteredTemplate","selectFilter","toggle","resetFilter","onSelectedItemsChange","filterType","selecteditems","currentTarget","getAttribute","render","bind","map","index","templateName","i","role","_id","companyName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $                    from 'jquery';\nimport jQuery               from 'jquery';\nimport axios                from 'axios';\nimport moment               from 'moment';\nimport swal                 from 'sweetalert';\nimport { withRouter }       from 'react-router-dom';\nimport 'bootstrap/js/tab.js';\nimport './NotificationTemplate.css';\nimport './notification.css';\n\nimport TemplateList from './TemplateList.js';\nimport CreateTemplate from './CreateTemplate.js';\n\n\nclass NotificationTemplate extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            type:'Email',\n\t\t\troleArray:[],\n\t\t\teventArray:[],\n\t\t\tfilterStatus:'',\n\t\t\tfilterEvent:'',\n\t\t\tfilterRole:'',\n\t\t\tfilterCompany:'All',\n\t\t\tTemplatesListCount : 0,\n\t\t\tfilteredTemplatesCount : 0,\n\t\t\tfilteredSelectors : \"\",\n\t\t\tselector : {},\n\t\t\tselectorOn:false\n        };\n    }\n\n    componentDidMount(){\n    \tthis.getAllEvents();\n    \tthis.getRoles();\n    \tthis.getCompany();\n    \tthis.getData('Email')\n    }\n\n    getAllEvents() {\n\t    axios.post('/api/EventToken/list')\n\t      .then((response) => {\n\t        this.setState({\n\t          eventArray: response.data\n\t        })\n\t      }).catch(function (error) {\n\t      });\n    }\n\n    getRoles() {\n        var data = {\n\t      \"startRange\": 0,\n\t      \"limitRange\": 100000,\n\t    }\n\t    axios.post('/api/roles/get/list', data)\n\t      .then((response) => {\n\t        this.setState({\n\t          roleArray: response.data\n\t        }, () => {\n\t        })\n\t      }).catch(function (error) {\n\t      });\n    }\n    getCompany() {\n\t    axios.get('/api/entitymaster/getAllEntities')\n\t      .then((response) => {\n\t        this.setState({\n\t          companyArray: response.data\n\t        }, () => {\n\t        })\n\t      }).catch(function (error) {\n\t      });\n    }\n    \n    getData(type){\n    \taxios.get('/api/masternotifications/get/listByType/'+type)\n       .then((response) => {\n         if(response.data){ \n            this.setState({\n                TemplatesListCount:response.data.length\n            })\n          }else{\n          \tthis.setState({\n                TemplatesListCount:0\n            })\n          }\n        })\n       .catch((err)=>{console.log('error: ',err)})\n    }\n\n    handleChange(event) {\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n        var value = event.target.value;\n        this.setState({\n            [name]: event.target.value\n        });\n    }\n\n    getType(type){\n       this.setState({type:type})\n    }\n\n    clickTab(value){\n\t\tthis.setState({type:value},()=>{\n\t\t\tif(this.state.selectorOn){\n\t\t\t\tthis.getFilteredTemplate(this.state.selector);\n\t\t\t}else{\n\t\t\t\tthis.getData(value)\n\t\t\t}\n\t\t\n\t\t})\n    }\n\n    selectFilter(event){\n\t\t$(\".filterWrapper\").toggle();\n\t}\n\n\tresetFilter(event) {\n\t\tevent.preventDefault();\n\t\tthis.setState({\n\t\t\tfilterStatus:'',\n\t\t\tfilterEvent:'',\n\t\t\tfilterRole:'',\n\t\t\tfilterCompany:'All',\n\t\t\tfilteredTemplatesCount:0,\n\t\t\tfilteredSelectors: \"\",\n\t\t\tselector:{},\n\t\t\tselectorOn:false\n\t\t},()=>{\n\t\t\tthis.getData(this.state.type)\n\t\t})\n\t}\n\n\tonSelectedItemsChange(filterType, selecteditems){\n\t\tconsole.log('inside selector==>',filterType,selecteditems.currentTarget.value)\n\t\tvar selector=this.state.selector;\n\t\tthis.setState({\n\t      [selecteditems.currentTarget.getAttribute('name')]: selecteditems.currentTarget.value\n\t    });\n\t\t\n\t\tif(filterType === 'filterEvent'){\n\t\t\tselector.filterEvent  = selecteditems.currentTarget.value; \n\t\t}\n\t\tif(filterType === 'filterRole'){\n\t\t\tselector.filterRole  = selecteditems.currentTarget.value; \n\t\t}\n\t\tif(filterType === 'filterStatus'){\n\t\t\tselector.filterStatus  = selecteditems.currentTarget.value; \n\t\t}\n\t\tif(filterType === 'filterCompany'){\n\t\t\tselector.filterCompany  = selecteditems.currentTarget.value; \n\t\t}\n\t\tthis.setState({\tselector: selector,selectorOn:true },()=>{\n\t\t\tthis.getFilteredTemplate(this.state.selector);\n\t\t})\n\t}\n\tgetFilteredTemplate(selector){\n\t\tconsole.log('selector:',selector)\n\t\taxios.post(\"/api/masternotifications/get/filterTemplate/\"+this.state.type,selector)\n\t\t.then((response) => {\n\t\t  if(response.data){ \n            this.setState({\n                filteredTemplatesCount:response.data.length,\n                filteredSelectors:selector\n            })\n          }else{\n          \tthis.setState({\n                filteredTemplatesCount:0,\n                filteredSelectors:\"\"\n            })\n          }\n\t\t})\n\t\t.catch((error) => {\n\t\t})\n\t}\n\n\t    \n    render() {\n        return (\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <div className=\"row\">\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\n                        <section className=\"content\">\n                            <div className=\"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                                    <h4 className=\"weighttitle col-lg-8 col-md-8 col-xs-8 col-sm-8 NOpadding-right\">Notification Management</h4>\n                                </div>\n                                <section className=\"Content\">\n                                    <div className=\"row\">\n                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                        \t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mrgTp1\">\n                                            \t<button className=\"pull-right btn btn-primary btn-sm btn_oval col-lg-3 col-md-3\" data-toggle=\"modal\" data-target=\"#createNotifyModal\"><i className=\"fa fa-plus\" aria-hidden=\"true\"></i>&nbsp;&nbsp;Create New Template</button>\n                                            \t<CreateTemplate getType={this.getType.bind(this)} />\n   \t\t\t\t\t\t\t\t\t\t\t</div>\n   \t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 nopadding\">\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-12 col-sm-12 col-xs-12 nopadding rowPadding\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\" selectFilterBtn reset\" onClick={this.selectFilter.bind(this)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-filter\"></i>&nbsp;&nbsp;<b> SELECT FILTER</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"box-title2 col-lg-2 col-md-11 col-sm-11 col-xs-12 nopadding\">Total Records :&nbsp;&nbsp;<b>{this.state.TemplatesListCount}</b></h5>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"box-title2 col-lg-2 col-md-11 col-sm-11 col-xs-12 nopadding\">Filtered :&nbsp;&nbsp;<b>{this.state.filteredTemplatesCount}</b></h5>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding firstElement filterWrapper rowPadding\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-md-12 col-sm-12 col-xs-12 nopadding\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"reset selheight\" onClick={this.resetFilter.bind(this)}>RESET FILTERS</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-md-12 col-xs-12 col-sm-12 nopadding\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select id=\"filterEvent\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.filterEvent} ref=\"filterEvent\" name=\"filterEvent\" onChange={this.onSelectedItemsChange.bind(this,'filterEvent')}>\n\t                                                        <option className=\"fontAjt\" disabled value=\"\">Select Event</option>\n\t                                                       {this.state.eventArray && this.state.eventArray.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t                \tthis.state.eventArray.map((data,index)=>{\n\t\t\t\t\t\t\t\t\t\t\t                \t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t                \t\t\t<option key={index} value={data.templateName}>{data.templateName}</option>\n\t\t\t\t\t\t\t\t\t\t\t                \t\t)\n\t\t\t\t\t\t\t\t\t\t\t                \t})\n\t\t\t\t\t\t\t\t\t\t\t                \t:\n\t\t\t\t\t\t\t\t\t\t\t                \t<option disabled>No Event Added Yet</option>\n\t\t\t\t\t\t\t\t\t\t\t                }\n\t                                                    </select>   \n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-md-12 col-xs-12 col-sm-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select id=\"filterRole\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.filterRole} ref=\"filterRole\" name=\"filterRole\" onChange={this.onSelectedItemsChange.bind(this,'filterRole')}>\n\t                                                        <option className=\"fontAjt\" disabled value=\"\">Select Role</option>\n\t                                                        {\n\t                                                            this.state.roleArray && this.state.roleArray.length > 0 ?\n\t                                                                this.state.roleArray.map((data, i)=>{\n\t                                                                    return(\n\t                                                                        <option key={i} value={data.role}>{data.role} </option>\n\t                                                                    );\n\t                                                                })\n\t                                                            :\n\t                                                            null\n\t                                                        }\n\t                                                    </select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-md-12 col-xs-12 col-sm-12 nopadding\">\n\t                                                    <select id=\"filterStatus\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.filterStatus} ref=\"filterStatus\" name=\"filterStatus\" onChange={this.onSelectedItemsChange.bind(this,'filterStatus')}>\n\t                                                        <option className=\"fontAjt\" disabled value=\"\">Select Status</option>\n\t                                                        <option> active </option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option> inactive </option>\n\t                                                    </select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-md-12 col-xs-12 col-sm-12\">\n\t                                                    <select id=\"filterCompany\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.filterCompany} ref=\"filterCompany\" name=\"filterCompany\" onChange={this.onSelectedItemsChange.bind(this,'filterCompany')}>\n\t                                                        <option className=\"fontAjt\" disabled value=\"All\">Select Company</option>\n\t                                                        {\n\t                                                            this.state.companyArray && this.state.companyArray.length > 0 ?\n\t                                                                this.state.companyArray.map((data, i)=>{\n\t                                                                    return(\n\t                                                                        <option key={i} value={data._id}>{data.companyName} </option>\n\t                                                                    );\n\t                                                                })\n\t                                                            :\n\t                                                            null\n\t                                                        }\n\t                                                    </select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n   \t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mrgTp1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"nav nav-pills nav-justified\" id=\"navContents\">\n\t\t\t\t\t\t\t\t\t\t\t      <li className=\"active\" onClick={this.clickTab.bind(this,'Email')}>\n\t\t\t\t\t\t\t\t\t\t\t        <a data-toggle=\"tab\" href=\"#email\" role=\"tab\">Email</a>\n\t\t\t\t\t\t\t\t\t\t\t      </li>\n\t\t\t\t\t\t\t\t\t\t\t      <li onClick={this.clickTab.bind(this,'SMS')}>\n\t\t\t\t\t\t\t\t\t\t\t        <a data-toggle=\"tab\" href=\"#sms\" role=\"tab\">SMS</a>\n\t\t\t\t\t\t\t\t\t\t\t      </li>\n\t\t\t\t\t\t\t\t\t\t\t      <li onClick={this.clickTab.bind(this,'Notification')}>\n\t\t\t\t\t\t\t\t\t\t\t        <a data-toggle=\"tab\" href=\"#notification\" role=\"tab\">Notification</a>\n\t\t\t\t\t\t\t\t\t\t\t      </li>\n\t\t\t\t\t\t\t\t\t\t\t    </ul>\n\n                \t\t\t\t\t\t\t\t<div className=\"tab-content\" id=\"nav-tabContent\">\n\t\t\t\t\t\t\t\t                  <div className=\"tab-pane fade in active\" id=\"email\" role=\"tabpanel\">\n\t\t\t\t\t\t\t\t                        <TemplateList type={this.state.type} filteredSelectors={this.state.filteredSelectors} />\n\t\t\t\t\t\t\t\t                  </div>\n\t\t\t\t\t\t\t\t                  <div className=\"tab-pane fade\" id=\"sms\" role=\"tabpanel\">\n\t\t\t\t\t\t\t\t                        <TemplateList type={this.state.type} filteredSelectors={this.state.filteredSelectors} />\n\t\t\t\t\t\t\t\t                  </div>\n\t\t\t\t\t\t\t\t                  <div className=\"tab-pane fade\" id=\"notification\" role=\"tabpanel\">\n\t\t\t\t\t\t\t\t                        <TemplateList type={this.state.type} filteredSelectors={this.state.filteredSelectors} />\n\t\t\t\t\t\t\t\t                  </div>\n\t               \t\t\t\t\t\t\t\t</div>\n   \t\t\t\t\t\t\t\t\t\t\t</div>\n                                        </div>\n                                    </div>\n                                </section>\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nexport default NotificationTemplate;\n\n"]},"metadata":{},"sourceType":"module"}