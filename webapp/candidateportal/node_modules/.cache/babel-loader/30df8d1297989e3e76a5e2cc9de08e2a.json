{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/candidateportal/src/coreadmin/companysetting/Components/CompanySMSGateway.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport $ from \"jquery\";\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport PhoneInput from 'react-phone-input-2';\n\nclass CompanySMSGateway extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authID: \"\",\n      authToken: \"\",\n      sourceMobile: \"\",\n      smsid: \"\",\n      SMSDetails: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeMobile = this.handleChangeMobile.bind(this);\n  }\n\n  componentDidMount() {\n    this.getData();\n    $.validator.addMethod(\"regxtax\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid tax rate.\");\n    $(\"#CompanySMSGatewayForm\").validate({\n      rules: {\n        authID: {\n          required: true\n        },\n        authToken: {\n          required: true\n        },\n        sourceMobile: {\n          required: true\n        }\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    axios.get('/api/projectsettings/get/SMS').then(response => {\n      this.setState({\n        smsid: response.data._id,\n        authID: response.data.authID,\n        authToken: response.data.authToken,\n        sourceMobile: response.data.sourceMobile\n      });\n    }).catch(error => {});\n  }\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleChangeMobile(event) {\n    this.setState({\n      sourceMobile: event\n    }, () => {\n      if (this.state.sourceMobile) {\n        this.setState({\n          sourceMobileError: this.state.sourceMobile === \"+\" ? 'Please enter valid mobile number.' : \"\"\n        });\n      }\n    });\n  }\n\n  getData() {\n    var type = 'SMS';\n    axios.get('/api/projectsettings/get/' + type).then(response => {\n      this.setState({\n        SMSDetails: response.data,\n        smsid: response.data._id,\n        authID: response.data.authID,\n        authToken: response.data.authToken,\n        sourceMobile: response.data.sourceMobile\n      });\n    }).catch(error => {});\n  }\n\n  submit(event) {\n    event.preventDefault();\n    var formvalue = {\n      authID: this.state.authID,\n      authToken: this.state.authToken,\n      sourceMobile: this.state.sourceMobile,\n      type: 'SMS',\n      createdBy: localStorage.getItem(\"user_ID\")\n    };\n\n    if ($(\"#CompanySMSGatewayForm\").valid()) {\n      axios.post('/api/projectsettings/post', formvalue).then(response => {\n        this.getData();\n        swal({\n          text: \"SMS Gateway details added successfully!\"\n        }); // this.setState({\n        //   authID    : \"\", \n        //   authToken : \"\", \n        //   sourceMobile : \"\", \n        // })\n\n        this.getData();\n      }).catch(error => {\n        swal({\n          text: \"Failed to add SMS Gateway details!\"\n        });\n      });\n    }\n  }\n\n  update(event) {\n    event.preventDefault();\n    var formvalues = {\n      authID: this.state.authID,\n      authToken: this.state.authToken,\n      sourceMobile: this.state.sourceMobile,\n      type: 'SMS',\n      createdBy: localStorage.getItem(\"user_ID\")\n    };\n\n    if ($(\"#CompanySMSGatewayForm\").valid()) {\n      axios.patch('/api/projectsettings/patch/SMS', formvalues).then(response => {\n        this.getData();\n        swal({\n          text: \"SMS Gateway details Updated successfully!\"\n        }); // this.setState({\n        //   smsid:\"\",\n        //     authID    : \"\", \n        //     authToken : \"\", \n        //     sourceMobile : \"\", \n        // })\n      }).catch(error => {\n        swal({\n          text: \"Failed to Updated SMS Gateway details!\"\n        });\n      });\n    }\n  }\n\n  edit(event) {\n    $(\"html,body\").scrollTop(0);\n    axios.get('/api/projectsettings/get/SMS').then(response => {\n      this.setState({\n        smsid: response.data._id,\n        authID: response.data.authID,\n        authToken: response.data.authToken,\n        sourceMobile: response.data.sourceMobile\n      });\n    }).catch(error => {});\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"SMS Gateway\")), React.createElement(\"hr\", {\n      className: \"compySettingHr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"CompanySMSGatewayForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Auth ID \", React.createElement(\"span\", {\n      className: \"requiredsign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        textTransform: 'capitalize'\n      },\n      className: \"form-control UMname has-content\",\n      id: \"authID\",\n      ref: \"authID\",\n      name: \"authID\",\n      placeholder: \"Auth ID\",\n      value: this.state.authID,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Auth Token \", React.createElement(\"span\", {\n      className: \"requiredsign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        textTransform: 'capitalize'\n      },\n      className: \"form-control UMname has-content\",\n      id: \"authToken\",\n      ref: \"authToken\",\n      name: \"authToken\",\n      placeholder: \"Auth Token\",\n      value: this.state.authToken,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Source Mobile \", React.createElement(\"span\", {\n      className: \"requiredsign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"*\")), React.createElement(PhoneInput, {\n      country: 'in',\n      value: this.state.sourceMobile,\n      name: \"sourceMobile\",\n      inputProps: {\n        name: 'sourceMobile',\n        required: true\n      },\n      onChange: this.handleChangeMobile.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \" col-lg-12 col-md-12 col-xs-12 col-sm-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, this.state.smsid === \"\" || this.state.smsid == undefined ? React.createElement(\"button\", {\n      className: \"col-lg-3 col-md-2 col-xs-12 col-sm-12 col-xs-12 pull-right btn button3 topMargin outlinebox\",\n      type: \"submit\",\n      onClick: this.submit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Submit\") : React.createElement(\"button\", {\n      className: \"col-lg-3 col-md-2 col-xs-12 col-sm-12 col-xs-12 pull-right btn button3 topMargin outlinebox\",\n      type: \"update\",\n      onClick: this.update.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Update\"))))));\n  }\n\n}\n\nexport default CompanySMSGateway; // import React, { Component } from 'react';\n// import { render }           from 'react-dom';\n// import $ from \"jquery\";\n// import axios from 'axios';\n// import swal from 'sweetalert';\n// import PhoneInput               from 'react-phone-input-2';\n// class CompanySMSGateway extends Component{\n//    constructor(props) {\n//     super(props);\n//     this.state = {\n//       authID : '',\n//       authToken : '',\n//       sourceMobile:''\n//     };\n//     this.handleChange = this.handleChange.bind(this);\n//     this.handleChangeMobile = this.handleChangeMobile.bind(this);\n//   }\n//   handleChange(event){\n//     const {name,value} = event.target;\n//     this.setState({ \n//       [name]:value\n//     });\n//   }\n//   componentWillReceiveProps(nextProps) {\n//     axios.get('/api/globalmaster/get/sms_details')\n//     .then((response)=>{\n//       this.setState({\n//         authID : response.data.authID,\n//         authToken : response.data.authToken,\n//         sourceMobile:response.data.sourceMobile,\n//       })\n//       $(\"#btnSubmit\").html('Update');\n//     })\n//   }\n//   handleChangeMobile(event){ \n//     this.setState({\n//       sourceMobile : event\n//     },()=>{ \n//       if(this.state.sourceMobile){\n//         this.setState({\n//           sourceMobileError : this.state.sourceMobile === \"+\" ? 'Please enter valid mobile number.' : \"\"\n//         })\n//       } \n//     })\n//   }\n//   submitSMSInfo(event){\n//     event.preventDefault();\n//     if (this.state.authID && this.state.authToken && this.state.sourceMobile) {\n//       var formValues = {\n//         authID : this.state.authID,\n//         authToken : this.state.authToken,\n//         sourceMobile : this.state.sourceMobile,\n//         updatedBy : localStorage.getItem(\"user_ID\")\n//       }\n//       axios.patch('/api/globalmaster/SMS',formValues)\n//         .then((response) =>{\n//               swal({\n//                     title: \"SMS Info is added successfully!\",\n//                     text: \"SMS Info is added successfully!\",\n//               });\n//             this.setState({\n//               authID:'',\n//               authToken:'',\n//               sourceMobile:''\n//             })\n//         })\n//         .catch((error)=> {\n//           swal({\n//                     title: \"Failed to add SMS info!\",\n//                     text: \"Failed to add SMS info!\",\n//               });\n//         })\n//     }else{\n//       swal(\"All fields are required\")\n//     }\n//   }\n//   render(){\n//     return(\n//       <div className=\"\">\n//         <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\">\n//             <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//                 <h4 className=\"\">SMS Gateway</h4>\n//             </div>\n//                <hr className=\"compySettingHr\" />\n//           <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//             <form id=\"CompanySMSGatewayForm\"  >\n//               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls\">\n//                 <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\">\n//                   <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 nopadding\">\n//                     <div className=\"form-group formht pdcls\">\n//                         <div className=\"form-group margin15\">\n//                             <label className=\"labelform\" >Auth ID</label><span className=\"astrick\">*</span>\n//                             <input value={this.state.authID} onChange={this.handleChange} data-text=\"AuthID\" type=\"text\" id=\"authID\" title=\"Please enter valid AuthID\" name=\"authID\" className=\"form-control CLcompanyAddress inputValid \" required/>\n//                         </div>\n//                     </div> \n//                   </div>\n//                   <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 nopadding\">\n//                     <div className=\"form-group formht pdcls\">\n//                         <div className=\"form-group margin15\">\n//                             <label className=\"labelform\" >Auth Token</label><span className=\"astrick\">*</span>\n//                             <input value={this.state.authToken} onChange={this.handleChange} data-text=\"blockName\" type=\"text\" id=\"authToken\" title=\"Please enter valid Auth Token\" name=\"authToken\" className=\"form-control CLcompanyAddress inputValid \" required/>\n//                         </div>\n//                     </div> \n//                   </div>\n//                   <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 nopadding\">\n//                     <div className=\"form-group formht pdcls\">\n//                         <div className=\"form-group margin15\">\n//                             <label className=\"labelform\" >Source Number</label><span className=\"astrick\">*</span>\n//                             <PhoneInput\n//                                 country={'in'}\n//                                 value={this.state.sourceMobile}\n//                                 name=\"sourceMobile\"\n//                                 inputProps={{\n//                                   name: 'sourceMobile',\n//                                   required: true\n//                                 }}\n//                                 onChange={this.handleChangeMobile.bind(this)}\n//                               />\n//                         </div>\n//                     </div> \n//                   </div>\n//                 </div>\n//               </div>\n//               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  \">\n//                   <button className=\"col-lg-2 col-md-2 col-sm-12 col-xs-12 btn button3 pull-right\" id=\"btnSubmit\" onClick={this.submitSMSInfo.bind(this)}>\n//                     Submit\n//                   </button>\n//               </div>\n//             </form>\n//           </div>\n//         </div>\n//       </div>\n//       );\n//   }\n//  }\n//  export default CompanySMSGateway;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/candidateportal/src/coreadmin/companysetting/Components/CompanySMSGateway.js"],"names":["React","Component","render","$","axios","swal","PhoneInput","CompanySMSGateway","constructor","props","state","authID","authToken","sourceMobile","smsid","SMSDetails","handleChange","bind","handleChangeMobile","componentDidMount","getData","validator","addMethod","value","element","regexpr","test","validate","rules","required","componentWillReceiveProps","nextProps","get","then","response","setState","data","_id","catch","error","event","name","target","sourceMobileError","type","submit","preventDefault","formvalue","createdBy","localStorage","getItem","valid","post","text","update","formvalues","patch","edit","scrollTop","textTransform","undefined"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,UAAP,MAAqC,qBAArC;;AAEA,MAAMC,iBAAN,SAAgCN,SAAhC,CAA0C;AACxCO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAM,EADD;AAEXC,MAAAA,SAAS,EAAG,EAFD;AAGXC,MAAAA,YAAY,EAAG,EAHJ;AAIXC,MAAAA,KAAK,EAAK,EAJC;AAKXC,MAAAA,UAAU,EAAC;AALA,KAAb;AAOA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBD,IAAxB,CAA6B,IAA7B,CAA1B;AACD;;AAEDE,EAAAA,iBAAiB,GAAE;AACjB,SAAKC,OAAL;AACAjB,IAAAA,CAAC,CAACkB,SAAF,CAAYC,SAAZ,CAAsB,SAAtB,EAAiC,UAAUC,KAAV,EAAiBC,OAAjB,EAA0BC,OAA1B,EAAmC;AAClE,aAAOA,OAAO,CAACC,IAAR,CAAaH,KAAb,CAAP;AACD,KAFD,EAEG,8BAFH;AAIApB,IAAAA,CAAC,CAAC,wBAAD,CAAD,CAA4BwB,QAA5B,CAAqC;AACrCC,MAAAA,KAAK,EAAE;AACLjB,QAAAA,MAAM,EAAE;AACNkB,UAAAA,QAAQ,EAAE;AADJ,SADH;AAILjB,QAAAA,SAAS,EAAE;AACTiB,UAAAA,QAAQ,EAAE;AADD,SAJN;AAOLhB,QAAAA,YAAY,EAAE;AACZgB,UAAAA,QAAQ,EAAE;AADE;AAPT;AAD8B,KAArC;AAcD;;AAEDC,EAAAA,yBAAyB,CAACC,SAAD,EAAW;AAClC3B,IAAAA,KAAK,CAAC4B,GAAN,CAAU,8BAAV,EACGC,IADH,CACSC,QAAD,IAAc;AAChB,WAAKC,QAAL,CAAc;AACZrB,QAAAA,KAAK,EAAGoB,QAAQ,CAACE,IAAT,CAAcC,GADV;AAEZ1B,QAAAA,MAAM,EAAGuB,QAAQ,CAACE,IAAT,CAAczB,MAFX;AAGZC,QAAAA,SAAS,EAAGsB,QAAQ,CAACE,IAAT,CAAcxB,SAHd;AAIZC,QAAAA,YAAY,EAAGqB,QAAQ,CAACE,IAAT,CAAcvB;AAJjB,OAAd;AAMH,KARH,EASGyB,KATH,CASUC,KAAD,IAAW,CAAE,CATtB;AAUD;;AAEDvB,EAAAA,YAAY,CAACwB,KAAD,EAAO;AACjB,UAAM;AAACC,MAAAA,IAAD;AAAMlB,MAAAA;AAAN,QAAeiB,KAAK,CAACE,MAA3B;AACA,SAAKP,QAAL,CAAc;AACZ,OAACM,IAAD,GAAOlB;AADK,KAAd;AAGD;;AAEDL,EAAAA,kBAAkB,CAACsB,KAAD,EAAO;AACvB,SAAKL,QAAL,CAAc;AACZtB,MAAAA,YAAY,EAAG2B;AADH,KAAd,EAEE,MAAI;AACJ,UAAG,KAAK9B,KAAL,CAAWG,YAAd,EAA2B;AACzB,aAAKsB,QAAL,CAAc;AACZQ,UAAAA,iBAAiB,EAAG,KAAKjC,KAAL,CAAWG,YAAX,KAA4B,GAA5B,GAAkC,mCAAlC,GAAwE;AADhF,SAAd;AAGD;AACF,KARD;AASD;;AAEDO,EAAAA,OAAO,GAAE;AACP,QAAIwB,IAAI,GAAG,KAAX;AACAxC,IAAAA,KAAK,CAAC4B,GAAN,CAAU,8BAA4BY,IAAtC,EACSX,IADT,CACeC,QAAD,IAAc;AAChB,WAAKC,QAAL,CAAc;AACZpB,QAAAA,UAAU,EAAUmB,QAAQ,CAACE,IADjB;AAEZtB,QAAAA,KAAK,EAAGoB,QAAQ,CAACE,IAAT,CAAcC,GAFV;AAGZ1B,QAAAA,MAAM,EAAGuB,QAAQ,CAACE,IAAT,CAAczB,MAHX;AAIZC,QAAAA,SAAS,EAAGsB,QAAQ,CAACE,IAAT,CAAcxB,SAJd;AAKZC,QAAAA,YAAY,EAAGqB,QAAQ,CAACE,IAAT,CAAcvB;AALjB,OAAd;AAOH,KATT,EAUSyB,KAVT,CAUgBC,KAAD,IAAW,CAAE,CAV5B;AAWH;;AACCM,EAAAA,MAAM,CAACL,KAAD,EAAO;AACTA,IAAAA,KAAK,CAACM,cAAN;AACE,QAAIC,SAAS,GAAE;AACbpC,MAAAA,MAAM,EAAM,KAAKD,KAAL,CAAWC,MADV;AAEbC,MAAAA,SAAS,EAAG,KAAKF,KAAL,CAAWE,SAFV;AAGbC,MAAAA,YAAY,EAAG,KAAKH,KAAL,CAAWG,YAHb;AAIb+B,MAAAA,IAAI,EAAQ,KAJC;AAKbI,MAAAA,SAAS,EAAGC,YAAY,CAACC,OAAb,CAAqB,SAArB;AALC,KAAf;;AAOA,QAAG/C,CAAC,CAAC,wBAAD,CAAD,CAA4BgD,KAA5B,EAAH,EAAuC;AACrC/C,MAAAA,KAAK,CAACgD,IAAN,CAAW,2BAAX,EAAuCL,SAAvC,EACCd,IADD,CACOC,QAAD,IAAa;AACjB,aAAKd,OAAL;AACAf,QAAAA,IAAI,CAAC;AACCgD,UAAAA,IAAI,EAAE;AADP,SAAD,CAAJ,CAFiB,CAMjB;AACA;AACA;AACA;AACA;;AACA,aAAKjC,OAAL;AACD,OAbD,EAcCkB,KAdD,CAcQC,KAAD,IAAU;AACflC,QAAAA,IAAI,CAAC;AACCgD,UAAAA,IAAI,EAAE;AADP,SAAD,CAAJ;AAGD,OAlBD;AAmBD;AAGN;;AAEDC,EAAAA,MAAM,CAACd,KAAD,EAAO;AACXA,IAAAA,KAAK,CAACM,cAAN;AACE,QAAIS,UAAU,GAAE;AACd5C,MAAAA,MAAM,EAAM,KAAKD,KAAL,CAAWC,MADT;AAEdC,MAAAA,SAAS,EAAG,KAAKF,KAAL,CAAWE,SAFT;AAGdC,MAAAA,YAAY,EAAG,KAAKH,KAAL,CAAWG,YAHZ;AAId+B,MAAAA,IAAI,EAAQ,KAJE;AAKdI,MAAAA,SAAS,EAAGC,YAAY,CAACC,OAAb,CAAqB,SAArB;AALE,KAAhB;;AAOA,QAAG/C,CAAC,CAAC,wBAAD,CAAD,CAA4BgD,KAA5B,EAAH,EAAuC;AACrC/C,MAAAA,KAAK,CAACoD,KAAN,CAAY,gCAAZ,EAA6CD,UAA7C,EACCtB,IADD,CACOC,QAAD,IAAa;AACjB,aAAKd,OAAL;AACAf,QAAAA,IAAI,CAAC;AACCgD,UAAAA,IAAI,EAAE;AADP,SAAD,CAAJ,CAFiB,CAKjB;AACA;AACA;AACA;AACA;AACA;AACD,OAZD,EAaCf,KAbD,CAaQC,KAAD,IAAU;AACflC,QAAAA,IAAI,CAAC;AACCgD,UAAAA,IAAI,EAAE;AADP,SAAD,CAAJ;AAGD,OAjBD;AAkBD;AAEN;;AAECI,EAAAA,IAAI,CAACjB,KAAD,EAAQ;AACVrC,IAAAA,CAAC,CAAC,WAAD,CAAD,CAAeuD,SAAf,CAAyB,CAAzB;AACAtD,IAAAA,KAAK,CAAC4B,GAAN,CAAU,8BAAV,EACGC,IADH,CACSC,QAAD,IAAc;AAChB,WAAKC,QAAL,CAAc;AACZrB,QAAAA,KAAK,EAAGoB,QAAQ,CAACE,IAAT,CAAcC,GADV;AAEZ1B,QAAAA,MAAM,EAAGuB,QAAQ,CAACE,IAAT,CAAczB,MAFX;AAGZC,QAAAA,SAAS,EAAGsB,QAAQ,CAACE,IAAT,CAAcxB,SAHd;AAIZC,QAAAA,YAAY,EAAGqB,QAAQ,CAACE,IAAT,CAAcvB;AAJjB,OAAd;AAMH,KARH,EASGyB,KATH,CASUC,KAAD,IAAW,CAAE,CATtB;AAWC;;AAGHrC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,4DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CADF,EAIE;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,EAAE,EAAC,uBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,+DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAqC;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAArC,CADF,EAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAE;AAAEyD,QAAAA,aAAa,EAAE;AAAjB,OAA1B;AACE,MAAA,SAAS,EAAC,iCADZ;AAEE,MAAA,EAAE,EAAC,QAFL;AAEc,MAAA,GAAG,EAAC,QAFlB;AAE2B,MAAA,IAAI,EAAC,QAFhC;AAEyC,MAAA,WAAW,EAAC,SAFrD;AAGE,MAAA,KAAK,EAAE,KAAKjD,KAAL,CAAWC,MAHpB;AAG4B,MAAA,QAAQ,EAAE,KAAKK,YAH3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EASE;AAAK,MAAA,SAAS,EAAC,+DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAwC;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAxC,CADF,EAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAE;AAAE2C,QAAAA,aAAa,EAAE;AAAjB,OAA1B;AACE,MAAA,SAAS,EAAC,iCADZ;AAEE,MAAA,EAAE,EAAC,WAFL;AAEiB,MAAA,GAAG,EAAC,WAFrB;AAEiC,MAAA,IAAI,EAAC,WAFtC;AAEkD,MAAA,WAAW,EAAC,YAF9D;AAGE,MAAA,KAAK,EAAE,KAAKjD,KAAL,CAAWE,SAHpB;AAG+B,MAAA,QAAQ,EAAE,KAAKI,YAH9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CATF,EAiBE;AAAK,MAAA,SAAS,EAAC,+DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAA2C;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA3C,CADF,EAMI,oBAAC,UAAD;AACE,MAAA,OAAO,EAAE,IADX;AAEE,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWG,YAFpB;AAGE,MAAA,IAAI,EAAC,cAHP;AAIE,MAAA,UAAU,EAAE;AACV4B,QAAAA,IAAI,EAAE,cADI;AAEVZ,QAAAA,QAAQ,EAAE;AAFA,OAJd;AAQE,MAAA,QAAQ,EAAE,KAAKX,kBAAL,CAAwBD,IAAxB,CAA6B,IAA7B,CARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CAjBF,EAmCE;AAAK,MAAA,SAAS,EAAC,2CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEM,KAAKP,KAAL,CAAWI,KAAX,KAAqB,EAArB,IAA2B,KAAKJ,KAAL,CAAWI,KAAX,IAAoB8C,SAA/C,GACI;AAAQ,MAAA,SAAS,EAAC,6FAAlB;AAAgH,MAAA,IAAI,EAAC,QAArH;AAA8H,MAAA,OAAO,EAAE,KAAKf,MAAL,CAAY5B,IAAZ,CAAiB,IAAjB,CAAvI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,GAGI;AAAQ,MAAA,SAAS,EAAC,6FAAlB;AAAgH,MAAA,IAAI,EAAC,QAArH;AAA8H,MAAA,OAAO,EAAE,KAAKqC,MAAL,CAAYrC,IAAZ,CAAiB,IAAjB,CAAvI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALV,CAnCF,CADF,CALF,CADF,CADF;AAwFD;;AA7PuC;;AA+P1C,eAAeV,iBAAf,C,CAQA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport $ from \"jquery\";\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport PhoneInput               from 'react-phone-input-2';\n\nclass CompanySMSGateway extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authID    : \"\", \n      authToken : \"\", \n      sourceMobile : \"\", \n      smsid   : \"\",  \n      SMSDetails:\"\" \n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeMobile = this.handleChangeMobile.bind(this);\n  }\n\n  componentDidMount(){\n    this.getData();\n    $.validator.addMethod(\"regxtax\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid tax rate.\");\n\n    $(\"#CompanySMSGatewayForm\").validate({\n    rules: {\n      authID: {\n        required: true,\n      },\n      authToken: {\n        required: true,\n      },\n      sourceMobile: {\n        required: true,\n      },\n      \n    }\n    });  \n  }\n\n  componentWillReceiveProps(nextProps){\n    axios.get('/api/projectsettings/get/SMS')\n      .then((response) => {\n          this.setState({ \n            smsid : response.data._id,\n            authID : response.data.authID,\n            authToken : response.data.authToken,\n            sourceMobile : response.data.sourceMobile,\n          });\n      })\n      .catch((error) => {});\n  }\n \n  handleChange(event){\n    const {name,value} = event.target;\n    this.setState({ \n      [name]:value\n    });\n  }  \n\n  handleChangeMobile(event){ \n    this.setState({\n      sourceMobile : event\n    },()=>{ \n      if(this.state.sourceMobile){\n        this.setState({\n          sourceMobileError : this.state.sourceMobile === \"+\" ? 'Please enter valid mobile number.' : \"\"\n        })\n      } \n    })\n  }\n\n  getData(){\n    var type = 'SMS';\n    axios.get('/api/projectsettings/get/'+type)\n            .then((response) => {\n                this.setState({ \n                  SMSDetails        : response.data,\n                  smsid : response.data._id,\n                  authID : response.data.authID,\n                  authToken : response.data.authToken,\n                  sourceMobile : response.data.sourceMobile,\n                });\n            })\n            .catch((error) => {});\n}\n  submit(event){\n      event.preventDefault();\n        var formvalue ={\n          authID    : this.state.authID, \n          authToken : this.state.authToken, \n          sourceMobile : this.state.sourceMobile, \n          type      : 'SMS',\n          createdBy : localStorage.getItem(\"user_ID\")\n        }\n        if($(\"#CompanySMSGatewayForm\").valid()){\n          axios.post('/api/projectsettings/post',formvalue)\n          .then((response)=> {\n            this.getData();\n            swal({                \n                  text: \"SMS Gateway details added successfully!\",\n                });\n            \n            // this.setState({\n            //   authID    : \"\", \n            //   authToken : \"\", \n            //   sourceMobile : \"\", \n            // })\n            this.getData();\n          })\n          .catch((error)=> {\n            swal({                \n                  text: \"Failed to add SMS Gateway details!\",\n                });\n          })\n        }\n \n \n  }\n\n  update(event){\n    event.preventDefault();\n      var formvalues ={\n        authID    : this.state.authID, \n        authToken : this.state.authToken, \n        sourceMobile : this.state.sourceMobile, \n        type      : 'SMS',\n        createdBy : localStorage.getItem(\"user_ID\")\n      }\n      if($(\"#CompanySMSGatewayForm\").valid()){\n        axios.patch('/api/projectsettings/patch/SMS',formvalues)\n        .then((response)=> {\n          this.getData();\n          swal({                \n                text: \"SMS Gateway details Updated successfully!\",\n              });\n          // this.setState({\n          //   smsid:\"\",\n          //     authID    : \"\", \n          //     authToken : \"\", \n          //     sourceMobile : \"\", \n          // })\n        })\n        .catch((error)=> {\n          swal({                \n                text: \"Failed to Updated SMS Gateway details!\",\n              });\n        })\n      }\n\n}\n\n  edit(event) {\n    $(\"html,body\").scrollTop(0);\n    axios.get('/api/projectsettings/get/SMS')\n      .then((response) => {\n          this.setState({ \n            smsid : response.data._id,\n            authID : response.data.authID,\n            authToken : response.data.authToken,\n            sourceMobile : response.data.sourceMobile,\n          });\n      })\n      .catch((error) => {});\n        \n    }\n  \n  \n  render() {\n    return (\n      <div className=\"\">\n        <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\">\n          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n            <h4 className=\"\">SMS Gateway</h4>\n          </div>\n          <hr className=\"compySettingHr\" />\n          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n            <form id=\"CompanySMSGatewayForm\">\n              <div className=\"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box \">\n                <label className=\"labelform\">Auth ID <span className=\"requiredsign\">*</span></label>\n                <input type=\"text\" style={{ textTransform: 'capitalize' }}\n                  className=\"form-control UMname has-content\"\n                  id=\"authID\" ref=\"authID\" name=\"authID\" placeholder=\"Auth ID\" \n                  value={this.state.authID} onChange={this.handleChange} /> \n              </div>\n              \n              <div className=\"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box \">\n                <label className=\"labelform\">Auth Token <span className=\"requiredsign\">*</span></label>\n                <input type=\"text\" style={{ textTransform: 'capitalize' }}\n                  className=\"form-control UMname has-content\"\n                  id=\"authToken\" ref=\"authToken\" name=\"authToken\" placeholder=\"Auth Token\" \n                  value={this.state.authToken} onChange={this.handleChange} /> \n              </div>\n              \n              <div className=\"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box \">\n                <label className=\"labelform\">Source Mobile <span className=\"requiredsign\">*</span></label>\n               {/*} <input type=\"text\" style={{ textTransform: 'capitalize' }}\n                  className=\"form-control UMname has-content\"\n                  id=\"sourceMobile\" ref=\"sourceMobile\" name=\"sourceMobile\" placeholder=\"Source Mobile\" \n                  value={this.state.sourceMobile} onChange={this.handleChange} /> */}\n                  <PhoneInput\n                    country={'in'}\n                    value={this.state.sourceMobile}\n                    name=\"sourceMobile\"\n                    inputProps={{\n                      name: 'sourceMobile',\n                      required: true\n                    }}\n                    onChange={this.handleChangeMobile.bind(this)}\n                  />\n              </div>\n              \n              <div className=\" col-lg-12 col-md-12 col-xs-12 col-sm-12 \">\n                {\n                    this.state.smsid === \"\" || this.state.smsid == undefined ?\n                        <button className=\"col-lg-3 col-md-2 col-xs-12 col-sm-12 col-xs-12 pull-right btn button3 topMargin outlinebox\" type=\"submit\" onClick={this.submit.bind(this)} >Submit</button>\n                    :\n                        <button className=\"col-lg-3 col-md-2 col-xs-12 col-sm-12 col-xs-12 pull-right btn button3 topMargin outlinebox\" type=\"update\" onClick={this.update.bind(this)} >Update</button>\n                }\n                \n              </div>\n            </form>\n           {/*} {this.state.SMSDetails && this.state.SMSDetails.message != \"DATA_NOT_FOUND\" ?\n            <div className=\"table-responsive topmr40 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n              <table className=\"table iAssureITtable-bordered table-striped table-hover\">\n                <thead className=\"tempTableHeader\">\n                  <tr className=\"\">\n                    <th className=\"umDynamicHeader srpadd textAlignCenter\"> Auth ID </th>\n                    <th className=\"umDynamicHeader srpadd textAlignCenter\"> Auth Token </th>\n                    <th className=\"umDynamicHeader srpadd textAlignCenter\"> Source Mobile </th>\n                    <th className=\"umDynamicHeader srpadd textAlignCenter\"> Action </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>{this.state.SMSDetails.authID}</td>\n                    <td>{this.state.SMSDetails.authToken}</td>\n                    <td>{this.state.SMSDetails.sourceMobile}</td>\n                    <td className=\"textAlignCenter\">\n                      <span>\n                          <button title=\"Edit\"   onClick={this.edit.bind(this)}><i className=\"fa fa-pencil\" ></i></button> &nbsp; &nbsp;\n                      </span>\n                      </td>\n                  </tr>\n                        \n                </tbody>\n              </table>\n            </div>\n            :\n            null\n          }\n            */}\n          </div>\n        </div>\n      </div>\n\n    );\n  }\n}\nexport default CompanySMSGateway;\n\n\n\n\n\n\n\n// import React, { Component } from 'react';\n// import { render }           from 'react-dom';\n// import $ from \"jquery\";\n// import axios from 'axios';\n// import swal from 'sweetalert';\n// import PhoneInput               from 'react-phone-input-2';\n\n\n// class CompanySMSGateway extends Component{\n//    constructor(props) {\n//     super(props);\n//     this.state = {\n//       authID : '',\n//       authToken : '',\n//       sourceMobile:''\n//     };\n//     this.handleChange = this.handleChange.bind(this);\n//     this.handleChangeMobile = this.handleChangeMobile.bind(this);\n//   }\n//   handleChange(event){\n//     const {name,value} = event.target;\n//     this.setState({ \n//       [name]:value\n//     });\n//   }\n\n//   componentWillReceiveProps(nextProps) {\n//     axios.get('/api/globalmaster/get/sms_details')\n//     .then((response)=>{\n//       this.setState({\n//         authID : response.data.authID,\n//         authToken : response.data.authToken,\n//         sourceMobile:response.data.sourceMobile,\n//       })\n//       $(\"#btnSubmit\").html('Update');\n//     })\n//   }\n\n//   handleChangeMobile(event){ \n//     this.setState({\n//       sourceMobile : event\n//     },()=>{ \n//       if(this.state.sourceMobile){\n//         this.setState({\n//           sourceMobileError : this.state.sourceMobile === \"+\" ? 'Please enter valid mobile number.' : \"\"\n//         })\n//       } \n//     })\n//   }\n\n//   submitSMSInfo(event){\n//     event.preventDefault();\n//     if (this.state.authID && this.state.authToken && this.state.sourceMobile) {\n      \n//       var formValues = {\n//         authID : this.state.authID,\n//         authToken : this.state.authToken,\n//         sourceMobile : this.state.sourceMobile,\n//         updatedBy : localStorage.getItem(\"user_ID\")\n//       }\n//       axios.patch('/api/globalmaster/SMS',formValues)\n//         .then((response) =>{\n//               swal({\n//                     title: \"SMS Info is added successfully!\",\n//                     text: \"SMS Info is added successfully!\",\n//               });\n//             this.setState({\n//               authID:'',\n//               authToken:'',\n//               sourceMobile:''\n//             })\n//         })\n//         .catch((error)=> {\n//           swal({\n//                     title: \"Failed to add SMS info!\",\n//                     text: \"Failed to add SMS info!\",\n//               });\n//         })\n//     }else{\n//       swal(\"All fields are required\")\n//     }\n//   }\n\n//   render(){\n//     return(\n//       <div className=\"\">\n//         <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\">\n//             <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//                 <h4 className=\"\">SMS Gateway</h4>\n//             </div>\n//                <hr className=\"compySettingHr\" />\n//           <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//             <form id=\"CompanySMSGatewayForm\"  >\n//               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls\">\n//                 <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\">\n//                   <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 nopadding\">\n//                     <div className=\"form-group formht pdcls\">\n//                         <div className=\"form-group margin15\">\n//                             <label className=\"labelform\" >Auth ID</label><span className=\"astrick\">*</span>\n//                             <input value={this.state.authID} onChange={this.handleChange} data-text=\"AuthID\" type=\"text\" id=\"authID\" title=\"Please enter valid AuthID\" name=\"authID\" className=\"form-control CLcompanyAddress inputValid \" required/>\n//                         </div>\n//                     </div> \n//                   </div>\n//                   <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 nopadding\">\n//                     <div className=\"form-group formht pdcls\">\n//                         <div className=\"form-group margin15\">\n//                             <label className=\"labelform\" >Auth Token</label><span className=\"astrick\">*</span>\n//                             <input value={this.state.authToken} onChange={this.handleChange} data-text=\"blockName\" type=\"text\" id=\"authToken\" title=\"Please enter valid Auth Token\" name=\"authToken\" className=\"form-control CLcompanyAddress inputValid \" required/>\n//                         </div>\n//                     </div> \n//                   </div>\n//                   <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 nopadding\">\n//                     <div className=\"form-group formht pdcls\">\n//                         <div className=\"form-group margin15\">\n//                             <label className=\"labelform\" >Source Number</label><span className=\"astrick\">*</span>\n//                             <PhoneInput\n//                                 country={'in'}\n//                                 value={this.state.sourceMobile}\n//                                 name=\"sourceMobile\"\n//                                 inputProps={{\n//                                   name: 'sourceMobile',\n//                                   required: true\n//                                 }}\n//                                 onChange={this.handleChangeMobile.bind(this)}\n//                               />\n//                         </div>\n//                     </div> \n//                   </div>\n               \n//                 </div>\n                \n//               </div>\n//               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  \">\n//                   <button className=\"col-lg-2 col-md-2 col-sm-12 col-xs-12 btn button3 pull-right\" id=\"btnSubmit\" onClick={this.submitSMSInfo.bind(this)}>\n//                     Submit\n//                   </button>\n//               </div>\n//             </form>\n//           </div>\n//         </div>\n//       </div>\n\n//       );\n//   }\n\n//  }\n\n//  export default CompanySMSGateway;"]},"metadata":{},"sourceType":"module"}