{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/employerportal/src/jobportaladmin/Dashboard/Dashboard.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport moment from 'moment';\nimport axios from 'axios';\nimport Statistics from './StatisticsBox/Statistics.js';\nimport PieChart from './Charts/PieChart.js';\nimport BarChart from './Charts/BarChart.js';\nimport Report from './Reports/Report.js';\nexport default class Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      monthStart: \"\",\n      monthEnd: \"\",\n      yearStart: \"\",\n      yearEnd: \"\"\n    };\n  }\n\n  cancelAllPastBookings() {\n    axios.patch('/api/bookingmaster/allPastBookings').then(res => {\n      var bookingData = res.data;\n\n      if (bookingData && bookingData.length > 0) {\n        for (var i = 0; i < bookingData.length; i++) {\n          var mPickupDate = moment(moment(bookingData[i].pickupDate).format('YYYY-MM-DD') + \" \" + bookingData[i].pickupTime);\n          var reqDateTime = mPickupDate._d;\n          var isafter = moment().isAfter(reqDateTime);\n\n          if (isafter) {\n            var booking_id = bookingData[i]._id;\n            var status = {\n              value: 'Cancelled',\n              statusBy: localStorage.getItem(\"user_ID\"),\n              statusAt: new Date()\n            };\n            var formValues = {\n              booking_id: booking_id,\n              status: status,\n              userId: localStorage.getItem(\"user_ID\")\n            };\n            axios.patch('/api/bookingmaster/updateCancelStatus', formValues).then(response => {}).catch(error => {\n              console.log(error);\n            });\n          }\n        } //i\n\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    this.cancelAllPastBookings();\n    axios.get(\"/api/entitymaster/getCompany/\" + localStorage.getItem(\"companyID\")).then(response => {\n      localStorage.setItem(\"company_Id\", response.data._id);\n    }).catch(error => {});\n    var id = localStorage.getItem(\"user_ID\");\n    axios.get(\"/api/personmaster/getUserByUserId/\" + id).then(res => {\n      console.log('res==>', res);\n\n      if (res.data && res.data.data[0]) {\n        this.setState({\n          manager: res.data.data[0]._id\n        });\n      }\n    }).catch(error => {\n      console.log('personmaster error=>', error);\n    });\n\n    if (localStorage.getItem(\"manager_Id\")) {\n      this.setState({\n        manager: localStorage.getItem(\"manager_Id\")\n      });\n    }\n\n    var yyyy = moment().format(\"YYYY\");\n    var monthNum = moment().format(\"MM\");\n    var currentMonth = yyyy + \"-\" + monthNum;\n    var monthDateStart = new Date(moment(currentMonth).month(\"YYYY-MM\")); //Find out first day of month with currentMonth\n\n    var monthDateEnd = new Date(moment(currentMonth).add(1, \"M\"));\n    this.setState({\n      monthStart: monthDateStart,\n      monthEnd: monthDateEnd\n    });\n    var currentYear = moment().format('YYYY');\n    var yearDateStart = new Date(\"1/1/\" + currentYear);\n    var yearDateEnd = new Date(yearDateStart.getFullYear(), 11, 31);\n    this.setState({\n      yearStart: yearDateStart,\n      yearEnd: yearDateEnd\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, localStorage.getItem(\"roles\") && localStorage.getItem(\"roles\").includes('corporateadmin') ? React.createElement(Statistics, {\n      display: true,\n      bgColor: \"bg-aqua\",\n      faIcon: \"fa-user\",\n      firstField: {\n        \"Field\": \"Active Employees\",\n        \"method\": \"get\",\n        \"path\": \"/api/personmaster/get/employeeCount/Active/\" + localStorage.getItem(\"companyID\")\n      },\n      secondField: {\n        \"Field\": \"Inactive Employees\",\n        \"method\": \"get\",\n        \"path\": \"/api/personmaster/get/inactiveemployeeCount/Active/\" + localStorage.getItem(\"companyID\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }) : null, localStorage.getItem(\"roles\").includes('manager') ? React.createElement(Statistics, {\n      display: true,\n      bgColor: \"bg-aqua\",\n      faIcon: \"fa-user\",\n      firstField: {\n        \"Field\": \"Pending Approvals\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/pendingStatusCount/New/\" + localStorage.getItem(\"company_Id\") + \"/\" + this.state.manager\n      },\n      secondField: {\n        \"Field\": \"Pending CR\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/pendingStatusCount/PR Admin Edited/\" + localStorage.getItem(\"company_Id\") + \"/\" + this.state.manager\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }) : React.createElement(Statistics, {\n      display: true,\n      bgColor: \"bg-aqua\",\n      faIcon: \"fa-user\",\n      firstField: {\n        \"Field\": \"Pending Approvals\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/EmployeePendingApprovalCount/New/\" + localStorage.getItem(\"company_Id\") + '/' + localStorage.getItem(\"user_ID\")\n      },\n      secondField: {\n        \"Field\": \"Upcoming Trips\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/EmployeeUpcomingTripCount/\" + localStorage.getItem(\"company_Id\") + \"/\" + localStorage.getItem(\"user_ID\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), localStorage.getItem(\"roles\").includes('corporateadmin') ? React.createElement(Statistics, {\n      display: true,\n      bgColor: \"bg-red\",\n      faIcon: \"fa-tripadvisor\",\n      firstField: {\n        \"Field\": \"Guest Travelled\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/TravelCount/\" + this.state.yearStart + \"/\" + this.state.yearEnd + \"/\" + localStorage.getItem(\"company_Id\") + \"/guest\"\n      },\n      secondField: {\n        \"Field\": \"Employee Travelled\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/TravelCount/\" + this.state.yearStart + \"/\" + this.state.yearEnd + \"/\" + localStorage.getItem(\"company_Id\") + \"/employee\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }) : null, localStorage.getItem(\"roles\").includes('corporateadmin') ? React.createElement(Statistics, {\n      display: true,\n      bgColor: \"bg-green\",\n      faIcon: \"fa-car\",\n      firstField: {\n        \"Field\": \"YTD Booking\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/countCorporateDateRangeBookings/\" + this.state.yearStart + \"/\" + this.state.yearEnd + \"/\" + localStorage.getItem(\"company_Id\")\n      },\n      secondField: {\n        \"Field\": \"MTD Booking\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/countCorporateDateRangeBookings/\" + this.state.monthStart + \"/\" + this.state.monthEnd + \"/\" + localStorage.getItem(\"company_Id\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }) : React.createElement(Statistics, {\n      display: true,\n      bgColor: \"bg-green\",\n      faIcon: \"fa-car\",\n      firstField: {\n        \"Field\": \"YTD Booking\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/countUserDateRangeBookings/\" + this.state.yearStart + \"/\" + this.state.yearEnd + \"/\" + localStorage.getItem(\"company_Id\") + \"/\" + localStorage.getItem(\"user_ID\")\n      },\n      secondField: {\n        \"Field\": \"MTD Booking\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/countUserDateRangeBookings/\" + this.state.monthStart + \"/\" + this.state.monthEnd + \"/\" + localStorage.getItem(\"company_Id\") + \"/\" + localStorage.getItem(\"user_ID\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), localStorage.getItem(\"roles\").includes('corporateadmin') ? React.createElement(Statistics, {\n      display: true,\n      bgColor: \"bg-yellow\",\n      faIcon: \"fa-file\",\n      firstField: {\n        \"Field\": \"Total Invoice\"\n      },\n      secondField: {\n        \"Field\": \"Unpaid Invoice\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }) : React.createElement(Statistics, {\n      display: true,\n      bgColor: \"bg-yellow\",\n      faIcon: \"fa-file\",\n      firstField: {\n        \"Field\": \"Approved Bookings\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/countCorporateApprovalDateRangeBookings/\" + this.state.yearStart + \"/\" + this.state.yearEnd + \"/\" + localStorage.getItem(\"company_Id\") + \"/\" + localStorage.getItem(\"user_ID\") + \"/Manager Approved\"\n      },\n      secondField: {\n        \"Field\": \"Rejected Bookings\",\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/countCorporateApprovalDateRangeBookings/\" + this.state.yearStart + \"/\" + this.state.yearEnd + \"/\" + localStorage.getItem(\"company_Id\") + \"/\" + localStorage.getItem(\"user_ID\") + \"/Manager Rejected\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(PieChart, {\n      display: false,\n      boxColor: \"box-success\",\n      title: \"Car Category-wise Booking\",\n      api: {\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/getCorporateMonthwiseBooking/\" + this.state.yearStart + \"/\" + this.state.yearEnd + \"/\" + localStorage.getItem(\"company_Id\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(PieChart, {\n      display: false,\n      boxColor: \"box-default\",\n      title: \"Corporate-wise Booking\",\n      api: {\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/corporatewiseBooking/\" + this.state.yearStart + \"/\" + this.state.yearEnd\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, localStorage.getItem(\"roles\").includes('corporateadmin') ? React.createElement(BarChart, {\n      display: true,\n      boxColor: \"box-warning\",\n      title: \"Month-wise Booking\",\n      api: {\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/getCompanyMonthwiseBooking/\" + this.state.yearStart + \"/\" + this.state.yearEnd + \"/\" + localStorage.getItem(\"company_Id\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }) : React.createElement(BarChart, {\n      display: true,\n      boxColor: \"box-warning\",\n      title: \"Month-wise Booking\",\n      api: {\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/getUserMonthwiseBooking/\" + this.state.yearStart + \"/\" + this.state.yearEnd + \"/\" + localStorage.getItem(\"company_Id\") + \"/\" + localStorage.getItem(\"user_ID\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), localStorage.getItem(\"roles\").includes('corporateadmin') ? React.createElement(BarChart, {\n      display: true,\n      boxColor: \"box-danger\",\n      title: \"Monthly Booking\",\n      api: {\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/getCompanyMonthlyBooking/\" + this.state.monthStart + \"/\" + this.state.monthEnd + \"/\" + localStorage.getItem(\"company_Id\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }) : React.createElement(BarChart, {\n      display: true,\n      boxColor: \"box-danger\",\n      title: \"Monthly Booking\",\n      api: {\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/getUserMonthlyBooking/\" + this.state.monthStart + \"/\" + this.state.monthEnd + \"/\" + localStorage.getItem(\"company_Id\") + \"/\" + localStorage.getItem(\"user_ID\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, localStorage.getItem(\"roles\").includes('corporateadmin') ? React.createElement(Report, {\n      display: true,\n      tableHeading: [\"Booking Number\", \"Location\", \"Date\"],\n      boxColor: \"box-primary\",\n      title: \"Female Employee Bookings For Today\",\n      api: {\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/EmployeeTravelled_Company/\" + localStorage.getItem(\"company_Id\")\n      },\n      redirectlink: \"/All_FemaleEmployee\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }) : React.createElement(Report, {\n      display: true,\n      tableHeading: [\"Booking Number\", \"Location\", \"Date\"],\n      boxColor: \"box-primary\",\n      title: \"Recent Bookings\",\n      api: {\n        \"method\": \"get\",\n        \"path\": \"/api/bookingmaster/get/EmployeeRecentBookings/\" + localStorage.getItem(\"company_Id\") + \"/\" + localStorage.getItem(\"user_ID\")\n      },\n      redirectlink: \"/booking-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/employerportal/src/jobportaladmin/Dashboard/Dashboard.js"],"names":["React","Component","render","moment","axios","Statistics","PieChart","BarChart","Report","Dashboard","constructor","props","state","monthStart","monthEnd","yearStart","yearEnd","cancelAllPastBookings","patch","then","res","bookingData","data","length","i","mPickupDate","pickupDate","format","pickupTime","reqDateTime","_d","isafter","isAfter","booking_id","_id","status","value","statusBy","localStorage","getItem","statusAt","Date","formValues","userId","response","catch","error","console","log","componentDidMount","get","setItem","id","setState","manager","yyyy","monthNum","currentMonth","monthDateStart","month","monthDateEnd","add","currentYear","yearDateStart","yearDateEnd","getFullYear","includes"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { render } from 'react-dom';\nimport moment     from 'moment';\nimport axios from 'axios';\nimport Statistics from './StatisticsBox/Statistics.js'\nimport PieChart from './Charts/PieChart.js'\nimport BarChart from './Charts/BarChart.js'\nimport Report from './Reports/Report.js'\n\nexport default class Dashboard extends Component{\n\tconstructor(props) {\n\t   super(props);\n\t    this.state = {\n\t      monthStart:\"\",\n\t      monthEnd:\"\",\n\t      yearStart:\"\",\n\t      yearEnd:\"\"\n\t    }\n\t}\n\n  cancelAllPastBookings(){\n      \n      axios.patch('/api/bookingmaster/allPastBookings')\n      .then((res) => {\n        var bookingData = res.data;\n        if(bookingData && bookingData.length > 0){\n            for(var i=0 ; i<bookingData.length ; i++){\n                var mPickupDate = moment(moment(bookingData[i].pickupDate).format('YYYY-MM-DD') + \" \" + bookingData[i].pickupTime);\n                var reqDateTime = mPickupDate._d;\n                var isafter = moment().isAfter(reqDateTime);\n                if(isafter){\n                    var booking_id = bookingData[i]._id;\n                    var status = {\n                                        value           : 'Cancelled',\n                                        statusBy        : localStorage.getItem(\"user_ID\"),\n                                        statusAt        : new Date(),\n                                    }\n                    var formValues ={\n                      booking_id:booking_id,\n                      status:status,\n                      userId:localStorage.getItem(\"user_ID\")\n                    }\n                    axios.patch('/api/bookingmaster/updateCancelStatus',formValues)\n                    .then((response) => {\n                    })\n                    .catch((error) =>{\n                        console.log(error)\n                    })\n                }\n            }//i\n        }\n      })\n      .catch((error) =>{\n          console.log(error)\n      })\n    }\n\n\t   \n\tcomponentDidMount(){\n\n    this.cancelAllPastBookings()\n\n    axios.get(\"/api/entitymaster/getCompany/\"+localStorage.getItem(\"companyID\"))\n    .then((response) => {\n        localStorage.setItem(\"company_Id\",response.data._id);\n    })\n    .catch((error) => {\n    })\n\n    var id = localStorage.getItem(\"user_ID\");\n    axios.get(\"/api/personmaster/getUserByUserId/\"+id)\n    .then((res) => {\n\n      console.log('res==>',res)\n        if(res.data && res.data.data[0]){\n          this.setState({manager : res.data.data[0]._id})\n        }\n    })\n    .catch((error) => {\n      console.log('personmaster error=>',error)\n    })\n\n    if(localStorage.getItem(\"manager_Id\")){\n    this.setState({manager : localStorage.getItem(\"manager_Id\")})\n    }\n\n    var yyyy = moment().format(\"YYYY\");\n    var monthNum = moment().format(\"MM\");\n    var currentMonth = yyyy+\"-\"+monthNum;\n\n    var monthDateStart = new Date(moment(currentMonth).month(\"YYYY-MM\"));//Find out first day of month with currentMonth\n    var monthDateEnd = new Date(moment(currentMonth).add(1,\"M\"));\n    this.setState({\n      monthStart:monthDateStart,\n      monthEnd:monthDateEnd\n    });\n\n    \n    var currentYear = moment().format('YYYY');\n    var yearDateStart = new Date(\"1/1/\" + currentYear);\n    var yearDateEnd = new Date (yearDateStart.getFullYear(), 11, 31);\n\n    this.setState({\n      yearStart : yearDateStart,\n      yearEnd: yearDateEnd\n    })\n\t}\n\n  render(){\n    return(\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\n           <section className=\"content\">\n           \t<div className=\"row\">\n            {localStorage.getItem(\"roles\") && localStorage.getItem(\"roles\").includes('corporateadmin') ?\n\t           \t<Statistics \n                display={true}\n\t           \t\tbgColor=\"bg-aqua\"\n\t           \t\tfaIcon=\"fa-user\"\n\t           \t\tfirstField={{\"Field\":\"Active Employees\",\"method\":\"get\",\"path\":\"/api/personmaster/get/employeeCount/Active/\"+localStorage.getItem(\"companyID\")}} \n\t           \t\tsecondField={{\"Field\":\"Inactive Employees\",\"method\":\"get\",\"path\":\"/api/personmaster/get/inactiveemployeeCount/Active/\"+localStorage.getItem(\"companyID\")}}\n\t\t\t\t      />\n              :\n              null\n            }\n            {localStorage.getItem(\"roles\").includes('manager') ?\n              <Statistics \n                display={true}\n                bgColor=\"bg-aqua\"\n                faIcon=\"fa-user\"\n                firstField={{\"Field\":\"Pending Approvals\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/pendingStatusCount/New/\"+localStorage.getItem(\"company_Id\")+\"/\"+this.state.manager}} \n                secondField={{\"Field\":\"Pending CR\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/pendingStatusCount/PR Admin Edited/\"+localStorage.getItem(\"company_Id\")+\"/\"+this.state.manager}}\n              />\n              :\n              <Statistics \n                display={true}\n                bgColor=\"bg-aqua\"\n                faIcon=\"fa-user\"\n                firstField={{\"Field\":\"Pending Approvals\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/EmployeePendingApprovalCount/New/\"+localStorage.getItem(\"company_Id\")+'/'+localStorage.getItem(\"user_ID\")}} \n                secondField={{\"Field\":\"Upcoming Trips\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/EmployeeUpcomingTripCount/\"+localStorage.getItem(\"company_Id\")+\"/\"+localStorage.getItem(\"user_ID\")}}\n              />\n            }\n            {localStorage.getItem(\"roles\").includes('corporateadmin') ?\n\t           \t<Statistics \n                display={true}\n\t           \t\tbgColor=\"bg-red\"\n\t           \t\tfaIcon=\"fa-tripadvisor\"\n\t           \t\tfirstField={{\"Field\":\"Guest Travelled\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/TravelCount/\"+this.state.yearStart+\"/\"+this.state.yearEnd+\"/\"+localStorage.getItem(\"company_Id\")+\"/guest\"}}\n\t           \t\tsecondField={{\"Field\":\"Employee Travelled\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/TravelCount/\"+this.state.yearStart+\"/\"+this.state.yearEnd+\"/\"+localStorage.getItem(\"company_Id\")+\"/employee\"}}\n\t           \t/>\n              :\n              null\n            }\n              {localStorage.getItem(\"roles\").includes('corporateadmin') ?\n\t           \t<Statistics\n                display={true}\n\t           \t\tbgColor=\"bg-green\"\n\t           \t\tfaIcon=\"fa-car\"\n\t           \t\tfirstField={{\"Field\":\"YTD Booking\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/countCorporateDateRangeBookings/\"+this.state.yearStart+\"/\"+this.state.yearEnd+\"/\"+localStorage.getItem(\"company_Id\")}}\n\t           \t\tsecondField={{\"Field\":\"MTD Booking\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/countCorporateDateRangeBookings/\"+this.state.monthStart+\"/\"+this.state.monthEnd+\"/\"+localStorage.getItem(\"company_Id\")}}\n\t           \t/>\n              :\n              <Statistics\n                display={true}\n                bgColor=\"bg-green\"\n                faIcon=\"fa-car\"\n                firstField={{\"Field\":\"YTD Booking\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/countUserDateRangeBookings/\"+this.state.yearStart+\"/\"+this.state.yearEnd+\"/\"+localStorage.getItem(\"company_Id\")+\"/\"+localStorage.getItem(\"user_ID\")}}\n                secondField={{\"Field\":\"MTD Booking\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/countUserDateRangeBookings/\"+this.state.monthStart+\"/\"+this.state.monthEnd+\"/\"+localStorage.getItem(\"company_Id\")+\"/\"+localStorage.getItem(\"user_ID\")}}\n              />\n              }\n              {localStorage.getItem(\"roles\").includes('corporateadmin') ?\n\t           \t<Statistics \n                display={true}\n\t           \t\tbgColor=\"bg-yellow\"\n\t           \t\tfaIcon=\"fa-file\"\n\t           \t\tfirstField={{\"Field\":\"Total Invoice\"}}\n\t           \t\tsecondField={{\"Field\":\"Unpaid Invoice\"}}\n\t            />\n              :\n              <Statistics \n                display={true}\n                bgColor=\"bg-yellow\"\n                faIcon=\"fa-file\"\n                firstField={{\"Field\":\"Approved Bookings\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/countCorporateApprovalDateRangeBookings/\"+this.state.yearStart+\"/\"+this.state.yearEnd+\"/\"+localStorage.getItem(\"company_Id\")+\"/\"+localStorage.getItem(\"user_ID\")+\"/Manager Approved\"}}\n                secondField={{\"Field\":\"Rejected Bookings\",\"method\":\"get\",\"path\":\"/api/bookingmaster/get/countCorporateApprovalDateRangeBookings/\"+this.state.yearStart+\"/\"+this.state.yearEnd+\"/\"+localStorage.getItem(\"company_Id\")+\"/\"+localStorage.getItem(\"user_ID\")+\"/Manager Rejected\"}}\n              />\n              }\n           \t</div>\n           \t<div className=\"row\">\n           \t\t<PieChart\n                display={false}\n           \t\t\tboxColor=\"box-success\"\n           \t\t\ttitle=\"Car Category-wise Booking\"\n                api={{\"method\":\"get\",\"path\":\"/api/bookingmaster/get/getCorporateMonthwiseBooking/\"+this.state.yearStart+\"/\"+this.state.yearEnd+\"/\"+localStorage.getItem(\"company_Id\")}} />\n           \t\t<PieChart\n                display={false}\n           \t\t\tboxColor=\"box-default\"\n           \t\t\ttitle=\"Corporate-wise Booking\" \n                api={{\"method\":\"get\",\"path\":\"/api/bookingmaster/get/corporatewiseBooking/\"+this.state.yearStart+\"/\"+this.state.yearEnd}} />\n           \t</div>\n           \t<div className=\"row\">\n            {localStorage.getItem(\"roles\").includes('corporateadmin') ?\n           \t\t<BarChart\n                display={true}\n           \t\t\tboxColor=\"box-warning\"\n           \t\t\ttitle=\"Month-wise Booking\"\n                api={{\"method\":\"get\",\"path\":\"/api/bookingmaster/get/getCompanyMonthwiseBooking/\"+this.state.yearStart+\"/\"+this.state.yearEnd+\"/\"+localStorage.getItem(\"company_Id\")}} />\n              :\n              <BarChart\n                display={true}\n                boxColor=\"box-warning\"\n                title=\"Month-wise Booking\"\n                api={{\"method\":\"get\",\"path\":\"/api/bookingmaster/get/getUserMonthwiseBooking/\"+this.state.yearStart+\"/\"+this.state.yearEnd+\"/\"+localStorage.getItem(\"company_Id\")+\"/\"+localStorage.getItem(\"user_ID\")}} />\n            }\n            {localStorage.getItem(\"roles\").includes('corporateadmin') ?\n                <BarChart\n                display={true}\n                boxColor=\"box-danger\"\n                title=\"Monthly Booking\"\n                api={{\"method\":\"get\",\"path\":\"/api/bookingmaster/get/getCompanyMonthlyBooking/\"+this.state.monthStart+\"/\"+this.state.monthEnd+\"/\"+localStorage.getItem(\"company_Id\")}} />\n           \t  :\n              <BarChart\n                display={true}\n                boxColor=\"box-danger\"\n                title=\"Monthly Booking\"\n                api={{\"method\":\"get\",\"path\":\"/api/bookingmaster/get/getUserMonthlyBooking/\"+this.state.monthStart+\"/\"+this.state.monthEnd+\"/\"+localStorage.getItem(\"company_Id\")+\"/\"+localStorage.getItem(\"user_ID\")}} />\n              }\n            </div>\n            <div className=\"row\">\n            {localStorage.getItem(\"roles\").includes('corporateadmin') ?\n              <Report\n                display={true}\n                tableHeading={[\"Booking Number\",\"Location\",\"Date\"]}\n                boxColor=\"box-primary\"\n                title=\"Female Employee Bookings For Today\"\n                api={{\"method\":\"get\",\"path\":\"/api/bookingmaster/get/EmployeeTravelled_Company/\"+localStorage.getItem(\"company_Id\")}}\n                redirectlink=\"/All_FemaleEmployee\" />\n                :\n                <Report\n                display={true}\n                tableHeading={[\"Booking Number\",\"Location\",\"Date\"]}\n                boxColor=\"box-primary\"\n                title=\"Recent Bookings\"\n                api={{\"method\":\"get\",\"path\":\"/api/bookingmaster/get/EmployeeRecentBookings/\"+localStorage.getItem(\"company_Id\")+\"/\"+localStorage.getItem(\"user_ID\")}}\n                redirectlink=\"/booking-details\" />\n            }\n            </div>\n           </section>\n        </div>\n   );\n  }\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}