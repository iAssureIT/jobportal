{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/employerportal/src/coreadmin/systemSecurity/ConfirmOtp.js\";\nimport React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport './SignUp.css';\n\nclass ConfirmOtp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showMessage: false\n    };\n  }\n\n  componentDidMount() {\n    $.validator.addMethod(\"regxemailotp\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter a valid OTP.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#OTPMobMail\").validate({\n      rules: {\n        emailotp: {\n          required: true,\n          regxemailotp: /^[1-9][0-9]{3}$/\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"emailotp\") {\n          error.insertAfter(\"#emailotp\");\n        }\n      }\n    });\n  }\n\n  confirmOTP(event) {\n    event.preventDefault();\n    var url = this.props.match.params;\n    var formValues = {\n      \"user_ID\": this.props.match.params.userID,\n      \"emailOTP\": parseInt(this.refs.emailotp.value),\n      \"status\": \"Active\"\n    };\n\n    if ($(\"#OTPMobMail\").valid()) {\n      axios.get('/api/auth/get/checkemailotp/usingID/' + this.props.match.params.userID + '/' + this.refs.emailotp.value).then(response => {\n        if (response.data.message === 'SUCCESS') {\n          swal('OTP Verified Successfully.');\n          var url = localStorage.getItem('previousUrl');\n\n          if (url === 'forgotpassword') {\n            localStorage.removeItem(\"previousUrl\");\n            this.props.history.push('/reset-pwd/' + this.props.match.params.userID);\n          } else {\n            localStorage.removeItem(\"previousUrl\");\n            this.props.history.push('/login');\n          }\n        } else {\n          swal('Please enter valid OTP.');\n        }\n      }).catch(error => {\n        swal(error.response.data.message);\n      });\n    }\n  }\n\n  inputEffect(event) {\n    event.preventDefault();\n\n    if ($(event.target).val() !== \"\") {\n      $(event.target).addClass(\"has-content\");\n    } else {\n      $(event.target).removeClass(\"has-content\");\n    }\n  }\n\n  resendOtp(event) {\n    const userid = this.props.match.params.userID;\n\n    if ($(\"#OTPMobMail\").valid()) {\n      document.getElementById(\"resendOtpBtn\").innerHTML = 'Please wait...';\n      var formValues = {\n        \"emailSubject\": \"Email Verification\",\n        \"emailContent\": \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\"\n      };\n      axios.patch('/api/auth/patch/setsendemailotpusingID/' + userid, formValues).then(response => {\n        document.getElementById(\"resendOtpBtn\").innerHTML = 'Resend OTP';\n        swal(\"OTP re-sent to your registered Email ID.\");\n      }).catch(error => {\n        swal(\" Failed to resent OTP\");\n        document.getElementById(\"resendOtpBtn\").innerHTML = 'Resend OTP';\n      });\n    }\n  }\n\n  Closepagealert(event) {\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n  }\n\n  render() {\n    var resendOtpWrap = \"resendOtpWrap resendOtpWrapcss\";\n    var mobileEmail = 'Mobile Number';\n    var resendOtp = \"\";\n    return React.createElement(\"div\", {\n      style: {\n        'height': window.innerHeight + 'px',\n        'width': window.innerWidth + 'px'\n      },\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 LoginWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt100 mb100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-12 col-xs-12 formShadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap mb25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Confirm OTP\")), this.state.showMessage === false ? React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"We've sent you an OTP to your registered Email ID.\"), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \" Please enter your OTP below.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }))), React.createElement(\"form\", {\n      id: \"OTPMobMail\",\n      className: \"textAlignLeft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group \",\n      id: \"emailotp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      ref: \"emailotp\",\n      name: \"emailotp\",\n      placeholder: \"Enter OTP\",\n      onBlur: this.inputEffect.bind(this),\n      \"aria-describedby\": \"basic-addon1\",\n      maxLength: \"4\",\n      pattern: \"(0|[0-9]*)\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"input-group-addon glyphi-custommm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-key\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"loginforgotpass mt25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"lable\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Found your Password?\"), \"\\xA0\", React.createElement(\"a\", {\n      href: \"/login\",\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Sign In \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"\\u21FE\"))), React.createElement(\"div\", {\n      className: \"mt30 col-lg-12 mb25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"resendOtpBtn\",\n      onClick: this.resendOtp.bind(this),\n      className: \"col-lg-12 btn  systemsecBtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Resend OTP\")), React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.confirmOTP.bind(this),\n      className: \"col-lg-12 btn loginBtn systemsecBtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Submit\"))))) : React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"textAlignCenter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Your Account is verified successfully! Please Sign In to access your account.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/login\",\n      className: \"col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-12 col-xs-12 button3  btn btn-warning  signupbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Sign In\")))))));\n  }\n\n}\n\nexport default ConfirmOtp;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/employerportal/src/coreadmin/systemSecurity/ConfirmOtp.js"],"names":["React","Component","swal","$","jQuery","axios","ConfirmOtp","constructor","props","state","showMessage","componentDidMount","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","emailotp","required","regxemailotp","errorPlacement","error","attr","insertAfter","confirmOTP","event","preventDefault","url","match","params","formValues","userID","parseInt","refs","valid","get","then","response","data","message","localStorage","getItem","removeItem","history","push","catch","inputEffect","target","val","addClass","removeClass","resendOtp","userid","document","getElementById","innerHTML","patch","Closepagealert","html","render","resendOtpWrap","mobileEmail","window","innerHeight","innerWidth","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport './SignUp.css';\n\nclass ConfirmOtp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showMessage: false\n    }\n  }\n  componentDidMount() {\n    $.validator.addMethod(\"regxemailotp\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter a valid OTP.\");\n\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n\n    $(\"#OTPMobMail\").validate({\n      rules: {\n        emailotp: {\n          required: true,\n          regxemailotp: /^[1-9][0-9]{3}$/,\n        },\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"emailotp\") {\n          error.insertAfter(\"#emailotp\");\n        }\n      }\n    });\n  }\n  confirmOTP(event) {\n    event.preventDefault();\n    var url = this.props.match.params;\n    var formValues = {\n      \"user_ID\": this.props.match.params.userID,\n      \"emailOTP\": parseInt(this.refs.emailotp.value),\n      \"status\": \"Active\"\n    }\n    if ($(\"#OTPMobMail\").valid()) {\n      axios.get('/api/auth/get/checkemailotp/usingID/' + this.props.match.params.userID + '/' + this.refs.emailotp.value)\n        .then((response) => {\n\n          if (response.data.message === 'SUCCESS') {\n            swal('OTP Verified Successfully.');\n            var url = localStorage.getItem('previousUrl');\n            if (url === 'forgotpassword') {\n              localStorage.removeItem(\"previousUrl\");\n              this.props.history.push('/reset-pwd/' + this.props.match.params.userID);\n            } else {\n              localStorage.removeItem(\"previousUrl\");\n              this.props.history.push('/login');\n            }\n          } else {\n            swal('Please enter valid OTP.');\n          }\n        })\n        .catch((error) => {\n          swal(error.response.data.message);\n        })\n    }\n\n  }\n  inputEffect(event) {\n    event.preventDefault();\n    if ($(event.target).val() !== \"\") {\n      $(event.target).addClass(\"has-content\");\n    } else {\n      $(event.target).removeClass(\"has-content\");\n    }\n  }\n  resendOtp(event) {\n    const userid = this.props.match.params.userID;\n    if ($(\"#OTPMobMail\").valid()) {\n    document.getElementById(\"resendOtpBtn\").innerHTML = 'Please wait...';\n      var formValues = {\n        \"emailSubject\": \"Email Verification\",\n        \"emailContent\": \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\",\n      }\n      axios.patch('/api/auth/patch/setsendemailotpusingID/' + userid, formValues)\n        .then((response) => {\n          document.getElementById(\"resendOtpBtn\").innerHTML = 'Resend OTP';\n          swal(\"OTP re-sent to your registered Email ID.\");\n        })\n      .catch((error) => {\n          swal(\" Failed to resent OTP\");\n          document.getElementById(\"resendOtpBtn\").innerHTML = 'Resend OTP';\n     })\n    }\n  }\n  Closepagealert(event) {\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n\n  }\n  render() {\n\n    var resendOtpWrap = \"resendOtpWrap resendOtpWrapcss\";\n    var mobileEmail = 'Mobile Number';\n    var resendOtp = \"\";\n\n    return (\n      <div style={{ 'height': window.innerHeight + 'px', 'width': window.innerWidth + 'px' }} className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 LoginWrapper\">\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\">\n        </div>\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt100 mb100\">\n          <div className=\"col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-12 col-xs-12 formShadow\">\n\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap mb25\">\n                <h3>Confirm OTP</h3>\n              </div>\n              {\n                this.state.showMessage === false ?\n                  <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    <p>We've sent you an OTP to your registered Email ID.</p>\n                    <div className=\"\">\n                      <span> Please enter your OTP below.<br /></span>\n                    </div>\n                    <form id=\"OTPMobMail\" className=\"textAlignLeft\">\n                      <div className=\"\">\n\n                        <br />\n                        <div className=\"input-group \" id=\"emailotp\">\n                          <input type=\"number\" className=\"form-control\" ref=\"emailotp\" name=\"emailotp\" placeholder=\"Enter OTP\" onBlur={this.inputEffect.bind(this)} aria-describedby=\"basic-addon1\" maxLength=\"4\" pattern=\"(0|[0-9]*)\" required />\n                          <span className=\"input-group-addon glyphi-custommm\"><i className=\"fa fa-key\" aria-hidden=\"true\"></i></span>\n                        </div>\n                      </div>\n                      <div className=\"loginforgotpass mt25\">\n                        <lable>Found your Password?</lable>&nbsp;<a href='/login' className=\"\">Sign In <b>&#8702;</b></a>\n                      </div>\n                      <div className=\"mt30 col-lg-12 mb25\">\n                        <div className=\"col-lg-6\">\n                          <div id=\"resendOtpBtn\" onClick={this.resendOtp.bind(this)} className=\"col-lg-12 btn  systemsecBtn\">\n                            Resend OTP\n                          </div>\n                        </div>\n                        <div className=\"col-lg-6\">\n                          <button type=\"submit\" onClick={this.confirmOTP.bind(this)} className=\"col-lg-12 btn loginBtn systemsecBtn\">Submit</button>\n                        </div>\n                      </div>\n                    </form>\n                  </div>\n                  :\n                  <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    <p className=\"textAlignCenter\">Your Account is verified successfully! Please Sign In to access your account.<br /></p>\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt15\">\n                      <a href=\"/login\" className=\"col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-12 col-xs-12 button3  btn btn-warning  signupbtn\">Sign In</a>\n                    </div>\n                  </div>\n              }\n\n            </div>\n          </div>\n\n        </div>\n      </div>\n    );\n  }\n}\nexport default ConfirmOtp;"]},"metadata":{},"sourceType":"module"}