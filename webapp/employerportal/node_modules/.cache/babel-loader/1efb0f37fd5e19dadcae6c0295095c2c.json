{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/employerportal/src/coreadmin/PaymentProcess/OrderPage.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport Moment from 'react-moment';\nimport moment from 'moment';\nimport \"./OrderPage.css\";\nexport default class OrderPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: \"24/09/2019\",\n      orderNumber: \"123456\",\n      planName: \"Gold Plan\",\n      amount: 35000,\n      validityPeriod: \"3 Months\",\n      endsOn: \"Ends on 12/6/2020\",\n      offeringName: \"Gold Plan\",\n      orderResponse: \"\"\n    };\n  }\n\n  ScrollTop(event) {\n    window.scrollTo(0, 0);\n  }\n\n  componentDidMount() {\n    var user_ID = localStorage.getItem('user_ID');\n    axios.get('/api/subscriptionorders/paymentOrderDetailsUser/' + user_ID).then(orderResponse => {\n      this.setState({\n        orderResponse: orderResponse.data\n      });\n    }).catch(function (error) {\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  render() {\n    const loggedIn = localStorage.getItem(\"user_ID\");\n    return loggedIn ? React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 backColorWhite  \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, this.state.orderResponse.length > 0 ? React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 noPadding  \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-10 col-lg-offset-1 col-md-12 col-sm-12 col-xs-12 selectedPlanOP noPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \" My Orders\")), React.createElement(\"div\", {\n      className: \"col-lg-7 col-lg-offset-1  col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, this.state.orderResponse && this.state.orderResponse.length > 0 ? this.state.orderResponse.map((data, index) => {\n      return React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 PlanDetailsOP\",\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/invoicePageView/\" + data.paymentOrderId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"centreDetaillistItemOP  col-lg-8  col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Order Number :\", React.createElement(\"span\", {\n        className: \"noBold hoverEffect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \" \", data.invoiceNum)), React.createElement(\"span\", {\n        className: \"centreDetaillistItemOP col-lg-4  col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"pull-right \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Date : \", React.createElement(\"span\", {\n        className: \"noBold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"   \", React.createElement(Moment, {\n        format: \"DD/MM/YYYY\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, data.createdAt)))), React.createElement(\"span\", {\n        className: \"centreDetaillistItemOP col-lg-12  col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Plan Name :\", React.createElement(\"span\", {\n        className: \"noBold hoverEffect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"  \", data.planName)), React.createElement(\"span\", {\n        className: \"centreDetaillistItemOP col-lg-12  col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Amount : \", React.createElement(\"span\", {\n        className: \"noBold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        class: \"fa fa-rupee\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"\\xA0\"), \" \", data.amountPaid / 100)), React.createElement(\"span\", {\n        className: \"centreDetaillistItemOP col-lg-12  col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Validity Period :\", React.createElement(\"span\", {\n        className: \"noBold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, data.planName, \" \\xA0 ( \", moment(moment(data.createdAt).add(data.validityPeriod, 'M')._d).format(\"DD-MM-YYYY\"), \" )\")), React.createElement(\"span\", {\n        className: \"centreDetaillistItemOP col-lg-12  col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Payment Status: \", React.createElement(\"span\", {\n        className: \"noBold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, data.paymentStatus !== \"Paid\" ? \"Failed\" : \"Success\", \" \"))));\n    }) : null))) : React.createElement(\"div\", {\n      className: \"selectedPlanNoOrders\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"No orders yet!\"))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, this.props.history.push(\"/login\"));\n  }\n\n}","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/employerportal/src/coreadmin/PaymentProcess/OrderPage.js"],"names":["React","Component","axios","swal","Moment","moment","OrderPage","constructor","props","state","date","orderNumber","planName","amount","validityPeriod","endsOn","offeringName","orderResponse","ScrollTop","event","window","scrollTo","componentDidMount","user_ID","localStorage","getItem","get","then","setState","data","catch","error","message","history","push","render","loggedIn","length","map","index","paymentOrderId","invoiceNum","createdAt","amountPaid","add","_d","format","paymentStatus"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios                from 'axios';\nimport swal                 from 'sweetalert';\nimport Moment               from 'react-moment';\nimport moment               from 'moment';\n\nimport \"./OrderPage.css\";\n\nexport default class OrderPage extends Component {\n\n  constructor(props) {\n    super(props);\n        this.state = {\n          date            : \"24/09/2019\",\n          orderNumber     : \"123456\",\n          planName        : \"Gold Plan\",\n          amount          : 35000,\n          validityPeriod  : \"3 Months\",\n          endsOn          : \"Ends on 12/6/2020\",\n          offeringName    : \"Gold Plan\",\n          orderResponse   : \"\",\n        };\n    }\n  ScrollTop(event){\n    window.scrollTo(0,0);\n  }\n  componentDidMount()\n  {\n    var user_ID = localStorage.getItem('user_ID')      \n    axios\n        .get('/api/subscriptionorders/paymentOrderDetailsUser/'+user_ID)\n        .then((orderResponse)=>{ \n\n          this.setState({\n            orderResponse : orderResponse.data,\n          })\n\n        })\n        .catch(function(error){\n            if(error.message === \"Request failed with status code 401\")\n            {\n               swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n               this.props.history.push(\"/\");\n            }\n        })\n\n  }\n\n\n  render() {\n    const loggedIn = localStorage.getItem(\"user_ID\");\n    return (\n            loggedIn ?\n\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 backColorWhite  \">\n              {\n                this.state.orderResponse.length>0 ?\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 noPadding  \">\n                      <div className=\"col-lg-10 col-lg-offset-1 col-md-12 col-sm-12 col-xs-12 selectedPlanOP noPadding\">\n                          <label> My Orders</label>\n                      </div>\n                      <div className=\"col-lg-7 col-lg-offset-1  col-md-12 col-sm-12 col-xs-12 \">\n                          <div className=\"row\">\n                          {\n                            this.state.orderResponse && this.state.orderResponse.length>0 ?\n                            this.state.orderResponse.map((data, index)=>{\n                              return(\n                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 PlanDetailsOP\" key={index} >\n                                <a href={\"/invoicePageView/\"+data.paymentOrderId}>\n                                  <span className=\"centreDetaillistItemOP  col-lg-8  col-md-12 col-sm-12 col-xs-12\">Order Number :<span className=\"noBold hoverEffect\"> {data.invoiceNum}</span></span>\n                                  <span className=\"centreDetaillistItemOP col-lg-4  col-md-12 col-sm-12 col-xs-12\"><span className=\"pull-right \">Date : <span className=\"noBold\">   <Moment format=\"DD/MM/YYYY\">{data.createdAt}</Moment></span></span></span>\n                                  <span className=\"centreDetaillistItemOP col-lg-12  col-md-12 col-sm-12 col-xs-12\">Plan Name :<span className=\"noBold hoverEffect\">  {data.planName}</span></span>\n                                  <span className=\"centreDetaillistItemOP col-lg-12  col-md-12 col-sm-12 col-xs-12\">Amount : <span className=\"noBold\"> <i class=\"fa fa-rupee\">&nbsp;</i> {(data.amountPaid)/100}</span></span>\n                                  <span className=\"centreDetaillistItemOP col-lg-12  col-md-12 col-sm-12 col-xs-12\">Validity Period : \n                                    \n                                    <span className=\"noBold\">{data.planName} &nbsp;\n                                      ( {\n                                         moment( moment(data.createdAt).add(data.validityPeriod, 'M')._d).format(\"DD-MM-YYYY\")\n                                      } )\n                                    </span>\n                                 \n                                  </span>\n                                  <span className=\"centreDetaillistItemOP col-lg-12  col-md-12 col-sm-12 col-xs-12\">Payment Status: <span className=\"noBold\">{data.paymentStatus !== \"Paid\" ?  \"Failed\" : \"Success\" } </span></span>\n                                </a>\n                                </div>\n                            )\n                            })\n                            :\n                            null\n                          }\n                          \n                      </div>\n                      \n                      </div>\n                     \n                    </div>\n                    :\n                    <div className=\"selectedPlanNoOrders\"><label>No orders yet!</label></div>\n                  }\n            </div>\n             :\n            <div>\n              {this.props.history.push(\"/login\")}\n            </div>\n            \n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}