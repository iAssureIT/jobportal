{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/employerportal/src/coreadmin/Master/EmployeeVehicalMapping/EmployeeVehicalMapping.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport IAssureTable from '../../IAssureTable/IAssureTable.jsx';\nimport { withRouter } from 'react-router-dom';\nimport { CheckBoxSelection, Inject, MultiSelectComponent } from '@syncfusion/ej2-react-dropdowns';\nimport \"./EmployeeVehicalMapping.css\";\n\nclass EmployeeVehicalMapping extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"user_ID\": \"\",\n      \"id\": \"\",\n      \"secondField\": \"\",\n      empCategory: \"\",\n      VehicleCategory: \"\",\n      company: \"\",\n      \"secondFieldData\": [],\n      \"companyArray\": [],\n      \"selectedIndex\": \"\",\n      \"vehicalAvailable\": true,\n      \"tableHeading\": {\n        empCategory: \"Employee Category\",\n        company: \"Corporate Name\",\n        vehicalCategory: \"Vehical Category\",\n        actions: 'Action'\n      },\n      \"tableObjects\": {\n        deleteMethod: 'delete',\n        apiLink: '/api/VehicleEmployeeMapping/',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/project-master-data'\n      },\n      \"startRange\": 0,\n      \"limitRange\": 10,\n      \"categoryID\": ''\n    };\n  }\n\n  componentDidMount() {\n    this.getVehicals();\n    this.getCompany();\n    const user_ID = localStorage.getItem(\"user_ID\");\n    var company_Id = localStorage.getItem(\"company_Id\");\n    this.setState({\n      user_ID: user_ID,\n      company_Id: company_Id\n    });\n\n    if (this.state.categoryID) {\n      console.log(\"In Component Did mount\", this.state.categoryID);\n      this.edit(this.state.categoryID);\n    }\n\n    this.getData();\n    $.validator.addMethod(\"regxonefield\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid field value\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#empVehicalCategory\").validate({\n      rules: {\n        empCategory: {\n          required: true\n        },\n        company: {\n          required: true\n        }\n        /* vehicalCategory: {\n           required: true,\n         },*/\n\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"empCategory\") {\n          error.insertAfter(\"#empCategory\");\n        }\n        /*if (element.attr(\"name\") === \"vehicalCategory\") {\n          error.insertAfter(\"#vehicalCategory\");\n        }*/\n\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    var company_Id = localStorage.getItem(\"company_Id\");\n    console.log(\"nextProps\", nextProps);\n    this.setState({\n      categoryID: nextProps.editId,\n      company_Id: company_Id\n    }, () => {\n      console.log(\"In Component will receive prop\", this.state.categoryID);\n      this.edit(this.state.categoryID);\n    });\n  } // componentDidUpdate(prevProps,nextProps) {\n  //     console.log(\"onefieldform 31 componentDidUpdate editId = \",nextProps.categoryID,this.state.categoryID,prevProps.editId);                            \n  //     if (prevProps.editId !== this.state.categoryID) {\n  //         this.setState({ categoryID: prevProps.categoryID },\n  //             () => {\n  //                 console.log(\"Here\")\n  //                 this.edit(this.state.categoryID);\n  //             });\n  //     }\n  // }\n\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  submitCategory(event) {\n    event.preventDefault();\n    var vehicleCatArray = this.state.VehicleCategory;\n    var result = [];\n\n    for (var i = 0; i < vehicleCatArray.length; i++) {\n      result.push({\n        category_id: vehicleCatArray[i]\n      });\n    } //i\n\n\n    var formvalue = {\n      empCategory: this.state.empCategory,\n      company: this.state.company,\n      VehicleCategory: result,\n      createdBy: localStorage.getItem(\"user_ID\")\n    };\n\n    if (this.state.VehicleCategory) {\n      this.setState({\n        vehicalAvailable: true\n      });\n    } else {\n      this.setState({\n        vehicalAvailable: false\n      });\n    }\n\n    if ($('#empVehicalCategory').valid() && this.state.vehicalAvailable) {\n      axios.post('/api/VehicleEmployeeMapping/post', formvalue).then(response => {\n        if (response.data.duplicated == true) {\n          swal({\n            text: \"Duplicate Entry\"\n          });\n        } else {\n          swal({\n            text: \"Details added successfully!\"\n          });\n        }\n\n        this.dropDownListObject.value = null;\n        this.setState({\n          empCategory: \"\",\n          VehicleCategory: \"\",\n          company: \"\"\n        });\n        this.getData();\n      }).catch(error => {\n        console.log(\"Error in Post API of Two field = \", error);\n      });\n    }\n  }\n\n  updateCategory(event) {\n    event.preventDefault();\n    var vehicleCatArray = this.state.VehicleCategory;\n    var result = [];\n\n    for (var i = 0; i < vehicleCatArray.length; i++) {\n      result.push({\n        category_id: vehicleCatArray[i]\n      });\n    } //i\n\n\n    var formvalues = {\n      id: this.state.id,\n      empCategory: this.state.empCategory,\n      company: this.state.company,\n      VehicleCategory: result,\n      updatedBy: localStorage.getItem(\"user_ID\")\n    };\n\n    if ($('#empVehicalCategory').valid()) {\n      axios.patch('/api/VehicleEmployeeMapping/patch', formvalues).then(response => {\n        swal(\" \", \"Record updated Successfully\");\n        $('#empCategory').prop('disabled', false);\n        $('#company').prop('disabled', false);\n        this.dropDownListObject.value = null;\n        this.setState({\n          empCategory: \"\",\n          VehicleCategory: \"\",\n          company: \"\",\n          id: \"\"\n        }, () => {\n          this.getData();\n          this.props.history.push(\"/project-master-data\");\n        });\n      }).catch(error => {\n        swal(\" \", \"Failed to Update Record\");\n      });\n    }\n  }\n\n  getData() {\n    axios.post('/api/VehicleEmployeeMapping/list').then(response => {\n      var tableData = response.data.map((value, i) => {\n        return {\n          _id: value._id,\n          empCategory: value.empCategory,\n          company: value.company[0].companyName,\n          vehicalCategory: value.vehicle ? value.vehicle.map((a, i) => {\n            return a.category;\n          }) : \"-NA-\"\n        };\n      });\n      this.setState({\n        tableData: tableData\n      });\n    }).catch(error => {});\n  }\n\n  edit(id) {\n    if (id) {\n      $(\"html,body\").scrollTop(0);\n      $('#empCategory').prop('disabled', true);\n      $('#company').prop('disabled', true);\n      axios.get('/api/VehicleEmployeeMapping/get/one/' + id).then(response => {\n        console.log('response: ', response);\n        var data = response.data.VehicleCategory;\n        var array = [];\n\n        for (var i = 0; i < data.length; i++) {\n          array.push(data[i].category_id);\n        } //i\n\n\n        this.dropDownListObject.value = array;\n        this.setState({\n          id: response.data._id,\n          empCategory: response.data.empCategory,\n          company: response.data.company,\n          VehicleCategory: array\n        });\n      }).catch(error => {});\n    }\n  }\n\n  getVehicals() {\n    axios.get(\"/api/categorymaster/get/list\").then(response => {\n      var vehicalArray = [];\n      response.data.map((data, ind) => {\n        vehicalArray.push({\n          id: data._id,\n          VehicleCategory: data.category\n        });\n      });\n      this.setState({\n        vehicalArray: vehicalArray\n      });\n    }).catch(error => {});\n  }\n\n  getCompany() {\n    axios.get('/api/entitymaster/get/corporate').then(response => {\n      this.setState({\n        companyArray: response.data\n      }, () => {});\n    }).catch(function (error) {});\n  }\n\n  handleChangeFilter(event) {\n    if (event.value) {\n      this.setState({\n        VehicleCategory: event.value\n      }, () => {\n        if (this.state.VehicleCategory) {\n          this.setState({\n            vehicalAvailable: true\n          });\n        } else {\n          this.setState({\n            vehicalAvailable: false\n          });\n        }\n      });\n    }\n  }\n\n  closeModal(event) {\n    event.preventDefault();\n    $(\"#oneField\").hide();\n    $(\".modal-backdrop\").remove();\n    this.props.history.push('/project-master-data');\n  }\n\n  render() {\n    const vehicalfields = {\n      text: 'VehicleCategory',\n      value: 'id'\n    };\n    return React.createElement(\"div\", {\n      className: \"companyDisplayForm col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"col-md-12 pageContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-12 col-md-11 col-xs-11 col-sm-11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, \"Employee Vehical Mapping\")), React.createElement(\"form\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"empVehicalCategory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left NOpadding-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 driver person employee\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, \"Corporate\", React.createElement(\"i\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      className: \"customSelect col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.company,\n      ref: \"company\",\n      name: \"company\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"--Select Company--\"), this.state.companyArray && this.state.companyArray.length > 0 ? this.state.companyArray.map((data, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: data.companyID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, data.companyName, \" \");\n    }) : null))), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 driver person employee\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"empCategory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, \"Employee Category \", React.createElement(\"i\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      className: \"customSelect col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      ref: \"empCategory\",\n      value: this.state.empCategory,\n      name: \"empCategory\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      className: \"colorChange\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, \"Select Category\"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"2\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, \"3\")))), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-xs-12 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"vehicalCategory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-xs-12 col-sm-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, \"Vehicals\", React.createElement(\"i\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, \"*\")), React.createElement(MultiSelectComponent, {\n      id: \"categoryChange\",\n      ref: scope => {\n        this.dropDownListObject = scope;\n      },\n      dataSource: this.state.vehicalArray,\n      change: this.handleChangeFilter.bind(this),\n      mode: \"box\",\n      fields: vehicalfields,\n      placeholder: \"Select Vehicle category\",\n      mode: \"CheckBox\",\n      selectAllText: \"Select All\",\n      unSelectAllText: \"Unselect All\",\n      showSelectAll: true,\n      hideSelectedItem: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(Inject, {\n      services: [CheckBoxSelection],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }))), React.createElement(\"label\", {\n      className: \"errorMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, this.state.vehicalAvailable == true ? \"\" : \"This field is required\"))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, this.state.categoryID ? React.createElement(\"button\", {\n      className: \"btn button3 pull-right\",\n      onClick: this.updateCategory.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, \"Update\\xA0\") : React.createElement(\"button\", {\n      className: \"btn button3 pull-right\",\n      onClick: this.submitCategory.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, \"Submit\\xA0\"))), React.createElement(\"div\", {\n      className: \"oneFieldTable col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      dataCount: this.state.dataCount,\n      tableData: this.state.tableData,\n      getData: this.getData.bind(this),\n      tableObjects: this.state.tableObjects,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default EmployeeVehicalMapping;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/employerportal/src/coreadmin/Master/EmployeeVehicalMapping/EmployeeVehicalMapping.js"],"names":["React","Component","$","jQuery","axios","swal","IAssureTable","withRouter","CheckBoxSelection","Inject","MultiSelectComponent","EmployeeVehicalMapping","constructor","props","state","empCategory","VehicleCategory","company","vehicalCategory","actions","deleteMethod","apiLink","paginationApply","searchApply","editUrl","componentDidMount","getVehicals","getCompany","user_ID","localStorage","getItem","company_Id","setState","categoryID","console","log","edit","getData","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","required","errorPlacement","error","attr","insertAfter","componentWillReceiveProps","nextProps","editId","handleChange","event","preventDefault","target","name","submitCategory","vehicleCatArray","result","i","length","push","category_id","formvalue","createdBy","vehicalAvailable","valid","post","then","response","data","duplicated","text","dropDownListObject","catch","updateCategory","formvalues","id","updatedBy","patch","prop","history","tableData","map","_id","companyName","vehicle","a","category","scrollTop","get","array","vehicalArray","ind","companyArray","handleChangeFilter","closeModal","hide","remove","render","vehicalfields","bind","companyID","scope","tableHeading","dataCount","tableObjects"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAqC,OAArC;AACA,OAAOC,CAAP,MAAqC,QAArC;AACA,OAAOC,MAAP,MAAqC,QAArC;AACA,OAAOC,KAAP,MAAqC,OAArC;AACA,OAAOC,IAAP,MAAqC,YAArC;AACA,OAAOC,YAAP,MAAqC,qCAArC;AACA,SAASC,UAAT,QAAqC,kBAArC;AACA,SAASC,iBAAT,EAA4BC,MAA5B,EAAoCC,oBAApC,QAAgE,iCAAhE;AACA,OAAO,8BAAP;;AACA,MAAMC,sBAAN,SAAqCV,SAArC,CAA+C;AAC3CW,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACT,iBAAyB,EADhB;AAET,YAAoB,EAFX;AAGT,qBAAyB,EAHhB;AAITC,MAAAA,WAAW,EAAC,EAJH;AAKTC,MAAAA,eAAe,EAAC,EALP;AAMTC,MAAAA,OAAO,EAAC,EANC;AAOT,yBAAyB,EAPhB;AAQT,sBAAsB,EARb;AAST,uBAAyB,EAThB;AAUT,0BAAwB,IAVf;AAWT,sBAAgB;AACZF,QAAAA,WAAW,EAAE,mBADD;AAEZE,QAAAA,OAAO,EAAE,gBAFG;AAGZC,QAAAA,eAAe,EAAG,kBAHN;AAIZC,QAAAA,OAAO,EAAE;AAJG,OAXP;AAiBT,sBAAgB;AACZC,QAAAA,YAAY,EAAE,QADF;AAEZC,QAAAA,OAAO,EAAE,8BAFG;AAGZC,QAAAA,eAAe,EAAE,KAHL;AAIZC,QAAAA,WAAW,EAAE,KAJD;AAKZC,QAAAA,OAAO,EAAE;AALG,OAjBP;AAwBT,oBAAc,CAxBL;AAyBT,oBAAc,EAzBL;AA0BT,oBAAyB;AA1BhB,KAAb;AA4BH;;AACDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,WAAL;AACA,SAAKC,UAAL;AACA,UAAMC,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAhB;AACA,QAAIC,UAAU,GAAGF,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAjB;AACA,SAAKE,QAAL,CAAc;AACVJ,MAAAA,OAAO,EAAGA,OADA;AAEVG,MAAAA,UAAU,EAACA;AAFD,KAAd;;AAIA,QAAG,KAAKjB,KAAL,CAAWmB,UAAd,EAAyB;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAqC,KAAKrB,KAAL,CAAWmB,UAAhD;AACA,WAAKG,IAAL,CAAU,KAAKtB,KAAL,CAAWmB,UAArB;AACH;;AACD,SAAKI,OAAL;AAGAnC,IAAAA,CAAC,CAACoC,SAAF,CAAYC,SAAZ,CAAsB,cAAtB,EAAsC,UAAUC,KAAV,EAAiBC,OAAjB,EAA0BC,OAA1B,EAAmC;AACvE,aAAOA,OAAO,CAACC,IAAR,CAAaH,KAAb,CAAP;AACD,KAFD,EAEG,gCAFH;AAIArC,IAAAA,MAAM,CAACmC,SAAP,CAAiBM,WAAjB,CAA6B;AAC3BC,MAAAA,KAAK,EAAE,IADoB;AAE3BC,MAAAA,OAAO,EAAE;AAFkB,KAA7B;AAIA5C,IAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyB6C,QAAzB,CAAkC;AAClCC,MAAAA,KAAK,EAAE;AACHjC,QAAAA,WAAW,EAAE;AACXkC,UAAAA,QAAQ,EAAE;AADC,SADV;AAIHhC,QAAAA,OAAO,EAAE;AACPgC,UAAAA,QAAQ,EAAE;AADH;AAGV;;;;AAPI,OAD2B;AAYlCC,MAAAA,cAAc,EAAE,UAAUC,KAAV,EAAiBV,OAAjB,EAA0B;AACtC,YAAIA,OAAO,CAACW,IAAR,CAAa,MAAb,MAAyB,aAA7B,EAA4C;AAC1CD,UAAAA,KAAK,CAACE,WAAN,CAAkB,cAAlB;AACD;AACD;;;;AAGD;AAnB+B,KAAlC;AAqBH;;AAEDC,EAAAA,yBAAyB,CAACC,SAAD,EAAY;AACjC,QAAIxB,UAAU,GAAGF,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAjB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBoB,SAAxB;AACC,SAAKvB,QAAL,CAAc;AACZC,MAAAA,UAAU,EAAEsB,SAAS,CAACC,MADV;AAEZzB,MAAAA,UAAU,EAAGA;AAFD,KAAd,EAGC,MAAI;AACFG,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA6C,KAAKrB,KAAL,CAAWmB,UAAxD;AACA,WAAKG,IAAL,CAAU,KAAKtB,KAAL,CAAWmB,UAArB;AACH,KANA;AAOJ,GAzF0C,CA0F3C;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAwB,EAAAA,YAAY,CAACC,KAAD,EAAQ;AAChBA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,MAAM,GAAGF,KAAK,CAACE,MAArB;AACA,UAAMC,IAAI,GAAGD,MAAM,CAACC,IAApB;AACA,SAAK7B,QAAL,CAAc;AACV,OAAC6B,IAAD,GAASH,KAAK,CAACE,MAAN,CAAapB;AADZ,KAAd;AAGH;;AAEDsB,EAAAA,cAAc,CAACJ,KAAD,EAAQ;AAClBA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAII,eAAe,GAAG,KAAKjD,KAAL,CAAWE,eAAjC;AACF,QAAIgD,MAAM,GAAG,EAAb;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAcA,CAAC,GAACF,eAAe,CAACG,MAAhC,EAAyCD,CAAC,EAA1C,EAA6C;AAC3CD,MAAAA,MAAM,CAACG,IAAP,CAAY;AAACC,QAAAA,WAAW,EAACL,eAAe,CAACE,CAAD;AAA5B,OAAZ;AACD,KANmB,CAMnB;;;AACC,QAAII,SAAS,GAAE;AACbtD,MAAAA,WAAW,EAAM,KAAKD,KAAL,CAAWC,WADf;AAEbE,MAAAA,OAAO,EAAM,KAAKH,KAAL,CAAWG,OAFX;AAGbD,MAAAA,eAAe,EAAGgD,MAHL;AAIbM,MAAAA,SAAS,EAAGzC,YAAY,CAACC,OAAb,CAAqB,SAArB;AAJC,KAAf;;AAMA,QAAG,KAAKhB,KAAL,CAAWE,eAAd,EACA;AACI,WAAKgB,QAAL,CAAc;AACVuC,QAAAA,gBAAgB,EAAC;AADP,OAAd;AAGH,KALD,MAKK;AACA,WAAKvC,QAAL,CAAc;AACXuC,QAAAA,gBAAgB,EAAC;AADN,OAAd;AAGJ;;AACD,QAAIrE,CAAC,CAAC,qBAAD,CAAD,CAAyBsE,KAAzB,MAAoC,KAAK1D,KAAL,CAAWyD,gBAAnD,EAAqE;AACjEnE,MAAAA,KAAK,CAACqE,IAAN,CAAW,kCAAX,EAA8CJ,SAA9C,EACCK,IADD,CACOC,QAAD,IAAc;AAChB,YAAGA,QAAQ,CAACC,IAAT,CAAcC,UAAd,IAA4B,IAA/B,EAAoC;AAChCxE,UAAAA,IAAI,CAAC;AACLyE,YAAAA,IAAI,EAAE;AADD,WAAD,CAAJ;AAGH,SAJD,MAIK;AACPzE,UAAAA,IAAI,CAAC;AACCyE,YAAAA,IAAI,EAAE;AADP,WAAD,CAAJ;AAGD;;AACD,aAAKC,kBAAL,CAAwBvC,KAAxB,GAAgC,IAAhC;AACC,aAAKR,QAAL,CAAc;AACXjB,UAAAA,WAAW,EAAM,EADN;AAEXC,UAAAA,eAAe,EAAG,EAFP;AAGXC,UAAAA,OAAO,EAAG;AAHC,SAAd;AAKC,aAAKoB,OAAL;AACD,OAlBD,EAmBC2C,KAnBD,CAmBQ7B,KAAD,IAAW;AACdjB,QAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAgDgB,KAAhD;AACH,OArBD;AAsBH;AACJ;;AACD8B,EAAAA,cAAc,CAACvB,KAAD,EAAQ;AAClBA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAII,eAAe,GAAG,KAAKjD,KAAL,CAAWE,eAAjC;AACA,QAAIgD,MAAM,GAAG,EAAb;;AACE,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAcA,CAAC,GAACF,eAAe,CAACG,MAAhC,EAAyCD,CAAC,EAA1C,EAA6C;AAC3CD,MAAAA,MAAM,CAACG,IAAP,CAAY;AAACC,QAAAA,WAAW,EAACL,eAAe,CAACE,CAAD;AAA5B,OAAZ;AACD,KANe,CAMf;;;AACD,QAAIiB,UAAU,GAAE;AACdC,MAAAA,EAAE,EAAE,KAAKrE,KAAL,CAAWqE,EADD;AAEdpE,MAAAA,WAAW,EAAM,KAAKD,KAAL,CAAWC,WAFd;AAGdE,MAAAA,OAAO,EAAM,KAAKH,KAAL,CAAWG,OAHV;AAIdD,MAAAA,eAAe,EAAGgD,MAJJ;AAKdoB,MAAAA,SAAS,EAAGvD,YAAY,CAACC,OAAb,CAAqB,SAArB;AALE,KAAhB;;AAOH,QAAI5B,CAAC,CAAC,qBAAD,CAAD,CAAyBsE,KAAzB,EAAJ,EAAsC;AACjCpE,MAAAA,KAAK,CAACiF,KAAN,CAAY,mCAAZ,EAAgDH,UAAhD,EACCR,IADD,CACOC,QAAD,IAAc;AAChBtE,QAAAA,IAAI,CAAC,GAAD,EAAK,6BAAL,CAAJ;AACAH,QAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBoF,IAAlB,CAAuB,UAAvB,EAAmC,KAAnC;AACApF,QAAAA,CAAC,CAAC,UAAD,CAAD,CAAcoF,IAAd,CAAmB,UAAnB,EAA+B,KAA/B;AACA,aAAKP,kBAAL,CAAwBvC,KAAxB,GAAgC,IAAhC;AACA,aAAKR,QAAL,CAAc;AACTjB,UAAAA,WAAW,EAAM,EADR;AAERC,UAAAA,eAAe,EAAG,EAFV;AAGRC,UAAAA,OAAO,EAAG,EAHF;AAIRkE,UAAAA,EAAE,EAAC;AAJK,SAAd,EAKE,MAAI;AACF,eAAK9C,OAAL;AACA,eAAKxB,KAAL,CAAW0E,OAAX,CAAmBpB,IAAnB,CAAwB,sBAAxB;AACH,SARD;AASH,OAfD,EAgBCa,KAhBD,CAgBQ7B,KAAD,IAAW;AACd9C,QAAAA,IAAI,CAAC,GAAD,EAAK,yBAAL,CAAJ;AACH,OAlBD;AAmBH;AACJ;;AAEDgC,EAAAA,OAAO,GAAG;AACNjC,IAAAA,KAAK,CAACqE,IAAN,CAAW,kCAAX,EACCC,IADD,CACOC,QAAD,IAAc;AAChB,UAAIa,SAAS,GAAGb,QAAQ,CAACC,IAAT,CAAca,GAAd,CAAkB,CAACjD,KAAD,EAAOyB,CAAP,KAAW;AACzC,eAAM;AACFyB,UAAAA,GAAG,EAAGlD,KAAK,CAACkD,GADV;AAEF3E,UAAAA,WAAW,EAAEyB,KAAK,CAACzB,WAFjB;AAGFE,UAAAA,OAAO,EAAEuB,KAAK,CAACvB,OAAN,CAAc,CAAd,EAAiB0E,WAHxB;AAIFzE,UAAAA,eAAe,EAAEsB,KAAK,CAACoD,OAAN,GAAgBpD,KAAK,CAACoD,OAAN,CAAcH,GAAd,CAAkB,CAACI,CAAD,EAAG5B,CAAH,KAAO;AAAC,mBAAQ4B,CAAC,CAACC,QAAV;AAAoB,WAA9C,CAAhB,GAAgE;AAJ/E,SAAN;AAOH,OARe,CAAhB;AASA,WAAK9D,QAAL,CAAc;AACVwD,QAAAA,SAAS,EAAEA;AADD,OAAd;AAGH,KAdD,EAeCR,KAfD,CAeQ7B,KAAD,IAAW,CACjB,CAhBD;AAiBH;;AAEDf,EAAAA,IAAI,CAAC+C,EAAD,EAAK;AACL,QAAGA,EAAH,EAAM;AACFjF,MAAAA,CAAC,CAAC,WAAD,CAAD,CAAe6F,SAAf,CAAyB,CAAzB;AACA7F,MAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBoF,IAAlB,CAAuB,UAAvB,EAAmC,IAAnC;AACApF,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAcoF,IAAd,CAAmB,UAAnB,EAA+B,IAA/B;AACJlF,MAAAA,KAAK,CAAC4F,GAAN,CAAU,yCAAuCb,EAAjD,EACGT,IADH,CACSC,QAAD,IAAc;AAClBzC,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBwC,QAAzB;AACA,YAAIC,IAAI,GAAGD,QAAQ,CAACC,IAAT,CAAc5D,eAAzB;AACA,YAAIiF,KAAK,GAAG,EAAZ;;AACA,aAAI,IAAIhC,CAAC,GAAC,CAAV,EAAcA,CAAC,GAACW,IAAI,CAACV,MAArB,EAA8BD,CAAC,EAA/B,EAAkC;AAC9BgC,UAAAA,KAAK,CAAC9B,IAAN,CAAWS,IAAI,CAACX,CAAD,CAAJ,CAAQG,WAAnB;AACH,SANiB,CAMjB;;;AACD,aAAKW,kBAAL,CAAwBvC,KAAxB,GAAgCyD,KAAhC;AACE,aAAKjE,QAAL,CAAc;AACZmD,UAAAA,EAAE,EAAGR,QAAQ,CAACC,IAAT,CAAcc,GADP;AAEZ3E,UAAAA,WAAW,EAAG4D,QAAQ,CAACC,IAAT,CAAc7D,WAFhB;AAGZE,UAAAA,OAAO,EAAG0D,QAAQ,CAACC,IAAT,CAAc3D,OAHZ;AAIZD,UAAAA,eAAe,EAAGiF;AAJN,SAAd;AAMH,OAfH,EAgBGjB,KAhBH,CAgBU7B,KAAD,IAAW,CAAE,CAhBtB;AAiBC;AACJ;;AACDzB,EAAAA,WAAW,GAAG;AACVtB,IAAAA,KAAK,CAAC4F,GAAN,CAAU,8BAAV,EACKtB,IADL,CACWC,QAAD,IAAc;AAChB,UAAIuB,YAAY,GAAG,EAAnB;AACAvB,MAAAA,QAAQ,CAACC,IAAT,CAAca,GAAd,CAAkB,CAACb,IAAD,EAAOuB,GAAP,KAAe;AAC7BD,QAAAA,YAAY,CAAC/B,IAAb,CAAkB;AAAEgB,UAAAA,EAAE,EAAEP,IAAI,CAACc,GAAX;AAAgB1E,UAAAA,eAAe,EAAE4D,IAAI,CAACkB;AAAtC,SAAlB;AACH,OAFD;AAGA,WAAK9D,QAAL,CAAc;AAAEkE,QAAAA,YAAY,EAAEA;AAAhB,OAAd;AACH,KAPL,EAQKlB,KARL,CAQY7B,KAAD,IAAW,CACjB,CATL;AAUH;;AACDxB,EAAAA,UAAU,GAAG;AACTvB,IAAAA,KAAK,CAAC4F,GAAN,CAAU,iCAAV,EACGtB,IADH,CACSC,QAAD,IAAc;AAClB,WAAK3C,QAAL,CAAc;AACZoE,QAAAA,YAAY,EAAEzB,QAAQ,CAACC;AADX,OAAd,EAEG,MAAM,CACR,CAHD;AAID,KANH,EAMKI,KANL,CAMW,UAAU7B,KAAV,EAAiB,CACzB,CAPH;AAQH;;AACDkD,EAAAA,kBAAkB,CAAC3C,KAAD,EAAO;AACrB,QAAIA,KAAK,CAAClB,KAAV,EAAiB;AACb,WAAKR,QAAL,CAAc;AACVhB,QAAAA,eAAe,EAAE0C,KAAK,CAAClB;AADb,OAAd,EAEE,MAAI;AACF,YAAG,KAAK1B,KAAL,CAAWE,eAAd,EACA;AACI,eAAKgB,QAAL,CAAc;AACVuC,YAAAA,gBAAgB,EAAC;AADP,WAAd;AAGH,SALD,MAKK;AACA,eAAKvC,QAAL,CAAc;AACXuC,YAAAA,gBAAgB,EAAC;AADN,WAAd;AAGJ;AACJ,OAbD;AAcH;AACJ;;AACD+B,EAAAA,UAAU,CAAC5C,KAAD,EAAO;AACbA,IAAAA,KAAK,CAACC,cAAN;AACAzD,IAAAA,CAAC,CAAC,WAAD,CAAD,CAAeqG,IAAf;AACArG,IAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBsG,MAArB;AACA,SAAK3F,KAAL,CAAW0E,OAAX,CAAmBpB,IAAnB,CAAwB,sBAAxB;AACH;;AAGDsC,EAAAA,MAAM,GAAG;AACL,UAAMC,aAAqB,GAAG;AAAE5B,MAAAA,IAAI,EAAE,iBAAR;AAA2BtC,MAAAA,KAAK,EAAE;AAAlC,KAA9B;AACA,WACI;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAS,MAAA,SAAS,EAAC,uBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,gFAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAI,MAAA,SAAS,EAAC,qDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADD,CADJ,EAIY;AAAM,MAAA,SAAS,EAAC,yCAAhB;AAA0D,MAAA,EAAE,EAAC,oBAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGI;AAAK,MAAA,SAAS,EAAC,oFAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,8DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAO,MAAA,SAAS,EAAC,kEAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA6F;AAAG,MAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA7F,CADA,EAEA;AAAQ,MAAA,SAAS,EAAC,sDAAlB;AAAyE,MAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWG,OAA3F;AAAoG,MAAA,GAAG,EAAC,SAAxG;AAAkH,MAAA,IAAI,EAAC,SAAvH;AAAiI,MAAA,QAAQ,EAAE,KAAKwC,YAAL,CAAkBkD,IAAlB,CAAuB,IAAvB,CAA3I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,QAAQ,MAAhB;AAAiB,MAAA,KAAK,EAAC,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAGQ,KAAK7F,KAAL,CAAWsF,YAAX,IAA2B,KAAKtF,KAAL,CAAWsF,YAAX,CAAwBlC,MAAxB,GAAiC,CAA5D,GACI,KAAKpD,KAAL,CAAWsF,YAAX,CAAwBX,GAAxB,CAA4B,CAACb,IAAD,EAAOX,CAAP,KAAW;AACnC,aACI;AAAQ,QAAA,GAAG,EAAEA,CAAb;AAAgB,QAAA,KAAK,EAAEW,IAAI,CAACgC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwChC,IAAI,CAACe,WAA7C,MADJ;AAGH,KAJD,CADJ,GAOA,IAVR,CAFA,CADJ,CADJ,EAmBI;AAAK,MAAA,SAAS,EAAC,8DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,kEAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAsG;AAAG,MAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAtG,CADF,EAEE;AAAQ,MAAA,SAAS,EAAC,sDAAlB;AACE,MAAA,GAAG,EAAC,aADN;AACoB,MAAA,KAAK,EAAE,KAAK7E,KAAL,CAAWC,WADtC;AACmD,MAAA,IAAI,EAAC,aADxD;AAEE,MAAA,QAAQ,EAAE,KAAK0C,YAAL,CAAkBkD,IAAlB,CAAuB,IAAvB,CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGE;AAAQ,MAAA,KAAK,EAAC,EAAd;AAAiB,MAAA,QAAQ,EAAE,IAA3B;AAAiC,MAAA,SAAS,EAAC,aAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAHF,EAIE;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJF,EAKE;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WALF,EAME;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WANF,CAFF,CADJ,CAnBJ,EAgCM;AAAK,MAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,oDAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA8E;AAAG,MAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA9E,CADJ,EAaI,oBAAC,oBAAD;AAAsB,MAAA,EAAE,EAAC,gBAAzB;AAA0C,MAAA,GAAG,EAAGE,KAAD,IAAW;AAAE,aAAK9B,kBAAL,GAA0B8B,KAA1B;AAAkC,OAA9F;AACI,MAAA,UAAU,EAAE,KAAK/F,KAAL,CAAWoF,YAD3B;AAEI,MAAA,MAAM,EAAE,KAAKG,kBAAL,CAAwBM,IAAxB,CAA6B,IAA7B,CAFZ;AAEgD,MAAA,IAAI,EAAC,KAFrD;AAGI,MAAA,MAAM,EAAED,aAHZ;AAG2B,MAAA,WAAW,EAAC,yBAHvC;AAII,MAAA,IAAI,EAAC,UAJT;AAIoB,MAAA,aAAa,EAAC,YAJlC;AAKI,MAAA,eAAe,EAAC,cALpB;AAKmC,MAAA,aAAa,EAAE,IALlD;AAKwD,MAAA,gBAAgB,EAAE,KAL1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMI,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAE,CAAClG,iBAAD,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CAbJ,CADF,EAuBE;AAAO,MAAA,SAAS,EAAC,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6B,KAAKM,KAAL,CAAWyD,gBAAX,IAA+B,IAA/B,GAAoC,EAApC,GAAuC,wBAApE,CAvBF,CAhCN,CAHJ,EA6DK;AAAK,MAAA,SAAS,EAAC,4CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEG,KAAKzD,KAAL,CAAWmB,UAAX,GACE;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAE,KAAKgD,cAAL,CAAoB0B,IAApB,CAAyB,IAAzB,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,GAGE;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAE,KAAK7C,cAAL,CAAoB6C,IAApB,CAAyB,IAAzB,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALL,CA7DL,CAJZ,EA0EY;AAAK,MAAA,SAAS,EAAC,uDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD;AACI,MAAA,YAAY,EAAE,KAAK7F,KAAL,CAAWgG,YAD7B;AAEI,MAAA,SAAS,EAAE,KAAKhG,KAAL,CAAWiG,SAF1B;AAGI,MAAA,SAAS,EAAE,KAAKjG,KAAL,CAAW0E,SAH1B;AAII,MAAA,OAAO,EAAE,KAAKnD,OAAL,CAAasE,IAAb,CAAkB,IAAlB,CAJb;AAKI,MAAA,YAAY,EAAE,KAAK7F,KAAL,CAAWkG,YAL7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA1EZ,CADJ,CADJ;AAyFH;;AA3X0C;;AA6X/C,eAAerG,sBAAf","sourcesContent":["import React, { Component }     from 'react';\nimport $                        from 'jquery';\nimport jQuery                   from 'jquery';\nimport axios                    from 'axios';\nimport swal                     from 'sweetalert';\nimport IAssureTable             from '../../IAssureTable/IAssureTable.jsx';\nimport { withRouter }           from 'react-router-dom';\nimport { CheckBoxSelection, Inject, MultiSelectComponent } from '@syncfusion/ej2-react-dropdowns';\nimport \"./EmployeeVehicalMapping.css\";\nclass EmployeeVehicalMapping extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \"user_ID\"              : \"\",\n            \"id\"              : \"\",\n            \"secondField\"          : \"\",\n            empCategory:\"\",\n            VehicleCategory:\"\",\n            company:\"\",\n            \"secondFieldData\"      : [], \n            \"companyArray\"      : [], \n            \"selectedIndex\"        : \"\",\n            \"vehicalAvailable\"     :true,\n            \"tableHeading\": {\n                empCategory: \"Employee Category\",\n                company: \"Corporate Name\",\n                vehicalCategory : \"Vehical Category\",\n                actions: 'Action',\n            },\n            \"tableObjects\": {\n                deleteMethod: 'delete',\n                apiLink: '/api/VehicleEmployeeMapping/',\n                paginationApply: false,\n                searchApply: false,\n                editUrl: '/project-master-data'\n            },\n            \"startRange\": 0,\n            \"limitRange\": 10,\n            \"categoryID\"           : '',\n        };\n    }   \n    componentDidMount() {\n        this.getVehicals();\n        this.getCompany();\n        const user_ID = localStorage.getItem(\"user_ID\")\n        var company_Id = localStorage.getItem(\"company_Id\")\n        this.setState({\n            user_ID : user_ID,\n            company_Id:company_Id\n        })\n        if(this.state.categoryID){  \n            console.log(\"In Component Did mount\",this.state.categoryID)\n            this.edit(this.state.categoryID);\n        }\n        this.getData();\n\n        \n        $.validator.addMethod(\"regxonefield\", function (value, element, regexpr) {\n          return regexpr.test(value);\n        }, \"Please enter valid field value\");\n        \n        jQuery.validator.setDefaults({\n          debug: true,\n          success: \"valid\"\n        });\n        $(\"#empVehicalCategory\").validate({\n        rules: {\n            empCategory: {\n              required: true,\n            },\n            company: {\n              required: true,\n            },\n           /* vehicalCategory: {\n              required: true,\n            },*/\n        },\n        errorPlacement: function (error, element) {            \n            if (element.attr(\"name\") === \"empCategory\") {\n              error.insertAfter(\"#empCategory\");\n            }\n            /*if (element.attr(\"name\") === \"vehicalCategory\") {\n              error.insertAfter(\"#vehicalCategory\");\n            }*/\n          }\n        });\n    }\n\n    componentWillReceiveProps(nextProps) {\n        var company_Id = localStorage.getItem(\"company_Id\")\n        console.log(\"nextProps\",nextProps)\n         this.setState({\n           categoryID :nextProps.editId,\n           company_Id : company_Id\n        },()=>{\n            console.log(\"In Component will receive prop\",this.state.categoryID)\n            this.edit(this.state.categoryID);\n        })\n    }\n    // componentDidUpdate(prevProps,nextProps) {\n\n    //     console.log(\"onefieldform 31 componentDidUpdate editId = \",nextProps.categoryID,this.state.categoryID,prevProps.editId);                            \n    //     if (prevProps.editId !== this.state.categoryID) {\n    //         this.setState({ categoryID: prevProps.categoryID },\n    //             () => {\n    //                 console.log(\"Here\")\n    //                 this.edit(this.state.categoryID);\n    //             });\n    //     }\n    // }\n\n    handleChange(event) {\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n        this.setState({\n            [name] : event.target.value\n        });\n    }\n   \n    submitCategory(event) {\n        event.preventDefault();\n        var vehicleCatArray = this.state.VehicleCategory;\n      var result = [];\n      for(var i=0 ; i<vehicleCatArray.length ; i++){\n        result.push({category_id:vehicleCatArray[i]})\n      }//i\n        var formvalue ={\n          empCategory    : this.state.empCategory, \n          company    : this.state.company, \n          VehicleCategory : result, \n          createdBy : localStorage.getItem(\"user_ID\")\n        }\n        if(this.state.VehicleCategory)\n        {\n            this.setState({\n                vehicalAvailable:true\n            })\n        }else{\n             this.setState({\n                vehicalAvailable:false\n            })\n        }\n        if ($('#empVehicalCategory').valid() && this.state.vehicalAvailable) {\n            axios.post('/api/VehicleEmployeeMapping/post',formvalue)\n            .then((response) => {\n                if(response.data.duplicated == true){\n                    swal({                \n                    text: \"Duplicate Entry\",\n                  });\n                }else{\n              swal({                \n                    text: \"Details added successfully!\",\n                  });\n            }\n            this.dropDownListObject.value = null;\n             this.setState({\n                empCategory    : \"\", \n                VehicleCategory : \"\", \n                company : \"\", \n              })\n              this.getData();\n            })\n            .catch((error) => {\n                console.log(\"Error in Post API of Two field = \",error);\n            })\n        }      \n    }\n    updateCategory(event) {\n        event.preventDefault();\n        var vehicleCatArray = this.state.VehicleCategory;\n        var result = [];\n          for(var i=0 ; i<vehicleCatArray.length ; i++){\n            result.push({category_id:vehicleCatArray[i]})\n          }//i\n          var formvalues ={\n            id: this.state.id,\n            empCategory    : this.state.empCategory, \n            company    : this.state.company, \n            VehicleCategory : result,\n            updatedBy : localStorage.getItem(\"user_ID\")\n          }\n       if ($('#empVehicalCategory').valid()) {\n            axios.patch('/api/VehicleEmployeeMapping/patch',formvalues)\n            .then((response) => {\n                swal(\" \",\"Record updated Successfully\");\n                $('#empCategory').prop('disabled', false);\n                $('#company').prop('disabled', false);\n                this.dropDownListObject.value = null;\n                this.setState({\n                     empCategory    : \"\", \n                      VehicleCategory : \"\", \n                      company : \"\", \n                      id:\"\"\n                },()=>{\n                    this.getData();\n                    this.props.history.push(\"/project-master-data\");\n                })\n            })\n            .catch((error) => {\n                swal(\" \",\"Failed to Update Record\");\n            })\n        }       \n    }\n  \n    getData() {\n        axios.post('/api/VehicleEmployeeMapping/list')\n        .then((response) => {\n            var tableData = response.data.map((value,i)=>{\n                return{\n                    _id : value._id,\n                    empCategory: value.empCategory,\n                    company: value.company[0].companyName,\n                    vehicalCategory: value.vehicle ? value.vehicle.map((a,i)=>{return (a.category)}):\"-NA-\"\n                }\n\n            })\n            this.setState({\n                tableData: tableData\n            })\n        })\n        .catch((error) => {          \n        });\n    }\n   \n    edit(id) {\n        if(id){\n            $(\"html,body\").scrollTop(0);\n            $('#empCategory').prop('disabled', true);\n            $('#company').prop('disabled', true);\n        axios.get('/api/VehicleEmployeeMapping/get/one/'+id)\n          .then((response) => {\n            console.log('response: ',response)\n            var data = response.data.VehicleCategory;\n            var array = []\n            for(var i=0 ; i<data.length ; i++){\n                array.push(data[i].category_id)\n            }//i\n            this.dropDownListObject.value = array;\n              this.setState({ \n                id : response.data._id,\n                empCategory : response.data.empCategory,\n                company : response.data.company,\n                VehicleCategory : array,\n              });\n          })\n          .catch((error) => {});\n        }\n    }\n    getVehicals() {\n        axios.get(\"/api/categorymaster/get/list\")\n            .then((response) => {\n                var vehicalArray = [];\n                response.data.map((data, ind) => {\n                    vehicalArray.push({ id: data._id, VehicleCategory: data.category })\n                });\n                this.setState({ vehicalArray: vehicalArray })\n            })\n            .catch((error) => {\n            })\n    }\n    getCompany() {\n        axios.get('/api/entitymaster/get/corporate')\n          .then((response) => {\n            this.setState({\n              companyArray: response.data\n            }, () => {\n            })\n          }).catch(function (error) {\n          });\n    }\n    handleChangeFilter(event){\n        if (event.value) {\n            this.setState({\n                VehicleCategory: event.value\n            },()=>{\n                if(this.state.VehicleCategory)\n                {\n                    this.setState({\n                        vehicalAvailable:true\n                    })\n                }else{\n                     this.setState({\n                        vehicalAvailable:false\n                    })\n                }\n            })                   \n        }\n    }\n    closeModal(event){\n        event.preventDefault();\n        $(\"#oneField\").hide(); \n        $(\".modal-backdrop\").remove();\n        this.props.history.push('/project-master-data')\n    }\n\n\n    render() {\n        const vehicalfields: object = { text: 'VehicleCategory', value: 'id'};\n        return (\n            <div className=\"companyDisplayForm col-md-12\">\n                <section className=\"col-md-12 pageContent\">\n                    <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                     <h4 className=\"weighttitle col-lg-12 col-md-11 col-xs-11 col-sm-11\">Employee Vehical Mapping</h4>\n                    </div>\n                            <form className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"empVehicalCategory\" >\n                               \n\n                                <div className=\"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left NOpadding-right\">\n                                    <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 driver person employee\">\n                                        <div id=\"company\">\n                                        <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Corporate<i className=\"astrick\">*</i></label>\n                                        <select className=\"customSelect col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.company} ref=\"company\" name=\"company\" onChange={this.handleChange.bind(this)}>\n                                            <option disabled value=\"\">--Select Company--</option>\n                                            {\n                                                this.state.companyArray && this.state.companyArray.length > 0 ?\n                                                    this.state.companyArray.map((data, i)=>{\n                                                        return(\n                                                            <option key={i} value={data.companyID}>{data.companyName} </option>\n                                                        );\n                                                    })\n                                                :\n                                                null\n                                            }\n                                        </select>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 driver person employee\">\n                                        <div id=\"empCategory\">\n                                          <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Employee Category <i className=\"astrick\">*</i></label>\n                                          <select className=\"customSelect col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                                            ref=\"empCategory\" value={this.state.empCategory} name=\"empCategory\"\n                                            onChange={this.handleChange.bind(this)} >\n                                            <option value=\"\" disabled={true} className=\"colorChange\">Select Category</option>\n                                            <option value=\"1\">1</option>\n                                            <option value=\"2\">2</option>\n                                            <option value=\"3\">3</option>\n                                          </select>\n                                        </div>\n                                      </div>\n                                      <div className=\"col-lg-4 col-md-4 col-xs-12 col-sm-12\">\n                                        <div id=\"vehicalCategory\">\n                                            <label className=\"labelform col-lg-12 col-md-12 col-xs-12 col-sm-12 \">Vehicals<i className=\"astrick\">*</i></label>\n                                           {/*} <MultiSelectComponent  \n                                                className=\"form-control\"\n                                                name=\"vehicalCategory\"\n                                                dataSource={this.state.vehicalArray}\n                                                value={this.state.vehicalCategory}\n                                                change={this.handleChangeFilter.bind(this)}\n                                                fields={vehicalfields} placeholder=\"Select Vehical\" \n                                                mode=\"CheckBox\" selectAllText=\"Select All\" \n                                                unSelectAllText=\"Unselect All\" showSelectAll={true}>\n                                                <Inject services={[CheckBoxSelection]} />\n                                            </MultiSelectComponent>*/}\n                                            <MultiSelectComponent id=\"categoryChange\" ref={(scope) => { this.dropDownListObject = scope; }}\n                                                dataSource={this.state.vehicalArray}\n                                                change={this.handleChangeFilter.bind(this)} mode='box'\n                                                fields={vehicalfields} placeholder=\"Select Vehicle category\" \n                                                mode=\"CheckBox\" selectAllText=\"Select All\" \n                                                unSelectAllText=\"Unselect All\" showSelectAll={true} hideSelectedItem={false}>\n                                                <Inject services={[CheckBoxSelection]} />\n                                            </MultiSelectComponent>\n                                        </div>\n                                        <label className=\"errorMsg\">{this.state.vehicalAvailable == true?\"\":\"This field is required\"}</label>\n                                    </div>\n                                </div>\n                                 <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt\">\n                                  {\n                                    this.state.categoryID ?\n                                      <button className=\"btn button3 pull-right\" onClick={this.updateCategory.bind(this)} >Update&nbsp;</button>\n                                      :\n                                      <button className=\"btn button3 pull-right\" onClick={this.submitCategory.bind(this)} >Submit&nbsp;</button>\n                                  }\n                                </div>\n                            </form> \n                            <div className=\"oneFieldTable col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                <IAssureTable\n                                    tableHeading={this.state.tableHeading}\n                                    dataCount={this.state.dataCount}\n                                    tableData={this.state.tableData}\n                                    getData={this.getData.bind(this)}\n                                    tableObjects={this.state.tableObjects}\n                                />\n                            </div>\n                            \n                </section>\n            </div>\n        );\n    }\n}\nexport default EmployeeVehicalMapping;\n\n"]},"metadata":{},"sourceType":"module"}