{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/employerportal/src/coreadmin/NotificationManagement/EventMapping.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport moment from 'moment';\nimport swal from 'sweetalert';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport _ from 'underscore';\nimport 'bootstrap/js/tab.js';\nimport IAssureTable from './IAssureTable.jsx';\n\nclass EventMapping extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"tableHeading\": {\n        eventName: \"Event Name\",\n        role: \"Role\",\n        mode: \"Mode\",\n        templateName: 'Template Name',\n        status: 'status',\n        map: 'Action'\n      },\n      \"tableObjects\": {\n        paginationApply: false,\n        searchApply: false\n      },\n      \"startRange\": 0,\n      \"limitRange\": 1000000,\n      \"editId\": this.props.match.params ? this.props.match.params.fieldID : '',\n      \"event\": \"\",\n      role: \"\",\n      mode: \"Email\",\n      templateName: \"\",\n      status: \"\",\n      templateArray: [],\n      roleArray: []\n    };\n  }\n\n  componentDidMount() {\n    this.getTemplates();\n    this.getRoles();\n    this.getData(this.state.startRange, this.state.limitRange);\n    window.scrollTo(0, 0);\n    $.validator.addMethod(\"regxEvent\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the Event.\");\n    $.validator.addMethod(\"regxRole\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the Role.\");\n    $.validator.addMethod(\"regxMode\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the Mode.\");\n    $.validator.addMethod(\"regxTemplate\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the Template.\");\n    $.validator.addMethod(\"regxStatus\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the Status.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#EventMapping\").validate({\n      rules: {\n        event: {\n          required: true,\n          regxEvent: \"\"\n        },\n        role: {\n          required: true,\n          regxRole: \"\"\n        },\n        mode: {\n          required: true,\n          regxMode: \"--Select Mode--\"\n        },\n        templateName: {\n          required: true,\n          regxTemplate: \"--Select Template--\"\n        },\n        status: {\n          required: true,\n          regxStatus: \"--Select Status--\"\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") == \"event\") {\n          error.insertAfter(\"#event\");\n        }\n\n        if (element.attr(\"name\") == \"role\") {\n          error.insertAfter(\"#role\");\n        }\n\n        if (element.attr(\"name\") == \"mode\") {\n          error.insertAfter(\"#mode\");\n        }\n\n        if (element.attr(\"name\") == \"templateName\") {\n          error.insertAfter(\"#templateName\");\n        }\n\n        if (element.attr(\"name\") == \"status\") {\n          error.insertAfter(\"#status\");\n        }\n      }\n    });\n    var editId = this.props.match.params.fieldID;\n\n    if (editId) {\n      this.edit(editId);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps) {\n      var editId = nextProps.match.params.fieldID;\n\n      if (nextProps.match.params.typeofCenterId) {\n        this.setState({\n          editId: editId\n        }, () => {\n          this.edit(this.state.editId);\n        });\n      }\n    }\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    var value = event.target.value;\n    this.setState({\n      [name]: event.target.value\n    }, () => {\n      this.getTemplates();\n      this.getRoles();\n    });\n  }\n\n  getData(startRange, limitRange) {\n    var data = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post('/api/eventmapping/post/list', data).then(response => {\n      var tableData = response.data.map((a, i) => {\n        return {\n          _id: a._id,\n          eventName: a.event,\n          role: a.role,\n          mode: a.mode,\n          templateName: a.templateName,\n          status: a.status\n        };\n      });\n      this.setState({\n        tableData: tableData\n      }, () => {});\n    }).catch(error => {\n      swal(\"error = \", error);\n    });\n  }\n\n  getTemplates() {\n    var formvalues = {\n      event: this.state.event,\n      mode: this.state.mode\n    };\n    axios.post(\"/api/masternotifications/get/listByMode\", formvalues).then(response => {\n      this.setState({\n        templateArray: response.data\n      });\n    }).catch(error => {\n      console.log(\"error = \", error);\n    });\n  }\n\n  getRoles() {\n    var data = {\n      \"startRange\": this.state.startRange,\n      \"limitRange\": this.state.limitRange\n    };\n    axios.post('/api/roles/get/list', data).then(response => {\n      this.setState({\n        roleArray: response.data\n      }, () => {});\n    }).catch(function (error) {});\n  }\n\n  map(event) {\n    event.preventDefault();\n\n    if ($('#EventMapping').valid()) {\n      var formvalues = {\n        event: this.state.event,\n        role: this.state.role,\n        templateName: this.state.templateName,\n        mode: this.state.mode,\n        status: this.state.status\n      };\n      axios.post('/api/eventmapping/post', formvalues).then(response => {\n        this.getData(this.state.startRange, this.state.limitRange);\n\n        if (response.data.message === \"Duplicate Entry\") {\n          swal(\"Duplicate Entry\");\n        } else {\n          swal(\" \", \"Data Inserted Sucessfully\");\n          this.setState({\n            event: \"\",\n            role: \"\",\n            templateName: \"\",\n            mode: \"Email\",\n            status: \"\"\n          }, () => {\n            this.props.history.push(\"/EventMapping\");\n            this.getTemplates();\n            this.getRoles();\n          });\n        }\n      }).catch(error => {});\n    }\n  }\n\n  goBack(event) {\n    event.preventDefault();\n    this.props.history.push('/ViewTemplates');\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-8 col-md-8 col-xs-8 col-sm-8 NOpadding-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"Event Mapping\"), React.createElement(\"button\", {\n      className: \"pull-right btn btn-info btn-sm btn_oval col-lg-2 col-md-2\",\n      onClick: this.goBack.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-arrow-left\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }), \"\\xA0\\xA0\\xA0Go Back\")), React.createElement(\"section\", {\n      className: \"Content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"EventMapping\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-margin col-lg-4 col-md-4 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Event \", React.createElement(\"sup\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      id: \"event\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.event,\n      ref: \"event\",\n      name: \"event\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"--Select Event--\"), React.createElement(\"option\", {\n      value: \"Sign Up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"Sign Up\"), React.createElement(\"option\", {\n      value: \"Forgot Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, \"Forgot Password\"), React.createElement(\"option\", {\n      value: \"User Activated\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"User Activated\"), React.createElement(\"option\", {\n      value: \"User Blocked\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"User Blocked\"), React.createElement(\"option\", {\n      value: \"TripBooking\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"Trip Booking\"), React.createElement(\"option\", {\n      value: \"ManagerApproval\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"Manager Approval\"), React.createElement(\"option\", {\n      value: \"ManagerRejection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"Manager Rejection\"), React.createElement(\"option\", {\n      value: \"Trip Allocated to Vendor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"Trip Allocated to Vendor\"), React.createElement(\"option\", {\n      value: \"Vendor allocates (Car + Driver)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, \"Vendor allocates (Car + Driver)\"), React.createElement(\"option\", {\n      value: \"Informs Corporate Employee\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"Informs Corporate Employee\"), React.createElement(\"option\", {\n      value: \"Trip Started\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"Trip Started\"), React.createElement(\"option\", {\n      value: \"Reached Pick up point\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Reached Pick up point\"), React.createElement(\"option\", {\n      value: \"OTP Verified & Trip begins\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"OTP Verified & Trip begins\"), React.createElement(\"option\", {\n      value: \"Reached Destination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Reached Destination\"), React.createElement(\"option\", {\n      value: \"Returned back & Trip-End-OTP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"Returned back & Trip-End-OTP\"), React.createElement(\"option\", {\n      value: \"Close Trip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Close Trip\"), React.createElement(\"option\", {\n      value: \"Generate Bill / Invoice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Generate Bill / Invoice\"), React.createElement(\"option\", {\n      value: \"Employee Cancels Trip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Employee Cancels Trip\"), React.createElement(\"option\", {\n      value: \"FB Admin Cancels Trip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"FB Admin Cancels Trip\"), React.createElement(\"option\", {\n      value: \"Vendor Cancels Trip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"Vendor Cancels Trip\"), React.createElement(\"option\", {\n      value: \"Vendor Accepts a Trip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, \"Vendor Accepts a Trip\"), React.createElement(\"option\", {\n      value: \"Vendor Rejects a Trip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, \"Vendor Rejects a Trip\"), React.createElement(\"option\", {\n      value: \"Driver Approved a Trip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"Driver Approved a Trip\"), React.createElement(\"option\", {\n      value: \"Driver Rejected a Trip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"Driver Rejected a Trip\"), React.createElement(\"option\", {\n      value: \"Vendor Changes Driver\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, \"Vendor Changes Driver\"))), React.createElement(\"div\", {\n      className: \"form-margin col-lg-4 col-md-4 col-sm-12 col-xs-12 marbtm30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"Role\", React.createElement(\"sup\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      id: \"role\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.role,\n      ref: \"role\",\n      name: \"role\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, \"--Select Role--\"), this.state.roleArray && this.state.roleArray.length > 0 ? this.state.roleArray.map((data, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: data.role,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, data.role, \" \");\n    }) : null)), React.createElement(\"div\", {\n      className: \"form-margin col-lg-4 col-md-4 col-sm-12 col-xs-12 marbtm30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, \"Mode\", React.createElement(\"sup\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      id: \"mode\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.mode,\n      ref: \"mode\",\n      name: \"mode\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, \"--Select Mode--\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, \" Email \"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \" Notification \"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \" SMS \")))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-sm-12 col-xs-12 marbtm30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, \"Template\", React.createElement(\"sup\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      id: \"templateName\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.templateName,\n      ref: \"templateName\",\n      name: \"templateName\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, \"--Select Template--\"), this.state.templateArray && this.state.templateArray.length > 0 ? this.state.templateArray.map((data, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: data.templateName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, data.templateName, \" \");\n    }) : null)), React.createElement(\"div\", {\n      className: \"form-margin col-lg-4 col-md-4 col-sm-12 col-xs-12 marbtm30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"Status\", React.createElement(\"sup\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      id: \"status\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.status,\n      ref: \"status\",\n      name: \"status\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, \"--Select Status--\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, \" active \"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, \" inactive \")))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"col-lg-2 col-md-2 col-sm-4 pull-right btn button3\",\n      onClick: this.map.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, \" Map \"))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      twoLevelHeader: this.state.twoLevelHeader,\n      dataCount: this.state.dataCount,\n      tableData: this.state.tableData,\n      tableObjects: this.state.tableObjects,\n      getData: this.getData.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }))))))))));\n  }\n\n}\n\nexport default EventMapping;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/employerportal/src/coreadmin/NotificationManagement/EventMapping.js"],"names":["React","Component","$","jQuery","axios","moment","swal","connect","withRouter","_","IAssureTable","EventMapping","constructor","props","state","eventName","role","mode","templateName","status","map","paginationApply","searchApply","match","params","fieldID","templateArray","roleArray","componentDidMount","getTemplates","getRoles","getData","startRange","limitRange","window","scrollTo","validator","addMethod","value","element","arg","setDefaults","debug","success","validate","rules","event","required","regxEvent","regxRole","regxMode","regxTemplate","regxStatus","errorPlacement","error","attr","insertAfter","editId","edit","componentWillReceiveProps","nextProps","typeofCenterId","setState","handleChange","preventDefault","target","name","data","post","then","response","tableData","a","i","_id","catch","formvalues","console","log","valid","message","history","push","goBack","render","bind","length","tableHeading","twoLevelHeader","dataCount","tableObjects"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $                    from 'jquery';\nimport jQuery               from 'jquery';\nimport axios                from 'axios';\nimport moment               from 'moment';\nimport swal                 from 'sweetalert';\nimport {connect}            from 'react-redux';\nimport { withRouter }       from 'react-router-dom';\nimport _                    from 'underscore';\nimport 'bootstrap/js/tab.js';\nimport IAssureTable         from './IAssureTable.jsx';\n\nclass EventMapping extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \"tableHeading\": {\n                eventName : \"Event Name\",\n                role  : \"Role\",\n                mode      : \"Mode\",\n                templateName     : 'Template Name',\n                status   : 'status',\n                map         : 'Action',\n            },\n            \"tableObjects\": {\n                paginationApply: false,\n                searchApply: false,\n            },\n            \"startRange\": 0,\n            \"limitRange\": 1000000,\n            \"editId\": this.props.match.params ? this.props.match.params.fieldID : '',\n            \"event\":\"\",\n            role:\"\",\n            mode:\"Email\",\n            templateName:\"\",\n            status:\"\",\n            templateArray:[],\n            roleArray:[],\n\n        };\n    }\n    componentDidMount(){\n        this.getTemplates();\n        this.getRoles();\n        this.getData(this.state.startRange, this.state.limitRange);\n\n        window.scrollTo(0, 0);\n        $.validator.addMethod(\"regxEvent\", function (value, element, arg) {\n            return  arg !== value;\n        }, \"Please select the Event.\");\n        $.validator.addMethod(\"regxRole\", function (value, element, arg) {\n            return arg !== value;\n        }, \"Please select the Role.\");\n        $.validator.addMethod(\"regxMode\", function (value, element, arg) {\n            return arg !== value;\n        }, \"Please select the Mode.\");\n        $.validator.addMethod(\"regxTemplate\", function (value, element, arg) {\n            return arg !== value;\n        }, \"Please select the Template.\");\n        $.validator.addMethod(\"regxStatus\", function (value, element, arg) {\n            return arg !== value;\n        }, \"Please select the Status.\");\n\n        jQuery.validator.setDefaults({\n            debug: true,\n            success: \"valid\"\n        });\n        $(\"#EventMapping\").validate({\n            rules: {\n                event: {\n                    required: true,\n                    regxEvent: \"\"\n                },\n                role: {\n                    required: true,\n                    regxRole: \"\"\n                },\n                mode: {\n                    required: true,\n                    regxMode: \"--Select Mode--\"\n                },\n                templateName: {\n                    required: true,\n                    regxTemplate: \"--Select Template--\"\n                },\n                status: {\n                    required: true,\n                    regxStatus: \"--Select Status--\"\n                },\n            },\n            errorPlacement: function (error, element) {\n                if (element.attr(\"name\") == \"event\") {\n                    error.insertAfter(\"#event\");\n                }\n                if (element.attr(\"name\") == \"role\") {\n                    error.insertAfter(\"#role\");\n                }\n                if (element.attr(\"name\") == \"mode\") {\n                    error.insertAfter(\"#mode\");\n                }if (element.attr(\"name\") == \"templateName\") {\n                    error.insertAfter(\"#templateName\");\n                }if (element.attr(\"name\") == \"status\") {\n                    error.insertAfter(\"#status\");\n                }\n            }\n        });\n        var editId = this.props.match.params.fieldID;\n        if(editId){      \n            this.edit(editId);\n        }\n    }\n\n    componentWillReceiveProps(nextProps){\n        if(nextProps){\n            var editId = nextProps.match.params.fieldID;\n            if(nextProps.match.params.typeofCenterId){\n                this.setState({\n                    editId : editId\n                },()=>{\n                    this.edit(this.state.editId);\n                })\n            }\n        }\n    }\n    handleChange(event) {\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n        var value = event.target.value;\n        this.setState({\n            [name]: event.target.value\n        },()=>{\n            this.getTemplates();\n        \tthis.getRoles();\n        });\n    }\n\n    getData(startRange, limitRange){\n        var data= {\n            startRange: startRange,\n            limitRange: limitRange\n        }\n        axios.post('/api/eventmapping/post/list', data)\n        .then((response) => {\n            var tableData = response.data.map((a, i)=>{\n                return {\n                    _id          :a._id,        \n                    eventName  :a.event,         \n                    role   :a.role, \n                    mode      :a.mode,\n                    templateName       :a.templateName,  \n                    status      :a.status,\n            }\n            });\n            this.setState({\n              tableData : tableData,\n            },()=>{\n            });\n            \n        })\n        .catch((error) => {\n        swal(\"error = \",error);\n        })\n    }\n    getTemplates() {\n        var formvalues = {\n            event : this.state.event,\n            mode : this.state.mode\n        }\n        axios.post(\"/api/masternotifications/get/listByMode\",formvalues)\n        .then((response) => {\n            \n            this.setState({\n                templateArray   : response.data,\n            })\n        })\n        .catch((error) => {\n            console.log(\"error = \",error);\n        })\n    }\n    getRoles() {\n        var data = {\n\t      \"startRange\": this.state.startRange,\n\t      \"limitRange\": this.state.limitRange,\n\t    }\n\t    axios.post('/api/roles/get/list', data)\n\t      .then((response) => {\n\t        this.setState({\n\t          roleArray: response.data\n\t        }, () => {\n\t        })\n\t      }).catch(function (error) {\n\t      });\n    }\n    map(event){\n        event.preventDefault();\n        if($('#EventMapping').valid()) {\n  \n        var formvalues = {\n            event:this.state.event,\n            role:this.state.role,\n            templateName:this.state.templateName,\n            mode:this.state.mode,\n            status:this.state.status\n        }\n        axios.post('/api/eventmapping/post', formvalues)\n          .then((response) => {\n            this.getData(this.state.startRange, this.state.limitRange);\n            if(response.data.message === \"Duplicate Entry\"){\n            \tswal(\"Duplicate Entry\")\n            }else{\n            \tswal(\" \",\"Data Inserted Sucessfully\");\n\t              this.setState({\n\t                event       : \"\",\n\t                role        : \"\",\n\t                templateName : \"\",\n\t                mode        : \"Email\",\n\t                status      : \"\",\n\t            },()=>{\n\t                this.props.history.push(\"/EventMapping\");\n\t                this.getTemplates();\n\t                this.getRoles();\n\t            })\n            }\n             \n          })\n          .catch((error) => {\n\n          })\n        }\n    }\n   \n    goBack(event){\n\t\tevent.preventDefault();\n\t\tthis.props.history.push('/ViewTemplates')\n\t}\n\n    render() {\n        return (\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <div className=\"row\">\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\n                        <section className=\"content\">\n                            <div className=\"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                                    <h4 className=\"weighttitle col-lg-8 col-md-8 col-xs-8 col-sm-8 NOpadding-right\">Event Mapping</h4>\n                                    <button className=\"pull-right btn btn-info btn-sm btn_oval col-lg-2 col-md-2\" onClick={this.goBack.bind(this)}><i className=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>&nbsp;&nbsp;&nbsp;Go Back</button>\n                                </div>\n                                <section className=\"Content\">\n                                    <div className=\"row\">\n                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                            <form className=\"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"EventMapping\">\n                                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\n                                                <div className=\"form-margin col-lg-4 col-md-4 col-sm-12 col-xs-12\" >\n                                                    <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\">Event <sup className=\"astrick\">*</sup></label>\n                                                    <select id=\"event\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.event} ref=\"event\" name=\"event\" onChange={this.handleChange.bind(this)}>\n                                                        <option disabled value=\"\">--Select Event--</option>\n                                                        <option value=\"Sign Up\">Sign Up</option>\n                                                        <option value=\"Forgot Password\">Forgot Password</option>\n                                                        <option value=\"User Activated\">User Activated</option>\n                                                        <option value=\"User Blocked\">User Blocked</option>\n                                                        <option value=\"TripBooking\">Trip Booking</option>\n                                                        <option value=\"ManagerApproval\">Manager Approval</option>\n                                                        <option value=\"ManagerRejection\">Manager Rejection</option>\n                                                        <option value=\"Trip Allocated to Vendor\">Trip Allocated to Vendor</option>\n                                                        <option value=\"Vendor allocates (Car + Driver)\">Vendor allocates (Car + Driver)</option>\n                                                        <option value=\"Informs Corporate Employee\">Informs Corporate Employee</option>\n                                                        <option value=\"Trip Started\">Trip Started</option>\n                                                        <option value=\"Reached Pick up point\">Reached Pick up point</option>\n                                                        <option value=\"OTP Verified & Trip begins\">OTP Verified & Trip begins</option>\n                                                        <option value=\"Reached Destination\">Reached Destination</option>\n                                                        <option value=\"Returned back & Trip-End-OTP\">Returned back & Trip-End-OTP</option>\n                                                        <option value=\"Close Trip\">Close Trip</option>\n                                                        <option value=\"Generate Bill / Invoice\">Generate Bill / Invoice</option>\n                                                        <option value=\"Employee Cancels Trip\">Employee Cancels Trip</option>\n                                                        <option value=\"FB Admin Cancels Trip\">FB Admin Cancels Trip</option>\n                                                        <option value=\"Vendor Cancels Trip\">Vendor Cancels Trip</option>\n                                                        <option value=\"Vendor Accepts a Trip\">Vendor Accepts a Trip</option>\n                                                        <option value=\"Vendor Rejects a Trip\">Vendor Rejects a Trip</option>\n                                                        <option value=\"Driver Approved a Trip\">Driver Approved a Trip</option>\n                                                        <option value=\"Driver Rejected a Trip\">Driver Rejected a Trip</option>\n                                                        <option value=\"Vendor Changes Driver\">Vendor Changes Driver</option>\n                                                    </select>   \n                                                </div>\n                                                <div className=\"form-margin col-lg-4 col-md-4 col-sm-12 col-xs-12 marbtm30\" >\n                                                    <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\">Role<sup className=\"astrick\">*</sup></label>\n                                                    <select id=\"role\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.role} ref=\"role\" name=\"role\" onChange={this.handleChange.bind(this)}>\n                                                        <option disabled value=\"\">--Select Role--</option>\n                                                        {\n                                                            this.state.roleArray && this.state.roleArray.length > 0 ?\n                                                                this.state.roleArray.map((data, i)=>{\n                                                                    return(\n                                                                        <option key={i} value={data.role}>{data.role} </option>\n                                                                    );\n                                                                })\n                                                            :\n                                                            null\n                                                        }\n                                                    </select>\n                                                </div>\n                                                <div className=\"form-margin col-lg-4 col-md-4 col-sm-12 col-xs-12 marbtm30\" >\n                                                    <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\">Mode<sup className=\"astrick\">*</sup></label>\n                                                    <select id=\"mode\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.mode} ref=\"mode\" name=\"mode\" onChange={this.handleChange.bind(this)}>\n                                                        <option disabled value=\"\">--Select Mode--</option>\n                                                        <option> Email </option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option> Notification </option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option> SMS </option>\n                                                    </select>\n                                                </div>\n                                                </div>\n                                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\n                                                <div className=\"form-margin col-lg-6 col-md-6 col-sm-12 col-xs-12 marbtm30\" >\n                                                    <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\">Template<sup className=\"astrick\">*</sup></label>\n                                                    <select id=\"templateName\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.templateName} ref=\"templateName\" name=\"templateName\" onChange={this.handleChange.bind(this)}>\n                                                        <option disabled value=\"\">--Select Template--</option>\n                                                        {\n                                                            this.state.templateArray && this.state.templateArray.length > 0 ?\n                                                                this.state.templateArray.map((data, i)=>{\n                                                                    return(\n                                                                        <option key={i} value={data.templateName}>{data.templateName} </option>\n                                                                    );\n                                                                })\n                                                            :\n                                                            null\n                                                        }\n                                                    </select>\n                                                </div>\n                                                <div className=\"form-margin col-lg-4 col-md-4 col-sm-12 col-xs-12 marbtm30\" >\n                                                    <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\">Status<sup className=\"astrick\">*</sup></label>\n                                                    <select id=\"status\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.status} ref=\"status\" name=\"status\" onChange={this.handleChange.bind(this)}>\n                                                        <option disabled value=\"\">--Select Status--</option>\n                                                        <option> active </option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option> inactive </option>\n                                                    </select>\n                                                </div>\n                                                </div>\n\n                                                <div className=\"col-lg-12 col-md-12 col-sm-12\">\n                                                \t<button className=\"col-lg-2 col-md-2 col-sm-4 pull-right btn button3\" onClick={this.map.bind(this)}> Map </button>\n                                                </div>\n                                               \n                                            </form>\n                                            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\n                                                <IAssureTable\n                                                    tableHeading={this.state.tableHeading}\n                                                    twoLevelHeader={this.state.twoLevelHeader}\n                                                    dataCount={this.state.dataCount}\n                                                    tableData={this.state.tableData}\n                                                    tableObjects={this.state.tableObjects}\n                                                    getData={this.getData.bind(this)}\n                                                    />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </section>\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nexport default EventMapping;\n\n"]},"metadata":{},"sourceType":"module"}