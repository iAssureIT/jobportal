{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/common/header/Header.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport $ from \"jquery\";\nimport axios from 'axios';\nimport { BrowserRouter, Route, Switch, Link, location } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport Rightsidebar from '../rightSidebar/Rightsidebar.js';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport './Header.css';\n\nclass Header2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedIn: false,\n      showNotification: false,\n      inAppNotifications: [],\n      notifCount: 0,\n      token: \"\"\n    };\n  }\n\n  componentDidMount() {\n    if (!$('body').hasClass('adminLte')) {\n      var adminLte = document.createElement(\"script\");\n      adminLte.type = \"text/javascript\";\n      adminLte.src = \"/js/adminLte.js\";\n      $(\"body\").append(adminLte);\n    }\n\n    $(\"html,body\").scrollTop(0); //======= User Details ==========\n\n    var userDetails = JSON.parse(localStorage.getItem(\"userDetails\"));\n    const Token = userDetails ? userDetails.token : null;\n    console.log(\"Token = \", userDetails);\n\n    if (Token) {\n      axios.get('/api/entitymaster/get/one/companyName/1').then(companyDetails => {\n        // console.log(\"companyDetails = \", companyDetails.data);\n        var fullName = localStorage.getItem('fullname');\n        var profileImg = localStorage.getItem('profileImg');\n        this.setState({\n          token: userDetails.token,\n          user_ID: userDetails.user_id,\n          email: userDetails.email,\n          profileImage: profileImg ? profileImg : userDetails.image,\n          fullname: fullName ? fullName : userDetails.firstName + ' ' + userDetails.lastName,\n          companyID: userDetails.companyID,\n          companyName: companyDetails.data.companyName,\n          companyLogo: companyDetails.data.companyLogo[0]\n        }, () => {\n          console.log(\"this.state.fullname = \", this.state.fullname);\n        }); //======= Notification Unread Count ==========\n\n        axios.get('/api/notifications/get/list/Unread/' + userDetails.user_id).then(notifications => {\n          this.setState({\n            inAppNotifications: notifications.data,\n            notifCount: notifications.data.length\n          });\n        }).catch(error => {\n          console.log(\"Error in /api/notifications/get/list/Unread/ = \", error);\n        });\n      }).catch(error => {\n        console.log(\"Error in /api/notifications/get/list/Unread/ = \", error);\n      });\n    } else {\n      this.props.history.push(\"/login\");\n    }\n\n    $(document).on(\"click\", function (event) {\n      var $trigger = $(\".toggleNavClass\");\n\n      if ($trigger !== event.target && !$trigger.has(event.target).length) {\n        document.getElementById(\"mySidenav\").style.width = \"0\";\n      }\n\n      var $trigger1 = $(\".profileClass\");\n\n      if ($trigger1 !== event.target && !$trigger1.has(event.target).length) {\n        $(\".colorboxbefore\").removeClass(\"colorbox\");\n        $('.showme').hide();\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const user_ID = localStorage.getItem(\"user_ID\");\n    axios.get('/api/notifications/get/list/Unread/' + user_ID).then(notifications => {\n      this.setState({\n        inAppNotifications: notifications.data,\n        notifCount: notifications.data.length\n      });\n    }).catch(error => {}); //====\n\n    var fullName = localStorage.getItem('fullname'); // console.log('abd header===',fullName)\n\n    this.setState({\n      fullname: fullName\n    });\n  }\n\n  componentWillUnmount() {\n    $(\"script[src='/js/adminLte.js']\").remove();\n    $(\"link[href='/css/dashboard.css']\").remove();\n  }\n\n  openNav() {\n    document.getElementById(\"mySidenav\").style.width = \"250px\";\n  }\n\n  closeNav() {\n    document.getElementById(\"mySidenav\").style.width = \"0\";\n  }\n\n  toggleLeftNav(event) {\n    event.preventDefault();\n    $('#sidebar').toggleClass('active');\n    $('#headerid').toggleClass('headereffect');\n    $('#dashbordid').toggleClass('dashboardeffect');\n    var sideBar = $(\"#sidebar\").hasClass(\"active\");\n    localStorage.setItem('sideBar', sideBar);\n  }\n\n  toggleNav(event) {\n    event.preventDefault();\n    var currentWidth = document.getElementById(\"mySidenav\").style.width;\n\n    if (currentWidth == \"230px\") {\n      document.getElementById(\"mySidenav\").style.width = \"0\";\n    } else {\n      document.getElementById(\"mySidenav\").style.width = \"230px\";\n    }\n  }\n\n  logout() {\n    $(\"script[src='/js/adminLte.js']\").remove();\n    $(\"link[href='/css/dashboard.css']\").remove();\n    var token = localStorage.removeItem(\"token\");\n\n    if (token !== null) {\n      this.setState({\n        loggedIn: false\n      }, () => {\n        localStorage.removeItem(\"emailId\");\n        localStorage.removeItem(\"center_ID\");\n        localStorage.removeItem(\"centerName\");\n        localStorage.removeItem(\"fullName\");\n      });\n    }\n\n    var id = this.state.email;\n    var data = {};\n    data.email = id;\n    data.user_ID = this.state.user_ID;\n    data.token = this.state.token;\n    console.log(\"emailId\", id);\n    axios.patch('/api/auth/patch/logout', data).then(res => {// this.props.history.push(\"/ViewAllNotification\");\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  LogoutSectionHover(event) {\n    $(\".colorboxbefore\").toggleClass(\"colorbox\");\n    $('.showme').toggle();\n  }\n\n  bellNotification(event) {\n    $('.bellnotification').toggle();\n    const user_ID = localStorage.getItem(\"user_ID\");\n    axios.get('/api/notifications/get/list/Unread/' + user_ID).then(notifications => {\n      // console.log('notifications: ',notifications)\n      this.setState({\n        inAppNotifications: notifications.data,\n        notifCount: notifications.data.length\n      });\n    }).catch(error => {});\n  }\n\n  viewAll(id, event) {\n    // $('.bellnotification').toggle();\n    axios.put('/api/notifications/put/' + id).then(res => {\n      this.props.history.push(\"/ViewAllNotification\");\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  showDropdown(event) {\n    $(\"#showhide\").addClass(\"showhim\");\n    $(\"#showhidearrow\").addClass(\"showhim\");\n  }\n\n  hideDropdown(event) {\n    $(\"#showhide\").removeClass(\"showhim\");\n    $(\"#showhidearrow\").removeClass(\"showhim\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"main-header newMain-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      className: \"logo logoOne\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"logo-mini\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.companyLogo ? this.state.companyLogo : \"/images/Logo.png\",\n      className: \"shortlogo strong\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"logo-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"headerImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }\n    }, this.state.companyName ? this.state.companyName : 'WELCOME'))), /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-static-top\",\n      role: \"navigation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-4 col-sm-4 col-xs-4 padd0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      className: \"sidebar-toggle marginTop11 marginLeft12\",\n      \"data-toggle\": \"push-menu\",\n      role: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 19\n      }\n    }, \"Toggle navigation\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-8 col-sm-8 col-xs-8 padd0 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.toggleNav.bind(this),\n      className: \"toggleNavClass col-lg-1 col-md-1 col-sm-1 col-xs-1 pull-right nopadding textAlignCenter onHoverEffect hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-cogs headicon \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-8 col-sm-8 col-xs-8 pull-right padd0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-8 col-sm-8 col-xs-8 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-2 col-sm-2 col-xs-2 bell_Icon dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-bell btn dropdown-toggle\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"label label-default badge\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 25\n      }\n    }, this.state.notifCount)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 dropdown-menu bellnotification\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 23\n      }\n    }, \"You have \", this.state.notifCount, \" notifications\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profiledetails\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 23\n      }\n    }, this.state.inAppNotifications && this.state.inAppNotifications.length > 0 ? this.state.inAppNotifications.map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"msgborderbtm\",\n        key: index,\n        id: data._id,\n        onClick: this.viewAll.bind(this, data._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: data.notifBody\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 33\n        }\n      }));\n    }) : null))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-9 col-md-7 col-sm-9 col-xs-12  hover logoutAct pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row hover profileClass\",\n      onClick: this.LogoutSectionHover.bind(this),\n      title: \"Update Profile Photo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 colorboxbefore hoverText onHoverEffect \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"col-lg-11 nopadding \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.profileImage ? this.state.profileImage : \"/images/person.png\",\n      className: \"userIcon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"mailtext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 27\n      }\n    }, \"\\xA0\\xA0\\xA0\", this.state.fullname ? this.state.fullname : \"\")), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"textAlignCenter\",\n      style: {\n        \"marginTop\": \"4px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 user-footer showme NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  headerImageContainer padd0 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pull-right fntC1\",\n      style: {\n        \"cursor\": \"pointer\"\n      },\n      title: \"Close\",\n      onClick: this.LogoutSectionHover.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 27\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 153\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" marLeft \",\n      style: {\n        \"backgroundImage\": `url(` + (this.state.profileImage ? this.state.profileImage : \"/images/person.png\") + `)`,\n        \"height\": \"40%\",\n        \"backgroundSize\": \"41% 100%\",\n        \"backgroundRepeat\": \"no-repeat\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-6 col-sm-12 col-xs-12 marTop pull-right  padd0 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"nomargin dropmailtext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 29\n      }\n    }, this.state.fullname ? this.state.fullname : \"\"), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \" dropmailtext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 29\n      }\n    }, \" \", this.state.email ? this.state.email : \"\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btnDiv col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"profileTitle btnpadd\",\n      href: \"/profile/\" + this.state.user_ID,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"profilebtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 29\n      }\n    }, \"Profile\"))), \" \\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"profileTitle btnpadd\",\n      href: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"logoutbtn\",\n      onClick: this.logout.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 29\n      }\n    }, \"Sign Out\"))))))))))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"mySidenav\",\n      className: \"sidenav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Rightsidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default withRouter(Header2);\n/*\nhref={\"/Profile/\"+ Meteor.userId()}*/","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/common/header/Header.js"],"names":["React","Component","render","$","axios","BrowserRouter","Route","Switch","Link","location","withRouter","Rightsidebar","Header2","constructor","props","state","loggedIn","showNotification","inAppNotifications","notifCount","token","componentDidMount","hasClass","adminLte","document","createElement","type","src","append","scrollTop","userDetails","JSON","parse","localStorage","getItem","Token","console","log","get","then","companyDetails","fullName","profileImg","setState","user_ID","user_id","email","profileImage","image","fullname","firstName","lastName","companyID","companyName","data","companyLogo","notifications","length","catch","error","history","push","on","event","$trigger","target","has","getElementById","style","width","$trigger1","removeClass","hide","componentWillReceiveProps","nextProps","componentWillUnmount","remove","openNav","closeNav","toggleLeftNav","preventDefault","toggleClass","sideBar","setItem","toggleNav","currentWidth","logout","removeItem","id","patch","res","err","LogoutSectionHover","toggle","bellNotification","viewAll","put","showDropdown","addClass","hideDropdown","bind","map","index","_id","__html","notifBody"],"mappings":"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","sourcesContent":["import React,{Component}                              from 'react';\nimport { render }                                     from 'react-dom';\nimport $                                              from \"jquery\";\nimport axios from 'axios';\nimport { BrowserRouter, Route, Switch,Link,location } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\n\nimport Rightsidebar from '../rightSidebar/Rightsidebar.js';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css'; \nimport './Header.css';\n\n\nclass Header2 extends Component{\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedIn: false,\n      showNotification: false,\n      inAppNotifications:[],\n      notifCount:0,\n      token : \"\"\n    \n    }\n  }\n  componentDidMount(){\n    if ( !$('body').hasClass('adminLte')) {\n      var adminLte = document.createElement(\"script\");\n      adminLte.type=\"text/javascript\";\n      adminLte.src = \"/js/adminLte.js\";\n      $(\"body\").append(adminLte);\n    }\n    $(\"html,body\").scrollTop(0);\n\n    //======= User Details ==========\n    var userDetails = JSON.parse(localStorage.getItem(\"userDetails\")) ;\n    const Token     = userDetails ? userDetails.token : null;\n    \n    console.log(\"Token = \", userDetails);\n\n    if(Token){\n      axios.get('/api/entitymaster/get/one/companyName/1')\n          .then(companyDetails=>{\n              // console.log(\"companyDetails = \", companyDetails.data);\n               var fullName = localStorage.getItem('fullname')\n               var profileImg = localStorage.getItem('profileImg')\n\n              this.setState({\n                  token       : userDetails.token,\n                  user_ID       : userDetails.user_id,\n                  email         : userDetails.email,\n                  profileImage  : profileImg ? profileImg : userDetails.image,\n                  fullname      : fullName ? fullName : userDetails.firstName+' '+userDetails.lastName,\n                  companyID     : userDetails.companyID,\n                  companyName   : companyDetails.data.companyName,\n                  companyLogo   : companyDetails.data.companyLogo[0],\n                },()=>{\n                   console.log(\"this.state.fullname = \",this.state.fullname);\n                });\n\n          //======= Notification Unread Count ==========\n          axios.get('/api/notifications/get/list/Unread/'+userDetails.user_id)\n              .then(notifications => {\n\n              this.setState({\n                  inAppNotifications: notifications.data ,\n                  notifCount    : notifications.data.length\n                });\n\n              })\n              .catch(error => {\n                console.log(\"Error in /api/notifications/get/list/Unread/ = \",error);\n              })\n\n          })\n          .catch(error => {\n            console.log(\"Error in /api/notifications/get/list/Unread/ = \",error);\n          });\n\n    }else{\n      this.props.history.push(\"/login\");\n    }\n\n    $(document).on(\"click\", function(event){\n        var $trigger = $(\".toggleNavClass\");\n        if($trigger !== event.target && !$trigger.has(event.target).length){\n            document.getElementById(\"mySidenav\").style.width = \"0\";\n        }            \n        var $trigger1 = $(\".profileClass\");\n        if($trigger1 !== event.target && !$trigger1.has(event.target).length){\n            $(\".colorboxbefore\").removeClass(\"colorbox\");\n            $('.showme').hide();\n        }          \n    });\n\n\n  }\n\n  componentWillReceiveProps(nextProps){\n    const user_ID = localStorage.getItem(\"user_ID\");\n    axios.get('/api/notifications/get/list/Unread/'+user_ID)\n      .then(notifications => {\n        this.setState({ inAppNotifications: notifications.data,notifCount: notifications.data.length })\n      })\n      .catch(error => {\n      })\n      //====\n     var fullName = localStorage.getItem('fullname')\n     // console.log('abd header===',fullName)\n      this.setState({\n        fullname :fullName\n      })\n  }\n  componentWillUnmount(){\n    $(\"script[src='/js/adminLte.js']\").remove();\n    $(\"link[href='/css/dashboard.css']\").remove();\n  }\n\n   openNav() {\n    document.getElementById(\"mySidenav\").style.width = \"250px\";\n  }\n\n  closeNav() {\n    document.getElementById(\"mySidenav\").style.width = \"0\";\n  }\n\n  toggleLeftNav(event) {\n    event.preventDefault()\n    $('#sidebar').toggleClass('active')\n    $('#headerid').toggleClass('headereffect');\n    $('#dashbordid').toggleClass('dashboardeffect')\n    var sideBar = $(\"#sidebar\").hasClass(\"active\")\n    localStorage.setItem('sideBar', sideBar);\n  }\n\n  toggleNav(event) {\n    event.preventDefault()\n    var currentWidth = document.getElementById(\"mySidenav\").style.width;\n    if (currentWidth == \"230px\") {\n      document.getElementById(\"mySidenav\").style.width = \"0\";\n    } else {\n      document.getElementById(\"mySidenav\").style.width = \"230px\";\n    }\n  }\n\n  logout() {\n    $(\"script[src='/js/adminLte.js']\").remove();\n    $(\"link[href='/css/dashboard.css']\").remove();\n    var token = localStorage.removeItem(\"token\");\n    if (token !== null) {\n      this.setState({\n        loggedIn: false\n      }, () => {\n        localStorage.removeItem(\"emailId\")\n        localStorage.removeItem(\"center_ID\")\n        localStorage.removeItem(\"centerName\")\n        localStorage.removeItem(\"fullName\")\n      }) \n    }\n    var id = this.state.email;\n    var data={};\n    data.email = id;\n    data.user_ID =this.state.user_ID;\n    data.token = this.state.token;\n    console.log(\"emailId\",id);\n    axios.patch('/api/auth/patch/logout',data)\n    .then((res)=>{\n      // this.props.history.push(\"/ViewAllNotification\");\n    })\n    .catch((err)=>{\n      console.log(err)\n    })\n  }\n  LogoutSectionHover(event) {\n    $(\".colorboxbefore\").toggleClass(\"colorbox\");\n    $('.showme').toggle();\n  }\n\n  bellNotification(event) {\n    $('.bellnotification').toggle();\n    const user_ID = localStorage.getItem(\"user_ID\");\n    axios.get('/api/notifications/get/list/Unread/'+user_ID)\n      .then(notifications => {\n        // console.log('notifications: ',notifications)\n        this.setState({ inAppNotifications: notifications.data,notifCount: notifications.data.length })\n      })\n      .catch(error => {\n      })\n  }\n  viewAll(id,event){\n    // $('.bellnotification').toggle();\n    axios.put('/api/notifications/put/'+id)\n    .then((res)=>{\n      this.props.history.push(\"/ViewAllNotification\");\n    })\n    .catch((err)=>{\n      console.log(err)\n    })\n  }\n  showDropdown(event)\n  {\n    $(\"#showhide\").addClass(\"showhim\");\n    $(\"#showhidearrow\").addClass(\"showhim\");\n  }\n   hideDropdown(event)\n  {\n    $(\"#showhide\").removeClass(\"showhim\");\n    $(\"#showhidearrow\").removeClass(\"showhim\");\n  }\n\n  render(){\n    return(\n      <div className=\"\">\n        <header className=\"main-header newMain-header\">\n          <a href=\"javascript:void(0)\" className=\"logo logoOne\">\n            <span className=\"logo-mini\">\n              <img src={this.state.companyLogo ? this.state.companyLogo :\"/images/Logo.png\"} className=\"shortlogo strong\"/>\n            </span>\n            <span className=\"logo-lg\">\n                <label  className=\"headerImage\">{this.state.companyName ? this.state.companyName : 'WELCOME'}</label>\n            </span>\n          </a>\n          <nav className=\"navbar navbar-static-top\" role=\"navigation\">\n            <div className=\"col-lg-3 col-md-4 col-sm-4 col-xs-4 padd0\">\n              <a href=\"javascript:void(0)\" className=\"sidebar-toggle marginTop11 marginLeft12\" data-toggle=\"push-menu\" role=\"button\">\n                  <span className=\"sr-only\">\n                    Toggle navigation\n                  </span>\n              </a>\n            </div>\n            <div className=\"col-lg-6 col-md-8 col-sm-8 col-xs-8 padd0 pull-right\">\n              <div onClick={this.toggleNav.bind(this)} className=\"toggleNavClass col-lg-1 col-md-1 col-sm-1 col-xs-1 pull-right nopadding textAlignCenter onHoverEffect hover\">\n                <i className=\"fa fa-cogs headicon \"></i>\n              </div>\n              <div className=\"col-lg-8 col-md-8 col-sm-8 col-xs-8 pull-right padd0\">\n                <div className=\"col-lg-8 col-md-8 col-sm-8 col-xs-8 pull-right\">\n                  <div className=\"col-lg-2 col-md-2 col-sm-2 col-xs-2 bell_Icon dropdown\">\n                    <i className=\"fa fa-bell btn dropdown-toggle\" data-toggle=\"dropdown\" aria-hidden=\"true\"></i>\n                    <h1><span className=\"label label-default badge\">{this.state.notifCount}</span></h1>\n                    <div className=\"col-lg-12 col-md-12 dropdown-menu bellnotification\">\n                      <p>You have {this.state.notifCount} notifications</p>\n                      <div className=\"profiledetails\">\n                        {this.state.inAppNotifications && this.state.inAppNotifications.length > 0 ?\n                            this.state.inAppNotifications.map((data, index) => {\n                              return (\n                                <div className=\"msgborderbtm\" key={index} id={data._id} onClick={this.viewAll.bind(this,data._id)}>\n                                <div dangerouslySetInnerHTML={{ __html: data.notifBody }} />\n                                </div>\n                              )\n                            })\n                           \n                          :\n                          null\n                        }\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"col-lg-9 col-md-7 col-sm-9 col-xs-12  hover logoutAct pull-right\">\n                    <div className=\"row hover profileClass\" onClick={this.LogoutSectionHover.bind(this)} title=\"Update Profile Photo\">\n                      <span className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 colorboxbefore hoverText onHoverEffect \">\n                        <span className=\"col-lg-11 nopadding \">\n                          <img src={this.state.profileImage ? this.state.profileImage : \"/images/person.png\"} className=\"userIcon\"  />\n                          <label className=\"mailtext\">&nbsp;&nbsp;&nbsp;{this.state.fullname ? this.state.fullname : \"\"}</label>\n                        </span>\n                        <span className=\"textAlignCenter\" style={{\"marginTop\": \"4px\"}}>\n                        </span>\n                      </span>\n                    </div>\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 user-footer showme NOpadding\">\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding \" >\n                        \n                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  headerImageContainer padd0 \">\n                          <p className=\"pull-right fntC1\" style={{\"cursor\":\"pointer\"}} title=\"Close\"  onClick={this.LogoutSectionHover.bind(this)}>X</p><br/>\n                            <div className=\" marLeft \"  style={{\"backgroundImage\":`url(`+ (this.state.profileImage ? this.state.profileImage : \"/images/person.png\")+`)`, \"height\": \"40%\", \"backgroundSize\":\"41% 100%\",\"backgroundRepeat\": \"no-repeat\"}}></div>\n                          <div className=\"col-lg-12 col-md-6 col-sm-12 col-xs-12 marTop pull-right  padd0 \">\n                            <h5 className=\"nomargin dropmailtext\">\n                              {this.state.fullname ? this.state.fullname : \"\"}\n                            </h5>\n                            <h6 className=\" dropmailtext\"> {this.state.email ? this.state.email : \"\"}</h6>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"btnDiv col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                        <span className=\"\">\n                          <a className=\"profileTitle btnpadd\" href={\"/profile/\"+this.state.user_ID}>\n                            <button type=\"button\" className=\"profilebtn\">Profile</button>\n                          </a>\n                        </span> &nbsp;\n                        <span className=\"pull-right\">\n                          <a className=\"profileTitle btnpadd\" href=\"/login\">\n                            <button type=\"button\" className=\"logoutbtn\" onClick={this.logout.bind(this)}>Sign Out</button>\n                          </a>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </nav>\n        </header>\n        <div id=\"mySidenav\" className=\"sidenav\">\n          <Rightsidebar />\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(Header2);\n/*\nhref={\"/Profile/\"+ Meteor.userId()}*/"]},"metadata":{},"sourceType":"module"}