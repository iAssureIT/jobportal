{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/Master/EntityMaster/SelectVendor/SelectVendor.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport _ from 'underscore';\nimport 'bootstrap/js/tab.js';\n\nclass SelectVendor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"startRange\": 0,\n      \"limitRange\": 10,\n      \"selectedVendor\": {},\n      \"selectedVendorLocation\": {},\n      \"editId\": ''\n    };\n  }\n\n  componentDidMount() {\n    this.getVendor();\n    window.scrollTo(0, 0);\n    var role = localStorage.getItem(\"roles\");\n    console.log(\"role = \", role);\n\n    if (role === 'admin') {\n      var companyID = '';\n\n      if (localStorage.getItem(\"companyID\")) {\n        var companyID = localStorage.getItem(\"companyID\");\n      } else {\n        const user_id = localStorage.getItem(\"user_ID\");\n        axios.get(\"/api/users/get/compid-locid/:user_id\").then(response => {\n          //localStorage.setItem(\"companyID\", response.data.companyID);\n          localStorage.setItem(\"locationID\", response.data.locationID);\n          var companyID = response.data.companyID;\n          var locationID = response.data.locationID;\n        }).catch(error => {\n          swal('Something Went Wrong!', error, 'error');\n        });\n      }\n\n      if (localStorage.getItem(\"locationID\")) {\n        var locationID = localStorage.getItem(\"locationID\");\n      } else {\n        swal('Location ID Issue', \"We are not able to find user's Locatiton id\", 'error');\n      }\n\n      var vendorID = companyID;\n      var vendorLocationID = locationID;\n      this.props.vendor(vendorID, vendorLocationID); // this.props.history.push(\"/supplier/basic-details\");            \n\n      console.log(\"vendorID = \", vendorID);\n      console.log(\"vendorLocationID = \", vendorLocationID);\n    }\n\n    $.validator.addMethod(\"regxvendor\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the vendor\");\n    $.validator.addMethod(\"regxvendorLocation\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the vendor location\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#SelectVendor\").validate({\n      rules: {\n        vendor: {\n          required: true,\n          regxvendor: \"--Select Vendor--\"\n        },\n        vendorLocation: {\n          required: true,\n          regxvendorLocation: \"--Select Vendor Location--\"\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"vendor\") {\n          error.insertAfter(\"#vendor\");\n        }\n\n        if (element.attr(\"name\") === \"vendorLocation\") {\n          error.insertAfter(\"#vendorLocation\");\n        }\n      }\n    });\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    var value = event.target.value;\n    this.setState({\n      [name]: event.target.value\n    }, () => {\n      if (this.state[name] === this.state.vendor) {\n        this.getVendorLocation(value, '');\n        this.setState({\n          vendorLocation: ''\n        });\n      } else if (this.state[name] === this.state.vendorLocation && this.state.vendor) {\n        this.getVendorLocation(this.state.vendor, this.state.vendorLocation);\n      }\n    });\n  }\n\n  getVendor() {\n    axios.get('/api/entitymaster/get/vendor').then(response => {\n      console.log('vendorArray', response.data);\n      this.setState({\n        vendorArray: response.data\n      });\n    }).catch(error => {});\n  }\n\n  getVendorLocation(vendorId, vendorLocationId) {\n    axios.get('/api/entitymaster/get/one/' + vendorId).then(response => {\n      this.setState({\n        selectedVendor: response.data[0],\n        vendorLocationArray: response.data[0].locations\n      }, () => {\n        if (this.state.vendorLocationArray && this.state.vendorLocationArray.length > 0) {\n          var selectedVendorLocation = this.state.vendorLocationArray.filter(a => a._id === vendorLocationId);\n          console.log('selectedVendorLocation', selectedVendorLocation);\n          this.setState({\n            selectedVendorLocation: selectedVendorLocation[0]\n          });\n        } else {\n          this.setState({\n            selectedVendorLocation: []\n          });\n        }\n      });\n    }).catch(error => {});\n  }\n\n  submit(event) {\n    event.preventDefault();\n\n    if ($('#SelectVendor').valid()) {\n      var vendorID = this.state.vendor;\n      var vendorLocationID = this.state.vendorLocation;\n      this.props.vendor(vendorID, vendorLocationID);\n      this.props.history.push(\"/supplier/basic-details\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 37\n      }\n    }, \"Supplier Master \")), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"Content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"SelectVendor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 53\n      }\n    }, \"Please select Vendor and Location to add Supplier. \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 53\n      }\n    }, \"Vendor \", /*#__PURE__*/React.createElement(\"sup\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 129\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"vendor\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.vendor,\n      ref: \"vendor\",\n      name: \"vendor\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 57\n      }\n    }, \"--Select Vendor--\"), this.state.vendorArray && this.state.vendorArray.length > 0 ? this.state.vendorArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 73\n        }\n      }, data.companyName);\n    }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-sm-12 col-xs-12 marbtm30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 53\n      }\n    }, \"Vendor Location \", /*#__PURE__*/React.createElement(\"sup\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 138\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"vendorLocation\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.vendorLocation,\n      ref: \"vendorLocation\",\n      name: \"vendorLocation\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 57\n      }\n    }, \"--Select Vendor Location--\"), this.state.vendorLocationArray && this.state.vendorLocationArray.length > 0 ? this.state.vendorLocationArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 73\n        }\n      }, data.locationType.match(/\\b(\\w)/g).join(''), \" - \", data.area, \" \", data.city, \", \", data.stateCode, \" - \", data.countryCode, \"  \");\n    }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 49\n      }\n    }, this.state.selectedVendor.companyName ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 detailBox marbtm30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-2 col-sm-12 col-xs-12 detailBoxImg\",\n      style: {\n        \"backgroundImage\": `url(` + this.state.selectedVendor.companyLogo + `)`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 69\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-10 col-md-10 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"detailtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 73\n      }\n    }, this.state.selectedVendor.companyName), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-user-o \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 81\n      }\n    }), \" \", this.state.selectedVendor.groupName), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-globe\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 81\n      }\n    }), \" \", this.state.selectedVendor.website), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-envelope \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 81\n      }\n    }), \" \", this.state.selectedVendor.companyEmail), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 77\n      }\n    }, \"CIN: \", this.state.selectedVendor.CIN), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 77\n      }\n    }, \"TAN: \", this.state.selectedVendor.TAN))))) : null, this.state.selectedVendorLocation && this.state.selectedVendorLocation.locationType ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 detailBox marbtm30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-1 col-md-1 col-sm-12 col-xs-12 mapIconMargin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-map-marker addressIcon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 73\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-1 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 73\n      }\n    }, \"Location Details\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 77\n      }\n    }, \" \", this.state.selectedVendorLocation.locationType), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 77\n      }\n    }, \" \", this.state.selectedVendorLocation.addressLine1), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 77\n      }\n    }, \" \", this.state.selectedVendorLocation.addressLine2), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 77\n      }\n    }, \" \", this.state.selectedVendorLocation.area, \" \", this.state.selectedVendorLocation.city), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 77\n      }\n    }, \" \", this.state.selectedVendorLocation.district, \" \", this.state.selectedVendorLocation.state, \" \", this.state.selectedVendorLocation.country))))) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submit.bind(this),\n      className: \"btn button3 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 53\n      }\n    }, \"Save & Next\")))))))))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    vendor: (vendorID, vendorLocationID) => dispatch({\n      type: 'VENDOR',\n      vendorID: vendorID,\n      vendorLocationID: vendorLocationID\n    })\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    vendorID: state.vendorID,\n    vendorLocationID: state.vendorLocationID\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(SelectVendor));","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/Master/EntityMaster/SelectVendor/SelectVendor.js"],"names":["React","Component","$","jQuery","axios","swal","connect","withRouter","_","SelectVendor","constructor","props","state","componentDidMount","getVendor","window","scrollTo","role","localStorage","getItem","console","log","companyID","user_id","get","then","response","setItem","data","locationID","catch","error","vendorID","vendorLocationID","vendor","validator","addMethod","value","element","arg","setDefaults","debug","success","validate","rules","required","regxvendor","vendorLocation","regxvendorLocation","errorPlacement","attr","insertAfter","handleChange","event","preventDefault","target","name","setState","getVendorLocation","vendorArray","vendorId","vendorLocationId","selectedVendor","vendorLocationArray","locations","length","selectedVendorLocation","filter","a","_id","submit","valid","history","push","render","bind","map","i","companyName","locationType","match","join","area","city","stateCode","countryCode","companyLogo","groupName","website","companyEmail","CIN","TAN","addressLine1","addressLine2","district","country","mapDispatchToProps","dispatch","type","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport $                    from 'jquery';\r\nimport jQuery               from 'jquery';\r\nimport axios                from 'axios';\r\nimport swal                 from 'sweetalert';\r\nimport {connect}            from 'react-redux';\r\nimport { withRouter }       from 'react-router-dom';\r\nimport _                    from 'underscore';\r\nimport 'bootstrap/js/tab.js';\r\nclass SelectVendor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            \"startRange\": 0,\r\n            \"limitRange\": 10,\r\n            \"selectedVendor\"            : {},\r\n            \"selectedVendorLocation\"    : {},\r\n            \"editId\"    :  '',\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        this.getVendor();\r\n        window.scrollTo(0, 0);\r\n        var role = localStorage.getItem(\"roles\");\r\n        console.log(\"role = \",role);\r\n\r\n        if(role === 'admin'){\r\n            var companyID = '';\r\n            if(localStorage.getItem(\"companyID\")){\r\n                var companyID  = localStorage.getItem(\"companyID\");\r\n            }else{\r\n                const user_id = localStorage.getItem(\"user_ID\");\r\n                axios.get(\"/api/users/get/compid-locid/:user_id\")\r\n                    .then(response => {\r\n                         //localStorage.setItem(\"companyID\", response.data.companyID);\r\n                        localStorage.setItem(\"locationID\", response.data.locationID);\r\n                        var companyID  = response.data.companyID;\r\n                        var locationID = response.data.locationID;\r\n                    })\r\n                    .catch((error) => {\r\n                        swal('Something Went Wrong!',error,'error');\r\n                    })\r\n            }\r\n            if(localStorage.getItem(\"locationID\")){\r\n                var locationID  = localStorage.getItem(\"locationID\");\r\n            }else{\r\n                swal('Location ID Issue',\"We are not able to find user's Locatiton id\",'error');\r\n            }\r\n\r\n            var vendorID            = companyID;\r\n            var vendorLocationID    = locationID;\r\n            this.props.vendor(vendorID, vendorLocationID);\r\n            // this.props.history.push(\"/supplier/basic-details\");            \r\n            console.log(\"vendorID = \",vendorID);\r\n            console.log(\"vendorLocationID = \",vendorLocationID);\r\n        }\r\n\r\n        $.validator.addMethod(\"regxvendor\", function (value, element, arg) {\r\n            return arg !== value;\r\n        }, \"Please select the vendor\");\r\n        $.validator.addMethod(\"regxvendorLocation\", function (value, element, arg) {\r\n            return arg !== value;\r\n        }, \"Please select the vendor location\");\r\n\r\n        jQuery.validator.setDefaults({\r\n            debug: true,\r\n            success: \"valid\"\r\n        });\r\n        $(\"#SelectVendor\").validate({\r\n            rules: {\r\n                vendor: {\r\n                    required: true,\r\n                    regxvendor: \"--Select Vendor--\"\r\n                },\r\n                vendorLocation: {\r\n                    required: true,\r\n                    regxvendorLocation: \"--Select Vendor Location--\"\r\n                }\r\n            },\r\n            errorPlacement: function (error, element) {\r\n                if (element.attr(\"name\") === \"vendor\") {\r\n                    error.insertAfter(\"#vendor\");\r\n                }\r\n                if (element.attr(\"name\") === \"vendorLocation\") {\r\n                    error.insertAfter(\"#vendorLocation\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n    handleChange(event) {\r\n        event.preventDefault();\r\n        const target = event.target;\r\n        const name = target.name;\r\n        var value = event.target.value;\r\n        this.setState({\r\n            [name]: event.target.value\r\n        },()=>{\r\n            if(this.state[name] === this.state.vendor){\r\n                this.getVendorLocation(value, '');\r\n                this.setState({\r\n                    vendorLocation : ''\r\n                })\r\n            }else if(this.state[name] === this.state.vendorLocation && this.state.vendor){\r\n                this.getVendorLocation(this.state.vendor, this.state.vendorLocation);\r\n            }\r\n        });\r\n    }\r\n    getVendor(){\r\n        axios.get('/api/entitymaster/get/vendor')\r\n\t\t.then((response) => {\r\n            console.log('vendorArray', response.data)\r\n\t\t\tthis.setState({\r\n\t\t\t\tvendorArray: response.data\r\n\t\t\t})\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\t\r\n\t\t})\r\n    }\r\n    getVendorLocation(vendorId, vendorLocationId){\r\n        axios.get('/api/entitymaster/get/one/'+vendorId)\r\n        .then((response)=>{\r\n            this.setState({\r\n                selectedVendor : response.data[0],\r\n                vendorLocationArray: response.data[0].locations\r\n            },()=>{\r\n                if(this.state.vendorLocationArray && this.state.vendorLocationArray.length>0){\r\n                    var selectedVendorLocation = this.state.vendorLocationArray.filter((a)=> a._id === vendorLocationId);\r\n                    console.log('selectedVendorLocation', selectedVendorLocation);\r\n                    this.setState({\r\n                        selectedVendorLocation : selectedVendorLocation[0]\r\n                    })\r\n                }else{\r\n                    this.setState({\r\n                        selectedVendorLocation : []\r\n                    })\r\n                }\r\n            })\r\n        })\r\n        .catch((error)=>{\r\n\r\n        })\r\n    }\r\n    submit(event){\r\n        event.preventDefault();\r\n        if($('#SelectVendor').valid()) {\r\n            var vendorID            = this.state.vendor;\r\n            var vendorLocationID    = this.state.vendorLocation;\r\n            this.props.vendor(vendorID, vendorLocationID);\r\n            this.props.history.push(\"/supplier/basic-details\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\r\n                        <section className=\"content\">\r\n                            <div className=\"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                                <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\r\n                                    <h4 className=\"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\">Supplier Master </h4>\r\n                                </div>\r\n                                <section className=\"Content\">\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                                            <form className=\"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"SelectVendor\">\r\n                                                <div className=\"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                                                    <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\">Please select Vendor and Location to add Supplier. </label>\r\n                                                </div>\r\n                                                <div className=\"form-margin col-lg-6 col-md-6 col-sm-12 col-xs-12\" >\r\n                                                    <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\">Vendor <sup className=\"astrick\">*</sup></label>\r\n                                                    <select id=\"vendor\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.vendor} ref=\"vendor\" name=\"vendor\" onChange={this.handleChange.bind(this)}>\r\n                                                        <option>--Select Vendor--</option>\r\n                                                        {\r\n                                                            this.state.vendorArray && this.state.vendorArray.length > 0 ?\r\n                                                                this.state.vendorArray.map((data, i)=>{\r\n                                                                    return(\r\n                                                                        <option key={i} value={data._id}>{data.companyName}</option>\r\n                                                                    );\r\n                                                                })\r\n                                                            :\r\n                                                            null\r\n                                                        }\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div className=\"form-margin col-lg-6 col-md-6 col-sm-12 col-xs-12 marbtm30\" >\r\n                                                    <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\">Vendor Location <sup className=\"astrick\">*</sup></label>\r\n                                                    <select id=\"vendorLocation\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.vendorLocation} ref=\"vendorLocation\" name=\"vendorLocation\" onChange={this.handleChange.bind(this)}>\r\n                                                        <option>--Select Vendor Location--</option>\r\n                                                        {\r\n                                                            this.state.vendorLocationArray && this.state.vendorLocationArray.length > 0 ?\r\n                                                                this.state.vendorLocationArray.map((data, i)=>{\r\n                                                                    return(\r\n                                                                        <option key={i} value={data._id}>{((data.locationType).match(/\\b(\\w)/g)).join('')} - {data.area} {data.city}, {data.stateCode} - {data.countryCode}  </option>\r\n                                                                    );\r\n                                                                })\r\n                                                            :\r\n                                                            null\r\n                                                        }\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\r\n                                                    {\r\n                                                        this.state.selectedVendor.companyName ? \r\n                                                            <div className=\"col-lg-6 col-md-6 col-sm-12 col-xs-12\">\r\n                                                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 detailBox marbtm30\">\r\n                                                                    <div className=\"col-lg-2 col-md-2 col-sm-12 col-xs-12 detailBoxImg\" style={{\"backgroundImage\":`url(`+this.state.selectedVendor.companyLogo+`)`}}></div>\r\n                                                                    <div className=\"col-lg-10 col-md-10 col-sm-12 col-xs-12\">\r\n                                                                        <h5 className=\"detailtitle\">{this.state.selectedVendor.companyName}</h5>\r\n                                                                        <ul className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\r\n                                                                            <li><i className=\"fa fa-user-o \"></i> {this.state.selectedVendor.groupName}</li>\r\n                                                                            <li><i className=\"fa fa-globe\"></i> {this.state.selectedVendor.website}</li>\r\n                                                                            <li><i className=\"fa fa-envelope \"></i> {this.state.selectedVendor.companyEmail}</li>\r\n                                                                            <li>CIN: {this.state.selectedVendor.CIN}</li>\r\n                                                                            <li>TAN: {this.state.selectedVendor.TAN}</li>\r\n                                                                        </ul>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        :\r\n                                                        null\r\n                                                    }\r\n                                                    {\r\n                                                        this.state.selectedVendorLocation && this.state.selectedVendorLocation.locationType ? \r\n                                                            <div className=\"col-lg-6 col-md-6 col-sm-12 col-xs-12\">\r\n                                                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 detailBox marbtm30\">\r\n                                                                    <div className=\"col-lg-1 col-md-1 col-sm-12 col-xs-12 mapIconMargin\">\r\n                                                                        <i className=\"fa fa-map-marker addressIcon\"></i>\r\n                                                                    </div>\r\n                                                                    <div className=\"col-lg-6 col-md-1 col-sm-12 col-xs-12\">\r\n                                                                        <h4>Location Details</h4>\r\n                                                                    </div>\r\n                                                                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                                                                        <ul className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\r\n                                                                            <li> {this.state.selectedVendorLocation.locationType}</li>\r\n                                                                            <li> {this.state.selectedVendorLocation.addressLine1}</li>\r\n                                                                            <li> {this.state.selectedVendorLocation.addressLine2}</li>\r\n                                                                            <li> {this.state.selectedVendorLocation.area} {this.state.selectedVendorLocation.city}</li>\r\n                                                                            <li> {this.state.selectedVendorLocation.district} {this.state.selectedVendorLocation.state} {this.state.selectedVendorLocation.country}</li>\r\n                                                                        </ul>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        :\r\n                                                        null\r\n                                                    }\r\n                                                </div>\r\n                                                <div className=\"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                                                    <button onClick={this.submit.bind(this)} className=\"btn button3 pull-right\">Save & Next</button>\r\n                                                </div>\r\n                                            </form>\r\n                                        </div>\r\n                                    </div>\r\n                                </section>\r\n                            </div>\r\n                        </section>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch)=>{\r\n    return {\r\n        vendor : (vendorID, vendorLocationID)=> dispatch({\r\n            type:'VENDOR',\r\n            vendorID : vendorID,\r\n            vendorLocationID : vendorLocationID\r\n        }),\r\n    }\r\n}\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        vendorID            : state.vendorID,\r\n        vendorLocationID    : state.vendorLocationID\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(SelectVendor));"]},"metadata":{},"sourceType":"module"}