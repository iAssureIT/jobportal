{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/PaymentProcess/PlanPage.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport Moment from 'moment';\nimport \"./PlanPage.css\";\nexport default class PlanPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paymentDetails: \"\"\n    };\n  }\n\n  ScrollTop(event) {\n    window.scrollTo(0, 0);\n  }\n\n  componentDidMount() {\n    var user_ID = localStorage.getItem('user_ID');\n    this.setState({\n      user_ID: user_ID\n    });\n    axios.get(\"/api/users/get/\" + user_ID).then(response => {\n      this.setState({\n        userinfo: response.data\n      });\n    }).catch(error => {// console.log(\"error\",error)\n    });\n  }\n\n  placeOrder(event) {\n    event.preventDefault();\n    var planName = event.currentTarget.getAttribute(\"data-planname\");\n    var price = event.currentTarget.getAttribute(\"data-price\");\n    var validityinmonths = event.currentTarget.getAttribute(\"data-validityinmonths\");\n    var options = {\n      amount: price * 100,\n      // amount in the smallest currency unit\n      currency: \"INR\",\n      receipt: \"order_rcptid_11\",\n      payment_capture: '0',\n      \"plan_ID\": \"\",\n      \"userID\": this.state.user_ID,\n      \"planName\": planName,\n      \"planAmount\": price,\n      \"validityPeriod\": validityinmonths,\n      \"purchaseDate\": Moment(new Date()).format(\"YYYY-MM-DD\"),\n      \"startDate\": Moment(new Date()).format(\"YYYY-MM-DD\"),\n      \"endDate\": \"27-08-2020\",\n      \"paymentOrderId\": \"\",\n      \"amountPaid\": 0\n    };\n    axios.post('/api/subscriptionorders/post', options).then(response => {\n      this.setState({\n        paymentDetails: response.data\n      });\n      this.props.history.push(\"/invoicePage/\" + this.state.paymentDetails.id);\n    }).catch(function (error) {\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 selectedPlanPP noPadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }, \" Select Plan\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-12 col-sm-12 col-xs-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 PlanDetailsPlan\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"planName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 20\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 49\n      }\n    }, \"\\xA0\"), \"999\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 93\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 20\n      }\n    }, \"was \", /*#__PURE__*/React.createElement(\"strike\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 44\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 52\n      }\n    }, \"\\xA0\"), \"1499\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 106\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"timePeriod mt20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 20\n      }\n    }, \"for 6 months\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 75\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary buyNowPlan\",\n      \"data-planname\": \"6 Months\",\n      \"data-price\": \"999\",\n      \"data-validityinmonths\": \"6\",\n      onClick: this.placeOrder.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 20\n      }\n    }, \" Buy Now \"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-12 col-sm-12 col-xs-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 PlanDetailsPlan\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"planName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 20\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 49\n      }\n    }, \"\\xA0\"), \"1499\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 94\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 20\n      }\n    }, \"was \", /*#__PURE__*/React.createElement(\"strike\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 44\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 52\n      }\n    }, \"\\xA0\"), \"1999\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 106\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"timePeriod mt20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 20\n      }\n    }, \"for 1 year\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 73\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary buyNowPlan\",\n      \"data-planname\": \"1 Year\",\n      \"data-price\": \"1499\",\n      \"data-validityinmonths\": \"12\",\n      onClick: this.placeOrder.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 20\n      }\n    }, \" Buy Now \"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-12 col-sm-12 col-xs-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 PlanDetailsPlan\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"planName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 18\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 47\n      }\n    }, \"\\xA0\"), \"1999\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 92\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 18\n      }\n    }, \"was \", /*#__PURE__*/React.createElement(\"strike\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 50\n      }\n    }, \"\\xA0\"), \"2500\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 104\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"timePeriod mt20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 18\n      }\n    }, \"for 2 year\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 71\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary buyNowPlan\",\n      \"data-planname\": \"2 Year\",\n      \"data-price\": \"1999\",\n      \"data-validityinmonths\": \"24\",\n      onClick: this.placeOrder.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 18\n      }\n    }, \" Buy Now \"))))));\n  }\n\n}","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/PaymentProcess/PlanPage.js"],"names":["React","Component","axios","swal","Moment","PlanPage","constructor","props","state","paymentDetails","ScrollTop","event","window","scrollTo","componentDidMount","user_ID","localStorage","getItem","setState","get","then","response","userinfo","data","catch","error","placeOrder","preventDefault","planName","currentTarget","getAttribute","price","validityinmonths","options","amount","currency","receipt","payment_capture","Date","format","post","history","push","id","message","render","bind"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\nimport axios                 from 'axios';\nimport swal                  from 'sweetalert';\nimport Moment                from 'moment';\n\nimport \"./PlanPage.css\";\n\nexport default class PlanPage extends Component {\n\n  constructor(props) {\n    super(props);\n        this.state = {\n            paymentDetails : \"\",\n        };\n    }\n  ScrollTop(event){\n    window.scrollTo(0,0);\n  }\n  componentDidMount()\n  {\n   var user_ID = localStorage.getItem('user_ID')\n   this.setState({\n    user_ID : user_ID,\n   })\n   axios.get(\"/api/users/get/\"+user_ID)\n    .then((response)=>{ \n        this.setState({\n            userinfo : response.data\n        })\n    })\n    .catch((error)=>{\n      // console.log(\"error\",error)\n    })\n  }\n  placeOrder(event){\n    event.preventDefault();\n    var planName         = event.currentTarget.getAttribute(\"data-planname\");\n    var price            = event.currentTarget.getAttribute(\"data-price\");\n    var validityinmonths = event.currentTarget.getAttribute(\"data-validityinmonths\");\n     var options = {\n        amount            : (price*100),  // amount in the smallest currency unit\n        currency          : \"INR\",\n        receipt           : \"order_rcptid_11\",\n        payment_capture   : '0',\n        \"plan_ID\"         : \"\",\n        \"userID\"          : this.state.user_ID,\n        \"planName\"        : planName,\n        \"planAmount\"      : price, \n        \"validityPeriod\"  : validityinmonths, \n        \"purchaseDate\"    : Moment(new Date()).format(\"YYYY-MM-DD\"),\n        \"startDate\"       : Moment(new Date()).format(\"YYYY-MM-DD\"),\n        \"endDate\"         : \"27-08-2020\",\n        \"paymentOrderId\"   : \"\",\n        \"amountPaid\"      : 0,\n    };   \n\n    axios\n      .post('/api/subscriptionorders/post',options)\n      .then((response)=>{ \n        this.setState({\n          paymentDetails : response.data,\n        })\n        this.props.history.push(\"/invoicePage/\"+this.state.paymentDetails.id);\n      })\n      .catch(function(error){\n          if(error.message === \"Request failed with status code 401\")\n          {\n             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n             this.props.history.push(\"/\");\n          }\n      })\n  }\n  render() {\n    return (\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n          <section className=\"content\">\n            <div className=\"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 selectedPlanPP noPadding\">\n                  <label className=\"col-lg-12\"> Select Plan</label>\n              </div>\n              <div className=\"col-lg-4 col-md-12 col-sm-12 col-xs-12 \">\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 PlanDetailsPlan\">\n                   <label className=\"planName\"> <i class=\"fa fa-rupee\">&nbsp;</i>999</label><br/>\n                   <label className=\"\">was <strike><i class=\"fa fa-rupee\">&nbsp;</i>1499</strike></label><br/>\n                   <label className=\"timePeriod mt20\">for 6 months</label><br/>\n                   <button className=\"btn btn-primary buyNowPlan\" data-planname=\"6 Months\" data-price=\"999\" data-validityinmonths=\"6\" onClick={this.placeOrder.bind(this)}> Buy Now </button>\n                </div> \n              </div>\n              <div className=\"col-lg-4 col-md-12 col-sm-12 col-xs-12 \">\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 PlanDetailsPlan\">\n                   <label className=\"planName\"> <i class=\"fa fa-rupee\">&nbsp;</i>1499</label><br/>\n                   <label className=\"\">was <strike><i class=\"fa fa-rupee\">&nbsp;</i>1999</strike></label><br/>\n                   <label className=\"timePeriod mt20\">for 1 year</label><br/>\n                   <button className=\"btn btn-primary buyNowPlan\" data-planname=\"1 Year\" data-price=\"1499\" data-validityinmonths=\"12\" onClick={this.placeOrder.bind(this)}> Buy Now </button>\n                </div>  \n              </div>\n              <div className=\"col-lg-4 col-md-12 col-sm-12 col-xs-12 \">\n               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 PlanDetailsPlan\">\n                 <label className=\"planName\"> <i class=\"fa fa-rupee\">&nbsp;</i>1999</label><br/>\n                 <label className=\"\">was <strike><i class=\"fa fa-rupee\">&nbsp;</i>2500</strike></label><br/>\n                 <label className=\"timePeriod mt20\">for 2 year</label><br/>\n                 <button className=\"btn btn-primary buyNowPlan\" data-planname=\"2 Year\" data-price=\"1999\" data-validityinmonths=\"24\" onClick={this.placeOrder.bind(this)}> Buy Now </button>\n              </div>  \n            </div>               \n        </div>\n      </section>\n    </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}