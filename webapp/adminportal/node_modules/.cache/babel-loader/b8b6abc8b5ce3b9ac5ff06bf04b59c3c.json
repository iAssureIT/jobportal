{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/jobportaladmin/FunctionalArea/FunctionalArea.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport TwoFieldForm from '../../coreadmin/Master/TwoFieldForm/TwoFieldForm.js';\nimport 'bootstrap/js/tab.js';\n\nclass FunctionalArea extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"locationType\": \"\",\n      \"oneFields\": {\n        placeholder: \"Add industry & press 'Enter' Key\",\n        title: \"Industry \",\n        attributeName: \"industry\"\n      },\n      \"oneTableHeading\": {\n        functionalArea: \"Functional Area\",\n        actions: 'Action'\n      },\n      \"oneTableObjects\": {\n        deleteMethod: 'delete',\n        apiLink: '/api/functionalareamaster/',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/project-master-data/oneField',\n        editUrl1: '/project-master-data'\n      },\n      \"fields\": {\n        placeholder: \"Enter functional area type..\",\n        title: \"Functional Area\",\n        secondtitle: \"Industry\",\n        attributeName: \"FunctionalArea\",\n        secondAttributeId: \"industry_id\",\n        secondAttributeName: \"industry\"\n      },\n      \"tableHeading\": {\n        functionalArea: \"FunctionalArea\",\n        FunctionalArea: \"FunctionalArea\",\n        actions: 'Action'\n      },\n      \"tableObjects\": {\n        deleteMethod: 'delete',\n        apiLink: '/api/functionalareamaster/',\n        apiLink2: '/api/functionalareamaster/',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/project-master-data'\n      },\n      \"startRange\": 0,\n      \"limitRange\": 10000,\n      \"editId\": '',\n      \"oneeditId\": '',\n      //=========  For Bulk Upload ==============\n      \"fileDetailUrl\": \"/api/functionalareamaster/get/filedetails/\",\n      goodRecordsHeading: {\n        industry: \"Industry\",\n        functionalArea: \"Functional Area\"\n      },\n      failedtableHeading: {\n        industry: \"Industry\",\n        functionalArea: \"Functional Area\",\n        failedRemark: \"Failed Data Remark\"\n      },\n      oneFieldfileDetailUrl: \"/api/functionalareamaster/get/filedetails/\",\n      oneFieldgoodRecordsHeading: {\n        industry: \"Industry\"\n      },\n      oneFieldfailedtableHeading: {\n        industry: \"Industry\",\n        failedRemark: \"Failed Data Remark\"\n      }\n    };\n  }\n\n  getOneFieldFileDetails(fileName) {\n    axios.get(this.state.oneFieldfileDetailUrl + fileName).then(response => {\n      $('.fullpageloader').hide();\n\n      if (response) {\n        this.setState({\n          oneFieldfileDetails: response.data,\n          oneFieldfailedRecordsCount: response.data.failedRecords.length,\n          oneFieldgoodDataCount: response.data.goodrecords.length\n        });\n        var tableData = response.data.goodrecords.map((a, i) => {\n          return {\n            \"industry\": a.industry ? a.industry : '-'\n          };\n        });\n        var oneFieldfailedRecordsTable = response.data.failedRecords.map((a, i) => {\n          return {\n            \"industry\": a.industry ? a.industry : '-',\n            \"failedRemark\": a.failedRemark ? a.failedRemark : '-'\n          };\n        });\n        this.setState({\n          oneFieldgoodRecordsTable: tableData,\n          oneFieldfailedRecordsTable: oneFieldfailedRecordsTable\n        });\n      }\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getTwoFieldFileDetails(fileName) {\n    axios.get(this.state.fileDetailUrl + fileName).then(response => {\n      console.log('response====', response);\n      $('.fullpageloader').hide();\n\n      if (response) {\n        this.setState({\n          fileDetails: response.data,\n          failedRecordsCount: response.data.failedRecords.length,\n          goodDataCount: response.data.goodrecords.length\n        });\n        var tableData = response.data.goodrecords.map((a, i) => {\n          console.log('a', a);\n          return {\n            \"industry\": a.industry ? a.industry : '-',\n            \"functionalArea\": a.functionalArea ? a.functionalArea : '-'\n          };\n        });\n        var failedRecordsTable = response.data.failedRecords.map((a, i) => {\n          console.log('a failedRecordsTable', a);\n          return {\n            \"industry\": a.industry ? a.industry : '-',\n            \"functionalArea\": a.functionalArea ? a.functionalArea : '-',\n            \"failedRemark\": a.failedRemark ? a.failedRemark : '-'\n          };\n        });\n        this.setState({\n          goodRecordsTable: tableData,\n          failedRecordsTable: failedRecordsTable\n        }, () => {\n          console.log('goodRecordsTable', this.state.goodRecordsTable);\n          console.log('failedRecordsTable', this.state.failedRecordsTable);\n        });\n      }\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TwoFieldForm, {\n      fields: this.state.fields,\n      tableHeading: this.state.tableHeading,\n      tableObjects: this.state.tableObjects,\n      editId: this.props.editId,\n      oneFields: this.state.oneFields,\n      oneTableHeading: this.state.oneTableHeading,\n      oneTableObjects: this.state.oneTableObjects,\n      oneeditId: this.props.oneFieldEditId,\n      history: this.props.history,\n      bulkRequired: true,\n      onefieldurl: \"/api/industrymaster/bulkUploadbrand\",\n      onefieldfileurl: \"https://fivebees.s3.ap-south-1.amazonaws.com/prod/master/VehicleBrand.xlsx\",\n      getOneFieldFileDetails: this.getOneFieldFileDetails.bind(this),\n      oneFieldgoodRecordsHeading: this.state.oneFieldgoodRecordsHeading,\n      oneFieldfailedtableHeading: this.state.oneFieldfailedtableHeading,\n      oneFieldfileDetails: this.state.oneFieldfileDetails,\n      oneFielduploadedData: this.oneFielduploadedData,\n      oneFieldfailedRecordsTable: this.state.oneFieldfailedRecordsTable,\n      oneFieldfailedRecordsCount: this.state.oneFieldfailedRecordsCount,\n      oneFieldgoodRecordsTable: this.state.oneFieldgoodRecordsTable,\n      oneFieldgoodDataCount: this.state.oneFieldgoodDataCount,\n      twofieldBulkRequired: true,\n      url: \"/api/functionalareamaster/bulkUploadFunctionalArea\",\n      twofieldfileurl: \"https://fivebees.s3.ap-south-1.amazonaws.com/prod/master/VehicleFunctionalArea.xlsx\",\n      getTwoFieldFileDetails: this.getTwoFieldFileDetails.bind(this),\n      goodRecordsHeading: this.state.goodRecordsHeading,\n      failedtableHeading: this.state.failedtableHeading,\n      fileDetails: this.state.fileDetails,\n      data: {\n        \"createdBy\": localStorage.getItem(\"user_ID\")\n      },\n      uploadedData: this.uploadedData,\n      failedRecordsTable: this.state.failedRecordsTable,\n      failedRecordsCount: this.state.failedRecordsCount,\n      goodRecordsTable: this.state.goodRecordsTable,\n      goodDataCount: this.state.goodDataCount,\n      masterFieldForm: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default FunctionalArea;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/jobportaladmin/FunctionalArea/FunctionalArea.js"],"names":["React","Component","render","axios","$","jQuery","TwoFieldForm","FunctionalArea","constructor","props","state","placeholder","title","attributeName","functionalArea","actions","deleteMethod","apiLink","paginationApply","searchApply","editUrl","editUrl1","secondtitle","secondAttributeId","secondAttributeName","apiLink2","goodRecordsHeading","industry","failedtableHeading","failedRemark","oneFieldfileDetailUrl","oneFieldgoodRecordsHeading","oneFieldfailedtableHeading","getOneFieldFileDetails","fileName","get","then","response","hide","setState","oneFieldfileDetails","data","oneFieldfailedRecordsCount","failedRecords","length","oneFieldgoodDataCount","goodrecords","tableData","map","a","i","oneFieldfailedRecordsTable","oneFieldgoodRecordsTable","catch","error","console","log","getTwoFieldFileDetails","fileDetailUrl","fileDetails","failedRecordsCount","goodDataCount","failedRecordsTable","goodRecordsTable","fields","tableHeading","tableObjects","editId","oneFields","oneTableHeading","oneTableObjects","oneFieldEditId","history","bind","oneFielduploadedData","localStorage","getItem","uploadedData"],"mappings":"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","sourcesContent":["import React, { Component }     from 'react';\nimport { render }               from 'react-dom';\nimport axios                    from 'axios';\nimport $                        from 'jquery';\nimport jQuery                   from 'jquery';\nimport TwoFieldForm             from '../../coreadmin/Master/TwoFieldForm/TwoFieldForm.js';\nimport 'bootstrap/js/tab.js';\n \nclass FunctionalArea extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \"locationType\": \"\",\n\n            \"oneFields\"         : {\n                placeholder     : \"Add industry & press 'Enter' Key\",\n                title           : \"Industry \",\n                attributeName   : \"industry\"\n            },\n            \"oneTableHeading\"   : {\n                functionalArea  : \"Functional Area\",\n                actions         : 'Action',\n            },\n            \"oneTableObjects\"   : {\n                  deleteMethod  : 'delete',\n                  apiLink       : '/api/functionalareamaster/',\n                  paginationApply: false,\n                  searchApply   : false,\n                  editUrl       : '/project-master-data/oneField',\n                  editUrl1      : '/project-master-data'\n            },\n\n            \"fields\"            : {\n                placeholder          : \"Enter functional area type..\",\n                title                : \"Functional Area\",\n                secondtitle          : \"Industry\",\n                attributeName        : \"FunctionalArea\",\n                secondAttributeId    : \"industry_id\",\n                secondAttributeName  : \"industry\"\n            },\n            \"tableHeading\"      : {\n                functionalArea   : \"FunctionalArea\",\n                FunctionalArea       : \"FunctionalArea\",\n                actions     : 'Action',\n            },\n            \"tableObjects\"      : {\n                deleteMethod    : 'delete',\n                apiLink         :'/api/functionalareamaster/',\n                apiLink2        :'/api/functionalareamaster/',\n                paginationApply : false,\n                searchApply     : false,\n                editUrl         : '/project-master-data'\n            },\n            \"startRange\"        : 0,\n            \"limitRange\"        : 10000,\n            \"editId\"            : '',\n            \"oneeditId\"         : '',\n\n            //=========  For Bulk Upload ==============\n\n            \"fileDetailUrl\"      : \"/api/functionalareamaster/get/filedetails/\",\n            goodRecordsHeading   : {\n                industry        : \"Industry\",\n                functionalArea            : \"Functional Area\",\n            },\n            failedtableHeading   :{\n                industry            : \"Industry\",\n                functionalArea            : \"Functional Area\", \n                failedRemark     : \"Failed Data Remark\"\n            },\n            oneFieldfileDetailUrl      : \"/api/functionalareamaster/get/filedetails/\",\n            oneFieldgoodRecordsHeading :{\n                industry                       : \"Industry\",\n            },\n            oneFieldfailedtableHeading   :{\n                industry                 : \"Industry\",\n                failedRemark          :  \"Failed Data Remark\"\n            },\n\n\n\n        };\n    }\n\n    getOneFieldFileDetails(fileName){\n         axios\n          .get(this.state.oneFieldfileDetailUrl+fileName)\n          .then((response)=> {\n          $('.fullpageloader').hide();  \n          if (response) {\n            this.setState({\n                oneFieldfileDetails         : response.data,\n                oneFieldfailedRecordsCount  : response.data.failedRecords.length,\n                oneFieldgoodDataCount       : response.data.goodrecords.length\n            });\n\n              var tableData = response.data.goodrecords.map((a, i)=>{\n                return{\n                    \n                    \"industry\"   : a.industry          ? a.industry         : '-',\n                }\n              })\n\n              var oneFieldfailedRecordsTable = response.data.failedRecords.map((a, i)=>{\n              return{\n                    \n                    \"industry\"         : a.industry          ? a.industry         : '-',\n                    \"failedRemark\"  : a.failedRemark     ? a.failedRemark : '-' \n              }\n              })\n              \n            this.setState({\n                oneFieldgoodRecordsTable    : tableData,\n                oneFieldfailedRecordsTable  : oneFieldfailedRecordsTable\n            })\n          }\n          })\n          .catch((error)=> { \n            console.log('error', error);\n          }) \n    }\n    getTwoFieldFileDetails(fileName){\n        axios\n        .get(this.state.fileDetailUrl+fileName)\n        .then((response)=> {\n            console.log('response====',response);\n            $('.fullpageloader').hide();  \n            if (response) {\n                this.setState({\n                    fileDetails         : response.data,\n                    failedRecordsCount  : response.data.failedRecords.length,\n                    goodDataCount       : response.data.goodrecords.length\n                });\n                var tableData = response.data.goodrecords.map((a, i)=>{\n                    console.log('a',a);\n                    return{\n                        \"industry\"    : a.industry          ? a.industry         : '-',\n                        \"functionalArea\"        : a.functionalArea            ? a.functionalArea           : '-',\n                    }\n                })\n                var failedRecordsTable = response.data.failedRecords.map((a, i)=>{\n                    console.log('a failedRecordsTable',a);\n                    return{\n                        \"industry\"         : a.industry          ? a.industry         : '-',\n                        \"functionalArea\"         : a.functionalArea            ? a.functionalArea           : '-',\n                        \"failedRemark\"  : a.failedRemark     ? a.failedRemark    : '-' \n                    }\n                })\n                this.setState({\n                    goodRecordsTable    : tableData,\n                    failedRecordsTable  : failedRecordsTable\n                },()=>{\n                    console.log('goodRecordsTable',this.state.goodRecordsTable);\n                    console.log('failedRecordsTable',this.state.failedRecordsTable);\n                })\n            }\n        })\n        .catch((error)=> { \n            console.log('error', error);\n        }) \n    }\n\n    render() {\n        return (\n            <div className=\"container-fluid\">\n                <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\">\n                    <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n                        <TwoFieldForm   fields={this.state.fields}\n                                        tableHeading={this.state.tableHeading}\n                                        tableObjects={this.state.tableObjects}\n                                        editId ={this.props.editId}                                                       \n                                        oneFields={this.state.oneFields}\n                                        oneTableHeading={this.state.oneTableHeading}\n                                        oneTableObjects={this.state.oneTableObjects}\n                                        oneeditId ={this.props.oneFieldEditId}\n                                        history={this.props.history}   \n                                        \n                                        bulkRequired={true}\n                                        onefieldurl=\"/api/industrymaster/bulkUploadbrand\" \n                                        onefieldfileurl=\"https://fivebees.s3.ap-south-1.amazonaws.com/prod/master/VehicleBrand.xlsx\"\n                                        getOneFieldFileDetails={this.getOneFieldFileDetails.bind(this)}\n                                        oneFieldgoodRecordsHeading ={this.state.oneFieldgoodRecordsHeading}\n                                        oneFieldfailedtableHeading={this.state.oneFieldfailedtableHeading}\n                                        oneFieldfileDetails={this.state.oneFieldfileDetails}\n\n                                        oneFielduploadedData={this.oneFielduploadedData} \n                                        oneFieldfailedRecordsTable ={this.state.oneFieldfailedRecordsTable}\n                                        oneFieldfailedRecordsCount={this.state.oneFieldfailedRecordsCount}\n                                        oneFieldgoodRecordsTable={this.state.oneFieldgoodRecordsTable}\n                                        oneFieldgoodDataCount={this.state.oneFieldgoodDataCount}\n\n                                        twofieldBulkRequired={true}\n                                        url=\"/api/functionalareamaster/bulkUploadFunctionalArea\" \n                                        twofieldfileurl=\"https://fivebees.s3.ap-south-1.amazonaws.com/prod/master/VehicleFunctionalArea.xlsx\"\n                                        getTwoFieldFileDetails={this.getTwoFieldFileDetails.bind(this)}\n                                        goodRecordsHeading ={this.state.goodRecordsHeading}\n                                        failedtableHeading={this.state.failedtableHeading}\n                                        fileDetails={this.state.fileDetails}\n                                        \n                                        data={{\"createdBy\" : localStorage.getItem(\"user_ID\") }} \n                                        uploadedData={this.uploadedData} \n\n                                        failedRecordsTable ={this.state.failedRecordsTable}\n                                        failedRecordsCount={this.state.failedRecordsCount}\n                                        goodRecordsTable={this.state.goodRecordsTable}\n                                        goodDataCount={this.state.goodDataCount}\n                                        masterFieldForm = {true}\n                        />\n                    </div>                                                 \n                </div> \n            </div>\n        );\n    }\n}\nexport default FunctionalArea;\n\n"]},"metadata":{},"sourceType":"module"}