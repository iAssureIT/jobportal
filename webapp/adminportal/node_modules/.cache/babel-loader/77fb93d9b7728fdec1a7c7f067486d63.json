{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/systemSecurity/Login.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter, Route, Switch, Link, location } from 'react-router-dom';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './SignUp.css';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport jQuery from 'jquery';\nimport 'jquery-validation';\nimport swal from 'sweetalert';\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      btnLoading: false,\n      loggedIn: false,\n      auth: {\n        email: '',\n        pwd: ''\n      },\n      messageData: {\n        \"type\": \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    $.validator.addMethod(\"regxemail\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter a valid email address.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#login\").validate({\n      rules: {\n        loginusername: {\n          required: true,\n          regxemail: /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/\n        },\n        loginpassword: {\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"loginusername\") {\n          error.insertAfter(\"#loginusername\"); // $(\"#eye\").removeClass(\"showHideSignDiv1\");\n          // $(\"#eye\").addClass(\"showHideSignDiv\");\n        }\n\n        if (element.attr(\"name\") === \"loginpassword\") {\n          error.insertAfter(\"#loginpassword1\"); // $(\"#eye\").removeClass(\"showHideSignDiv\");\n          // $(\"#eye\").addClass(\"showHideSignDiv1\");\n        }\n      }\n    });\n  } // userlogin(event) {\n  //   event.preventDefault();\n  //   var auth = {\n  //     email: this.refs.loginusername.value,\n  //     password: this.refs.loginpassword.value,\n  //     role: \"admin\"\n  //   }\n  //   if ($(\"#login\").valid()) {\n  //     // document.getElementById(\"logInBtn\").value = 'Please Wait...';\n  //     document.getElementById(\"logInBtn\").value = this.setState({ btnLoading: true });\n  //     axios.post('/api/auth/post/login', auth)\n  //     .then((response) => {\n  //       console.log(\"response\",response)\n  //         this.props.setGlobalUser(response.data.userDetails);\n  //         if (response.data.ID) {\n  //           var  userDetails = {\n  //             firstName : response.data.userDetails.firstName, \n  //             lastName  : response.data.userDetails.lastName, \n  //             email     : response.data.userDetails.email, \n  //             phone     : response.data.userDetails.phone, \n  //             city      : response.data.userDetails.city,\n  //             companyID : parseInt(response.data.userDetails.companyID),\n  //             locationID: response.data.userDetails.locationID,\n  //             user_id   : response.data.userDetails.user_id,\n  //             roles     : response.data.userDetails.roles,\n  //             token     : response.data.userDetails.token, \n  //           }\n  //           document.getElementById(\"logInBtn\").value = 'Sign In';\n  //           localStorage.setItem(\"token\", response.data.token);\n  //           localStorage.setItem(\"user_ID\", response.data.ID);\n  //           localStorage.setItem(\"roles\", response.data.roles);\n  //           localStorage.setItem('userDetails', JSON.stringify(userDetails));\n  //           this.setState({\n  //             loggedIn: true\n  //           },()=>{\n  //             this.props.history.push('/dashboard')\n  //             window.location.reload();\n  //           })\n  //         }else if(response.data.message === \"USER_BLOCK\"){\n  //           swal({\n  //             text : \"You are blocked by admin. Please contact Admin.\"\n  //           });\n  //           document.getElementById(\"logInBtn\").value = 'Sign In';\n  //         }else if(response.data.message === \"NOT_REGISTER\"){\n  //           swal({\n  //             text : \"This Email ID is not registered. Please try again.\"\n  //           });\n  //           document.getElementById(\"logInBtn\").value = 'Sign In';\n  //         }else if(response.data.message === \"INVALID_PASSWORD\"){\n  //           swal({\n  //             text : \"You have entered wrong password. Please try again.\"\n  //           });\n  //           document.getElementById(\"logInBtn\").value = 'Sign In';\n  //         }else if(response.data.message === \"USER_UNVERIFIED\"){\n  //           swal({\n  //             text : \"You have not verified your account. Please verify your account.\"\n  //           })\n  //           .then((value)=>{\n  //             var emailText = {\n  //               \"emailSubject\"\t: \"Email Verification\", \n  //               \"emailContent\"  : \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\",\n  //             }\n  //             axios.patch('/api/auth/patch/setsendemailotpusingEmail/'+this.refs.loginusername.value, emailText)\n  //             .then((response)=>{\n  //               swal(\"We send you a Verification Code to your registered email. Please verify your account.\");\n  //               this.props.history.push(\"/confirm-otp/\" + response.data.userID);\n  //             })\n  //             .catch((error)=>{\n  //               swal(\" Failed to sent OTP\");\n  //             })    \n  //           });\n  //           // document.getElementById(\"logInBtn\").value = 'Sign In';\n  //           this.setState({ btnLoading: false });\n  //         }\n  //     })\n  //     .catch((error) => {\n  //       console.log(\"error\",error);\n  //        swal({\n  //             text : \"Please enter valid Email ID and Password\"\n  //           })\n  //       // document.getElementById(\"logInBtn\").value = 'Sign In';\n  //       // if (localStorage !== null) {\n  //       // }\n  //       this.setState({ btnLoading: false });\n  //     });\n  //   }\n  // }\n\n\n  userlogin(event) {\n    event.preventDefault();\n    var auth = {\n      email: this.refs.loginusername.value,\n      password: this.refs.loginpassword.value,\n      role: \"admin\"\n    };\n\n    if ($(\"#login\").valid()) {\n      // document.getElementById(\"logInBtn\").value = 'Please Wait...';\n      document.getElementById(\"logInBtn\").value = this.setState({\n        btnLoading: true\n      });\n      axios.post('/api/auth/post/login', auth).then(response => {\n        console.log(\"response login\", response);\n\n        if (response.data.ID) {\n          this.setState({\n            btnLoading: false\n          });\n          var userDetails = {\n            firstName: response.data.userDetails.firstName,\n            lastName: response.data.userDetails.lastName,\n            email: response.data.userDetails.email,\n            phone: response.data.userDetails.phone,\n            companyID: parseInt(response.data.userDetails.companyID),\n            pincode: response.data.userDetails.pincode,\n            user_id: response.data.userDetails.user_id,\n            roles: response.data.userDetails.roles,\n            token: response.data.userDetails.token\n          };\n          document.getElementById(\"logInBtn\").value = 'Sign In';\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"user_ID\", response.data.ID);\n          localStorage.setItem(\"roles\", response.data.roles);\n          localStorage.setItem(\"companyID\", response.data.userDetails.companyID);\n          localStorage.setItem('userDetails', JSON.stringify(userDetails));\n          localStorage.setItem('corporateUrl', 'http://qafivebeescorporate.iassureit.com');\n          localStorage.setItem('vendorUrl', 'http://qafivebeesvendor.iassureit.com');\n          this.setState({\n            loggedIn: true\n          }, () => {\n            this.props.history.push('/dashboard');\n            window.location.reload();\n          });\n        } else if (response.data.message === \"USER_BLOCK\") {\n          swal({\n            text: \"You are blocked by admin. Please contact Admin.\"\n          });\n          document.getElementById(\"logInBtn\").value = 'Sign In';\n        } else if (response.data.message === \"NOT_REGISTER\") {\n          swal({\n            text: \"This Email ID is not registered. Please try again.\"\n          });\n          document.getElementById(\"logInBtn\").value = 'Sign In';\n        } else if (response.data.message === \"INVALID_PASSWORD\") {\n          swal({\n            text: \"You have entered wrong password. Please try again.\"\n          });\n          document.getElementById(\"logInBtn\").value = 'Sign In';\n        } else if (response.data.message === \"USER_UNVERIFIED\") {\n          swal({\n            text: \"You have not verified your account. Please verify your account.\"\n          }).then(value => {\n            var emailText = {\n              \"emailSubject\": \"Email Verification\",\n              \"emailContent\": \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\"\n            };\n            axios.patch('/api/auth/patch/setsendemailotpusingEmail/' + this.refs.loginusername.value, emailText).then(response => {\n              swal(\"We send you a Verification Code to your registered email. Please verify your account.\");\n              this.props.history.push(\"/confirm-otp/\" + response.data.userID);\n            }).catch(error => {\n              swal(\" Failed to sent OTP\");\n            });\n          });\n          document.getElementById(\"logInBtn\").value = 'Sign In';\n        }\n      }).catch(error => {\n        console.log(\"error\", error);\n        swal({\n          text: \"Please enter valid Email ID and Password\"\n        });\n        this.setState({\n          btnLoading: false\n        }); // document.getElementById(\"logInBtn\").value = 'Sign In';\n        // if (localStorage !== null) {\n        // }\n      });\n    }\n  }\n\n  showSignPass() {\n    $('.showPwd').toggleClass('showPwd1');\n    $('.hidePwd').toggleClass('hidePwd1');\n    return $('#loginpassword').attr('type', 'text');\n  }\n\n  hideSignPass() {\n    $('.showPwd').toggleClass('showPwd1');\n    $('.hidePwd').toggleClass('hidePwd1');\n    return $('#loginpassword').attr('type', 'password');\n  }\n\n  Closepagealert(event) {\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        'height': window.innerHeight + 'px',\n        'width': window.innerWidth + 'px'\n      },\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 LoginWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-12 col-xs-12 formShadow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }\n    }, \"Sign In\")), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"login\",\n      onSubmit: this.userlogin.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group textAlignLeft col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding mt25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 19\n      }\n    }, \"Email ID\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"astricsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 42\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      onChange: this.handleChange,\n      ref: \"loginusername\",\n      id: \"loginusername\",\n      name: \"loginusername\",\n      placeholder: \"Email ID\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"textAlignLeft col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding mb25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"astricsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 42\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      ref: \"loginpassword\",\n      name: \"loginpassword\",\n      id: \"loginpassword\",\n      placeholder: \"Password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"showHideSignDiv\",\n      id: \"eye\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-eye showPwd showEyeupSign\",\n      \"aria-hidden\": \"true\",\n      onClick: this.showSignPass.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-eye-slash hidePwd hideEyeSignup \",\n      \"aria-hidden\": \"true\",\n      onClick: this.hideSignPass.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"blank\",\n      id: \"loginpassword1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 19\n      }\n    })), this.state.btnLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-lg-offset-4 col-md-10 col-md-offset-1 col-sm-12 col-xs-12 NOpaddingRight \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      className: \"cssload-fond\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-container-general\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-internal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-ballcolor cssload-ball_1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 59\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-internal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-ballcolor cssload-ball_2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 59\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-internal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-ballcolor cssload-ball_3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 59\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-internal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cssload-ballcolor cssload-ball_4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 59\n      }\n    }, \"\\xA0\"))))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-10 col-lg-offset-1 col-md-6 col-md-offset-3 col-sm-12 col-xs-12 NOpaddingRight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"logInBtn\",\n      type: \"submit\",\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 btn loginBtn\",\n      value: \"Sign In\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt30 mb25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12 mt10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row loginforgotpass\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/forgotpassword\",\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 25\n      }\n    }, \"Forgot Password?\"))), process.env.REACT_APP_USERID ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 sampleTable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive col-lg-12 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      style: {\n        \"background\": \"#367EA8\",\n        \"color\": \"#fff\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 29\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 29\n      }\n    }, \"Password\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 29\n      }\n    }, process.env.REACT_APP_USERID), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 29\n      }\n    }, process.env.REACT_APP_PWD)))))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-8 col-sm-12 col-xs-12 mt10 textAlignRight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 21\n      }\n    }))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(\"state = \", state);\n  return {\n    userDetails: state.userDetails\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setGlobalUser: userDetails => dispatch({\n      type: \"SET_GLOBAL_USER\",\n      userDetails: userDetails\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login); // import React, { Component } from 'react';\n// import { connect }        from 'react-redux';\n// import { BrowserRouter, Route, Switch,Link,location } from 'react-router-dom';\n// import 'font-awesome/css/font-awesome.min.css';\n// import 'bootstrap/dist/css/bootstrap.min.css';\n// import './SignUp.css';\n// import $ from 'jquery';\n// import axios from 'axios';\n// import jQuery from 'jquery';\n// import 'jquery-validation';\n// import swal from 'sweetalert';\n// class Login extends Component {\n//   constructor() {\n//     super();\n//     this.state = {\n//       loggedIn: false,\n//       auth: {\n//         email: '',\n//         pwd: '',\n//       },\n//       messageData: {\n//         \"type\": \"\",\n//       }\n//     }\n//   }\n//   componentDidMount() {\n//     $.validator.addMethod(\"regxemail\", function (value, element, regexpr) {\n//       return regexpr.test(value);\n//     }, \"Please enter a valid email address.\");\n//     jQuery.validator.setDefaults({\n//       debug: true,\n//       success: \"valid\"\n//     });\n//     $(\"#login\").validate({\n//       rules: {\n//         loginusername: {\n//           required: true,\n//           regxemail : /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/\n//         },\n//         loginpassword: {\n//           required: true\n//         }\n//       },\n//       errorPlacement: function (error, element) {\n//         if (element.attr(\"name\") === \"loginusername\") {\n//           error.insertAfter(\"#loginusername\");\n//         }\n//         if (element.attr(\"name\") === \"loginpassword\") {\n//           error.insertAfter(\"#loginpassword\");\n//         }\n//       }\n//     });\n//   }\n//   userlogin(event) {\n//     event.preventDefault();\n//     var auth = {\n//       email: this.refs.loginusername.value,\n//       password: this.refs.loginpassword.value,\n//       role: \"admin\"\n//     }\n//     if ($(\"#login\").valid()) {\n//       document.getElementById(\"logInBtn\").value = 'Please Wait...';\n//       axios.post('/api/auth/post/login', auth)\n//       .then((response) => {\n//         console.log(\"response\",response)\n//           this.props.setGlobalUser(response.data.userDetails);\n//           if (response.data.ID) {\n//             var  userDetails = {\n//               firstName : response.data.userDetails.firstName, \n//               lastName  : response.data.userDetails.lastName, \n//               email     : response.data.userDetails.email, \n//               phone     : response.data.userDetails.phone, \n//               city      : response.data.userDetails.city,\n//               companyID : parseInt(response.data.userDetails.companyID),\n//               locationID: response.data.userDetails.locationID,\n//               user_id   : response.data.userDetails.user_id,\n//               roles     : response.data.userDetails.roles,\n//               token     : response.data.userDetails.token, \n//             }\n//             document.getElementById(\"logInBtn\").value = 'Sign In';\n//             localStorage.setItem(\"token\", response.data.token);\n//             localStorage.setItem(\"user_ID\", response.data.ID);\n//             localStorage.setItem(\"roles\", response.data.roles);\n//             localStorage.setItem('userDetails', JSON.stringify(userDetails));\n//             this.setState({\n//               loggedIn: true\n//             },()=>{\n//               this.props.history.push('/dashboard')\n//               window.location.reload();\n//             })\n//           }else if(response.data.message === \"USER_BLOCK\"){\n//             swal({\n//               text : \"You are blocked by admin. Please contact Admin.\"\n//             });\n//             document.getElementById(\"logInBtn\").value = 'Sign In';\n//           }else if(response.data.message === \"NOT_REGISTER\"){\n//             swal({\n//               text : \"This Email ID is not registered. Please try again.\"\n//             });\n//             document.getElementById(\"logInBtn\").value = 'Sign In';\n//           }else if(response.data.message === \"INVALID_PASSWORD\"){\n//             swal({\n//               text : \"You have entered wrong password. Please try again.\"\n//             });\n//             document.getElementById(\"logInBtn\").value = 'Sign In';\n//           }else if(response.data.message === \"USER_UNVERIFIED\"){\n//             swal({\n//               text : \"You have not verified your account. Please verify your account.\"\n//             })\n//             .then((value)=>{\n//               var emailText = {\n//                 \"emailSubject\"\t: \"Email Verification\", \n//                 \"emailContent\"  : \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\",\n//               }\n//               axios.patch('/api/auth/patch/setsendemailotpusingEmail/'+this.refs.loginusername.value, emailText)\n//               .then((response)=>{\n//                 swal(\"We send you a Verification Code to your registered email. Please verify your account.\");\n//                 this.props.history.push(\"/confirm-otp/\" + response.data.userID);\n//               })\n//               .catch((error)=>{\n//                 swal(\" Failed to sent OTP\");\n//               })    \n//             });\n//             document.getElementById(\"logInBtn\").value = 'Sign In';\n//           }\n//       })\n//       .catch((error) => {\n//         console.log(\"error\",error);\n//          swal({\n//               text : \"Please enter valid Email ID and Password\"\n//             })\n//         document.getElementById(\"logInBtn\").value = 'Sign In';\n//         if (localStorage !== null) {\n//         }\n//       });\n//     }\n//   }\n//   showSignPass() {\n//     $('.showPwd').toggleClass('showPwd1');\n//     $('.hidePwd').toggleClass('hidePwd1');\n//     return $('#loginpassword').attr('type', 'text');\n//   }\n//   hideSignPass() {\n//     $('.showPwd').toggleClass('showPwd1');\n//     $('.hidePwd').toggleClass('hidePwd1');\n//     return $('#loginpassword').attr('type', 'password');\n//   }\n//   Closepagealert(event) {\n//     event.preventDefault();\n//     $(\".toast-error\").html('');\n//     $(\".toast-success\").html('');\n//     $(\".toast-info\").html('');\n//     $(\".toast-warning\").html('');\n//     $(\".toast-error\").removeClass('toast');\n//     $(\".toast-success\").removeClass('toast');\n//     $(\".toast-info\").removeClass('toast');\n//     $(\".toast-warning\").removeClass('toast');\n//   }\n//   render() {\n//     return (\n//       <div style={{'height': window.innerHeight+'px', 'width': window.innerWidth+'px'}} className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 LoginWrapper\">\n//         <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\">\n//         </div>\n//         <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//           <div className=\"col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-12 col-xs-12 formShadow\">\n//             <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xs-12\">\n//               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\">\n//                 <h3>Sign In</h3>\n//               </div>\n//               <form id=\"login\" onSubmit={this.userlogin.bind(this)}>\n//                 <div className=\"form-group textAlignLeft col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding mt25\">\n//                   <label>Email ID</label><label className=\"astricsign\">*</label>\n//                   <input type=\"email\" className=\"form-control\" onChange={this.handleChange} ref=\"loginusername\" id=\"loginusername\" name=\"loginusername\" placeholder=\"Email ID\" required />\n//                 </div>\n//                 <div className=\"textAlignLeft col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding mb25\">\n//                   <label>Password</label><label className=\"astricsign\">*</label>\n//                   <input type=\"password\" className=\"form-control\" ref=\"loginpassword\" name=\"loginpassword\" id=\"loginpassword\" placeholder=\"Password\" required />\n//                   <div className=\"showHideSignDiv\">\n//                     <i className=\"fa fa-eye showPwd showEyeupSign\" aria-hidden=\"true\" onClick={this.showSignPass.bind(this)}></i>\n//                     <i className=\"fa fa-eye-slash hidePwd hideEyeSignup \" aria-hidden=\"true\" onClick={this.hideSignPass.bind(this)}></i>\n//                   </div>\n//                 </div>\n//                 <div className=\"col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-12 col-xs-12 NOpaddingRight\">\n//                   <input id=\"logInBtn\" type=\"submit\" className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 btn loginBtn\" value=\"Sign In\" />\n//                 </div>\n//                 <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt30 mb25\">\n//                   <div className=\"row\">\n//                     <div className=\"textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12 mt10\">\n//                       <div className=\"row loginforgotpass\">\n//                         <a href='/forgotpassword' className=\"\">Forgot Password?</a>\n//                       </div>\n//                     </div>\n//                     <div className=\"col-lg-8 col-md-8 col-sm-12 col-xs-12 mt10 textAlignRight\">\n//                       {/* <div className=\"row loginforgotpass\">\n//                         <a href='/signup' className=\"\">Sign Up</a>\n//                       </div> */}\n//                     </div>\n//                   </div>\n//                 </div>\n//               </form>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n// const mapStateToProps = (state)=>{\n//   console.log(\"state = \",state)\n//   return {\n//     userDetails   : state.userDetails,\n//   }\n// };\n// const mapDispatchToProps = (dispatch)=>{\n//   return {\n//       setGlobalUser  : (userDetails)=> dispatch({\n//                           type      : \"SET_GLOBAL_USER\",\n//                           userDetails : userDetails,\n//                         }),\n//   }\n// };\n// export default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/systemSecurity/Login.js"],"names":["React","Component","connect","BrowserRouter","Route","Switch","Link","location","$","axios","jQuery","swal","Login","constructor","state","btnLoading","loggedIn","auth","email","pwd","messageData","componentDidMount","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","loginusername","required","regxemail","loginpassword","errorPlacement","error","attr","insertAfter","userlogin","event","preventDefault","refs","password","role","valid","document","getElementById","setState","post","then","response","console","log","data","ID","userDetails","firstName","lastName","phone","companyID","parseInt","pincode","user_id","roles","token","localStorage","setItem","JSON","stringify","props","history","push","window","reload","message","text","emailText","patch","userID","catch","showSignPass","toggleClass","hideSignPass","Closepagealert","html","removeClass","render","innerHeight","innerWidth","bind","handleChange","process","env","REACT_APP_USERID","REACT_APP_PWD","mapStateToProps","mapDispatchToProps","dispatch","setGlobalUser","type"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAA+B,aAA/B;AACA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,MAA/B,EAAsCC,IAAtC,EAA2CC,QAA3C,QAA2D,kBAA3D;AACA,OAAO,uCAAP;AACA,OAAO,sCAAP;AACA,OAAO,cAAP;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,mBAAP;AACA,OAAOC,IAAP,MAAiB,YAAjB;;AAEA,MAAMC,KAAN,SAAoBX,SAApB,CAA8B;AAE5BY,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE,KADD;AAEXC,MAAAA,QAAQ,EAAE,KAFC;AAGXC,MAAAA,IAAI,EAAE;AACJC,QAAAA,KAAK,EAAE,EADH;AAEJC,QAAAA,GAAG,EAAE;AAFD,OAHK;AAOXC,MAAAA,WAAW,EAAE;AACX,gBAAQ;AADG;AAPF,KAAb;AAWD;;AACDC,EAAAA,iBAAiB,GAAG;AAElBb,IAAAA,CAAC,CAACc,SAAF,CAAYC,SAAZ,CAAsB,WAAtB,EAAmC,UAAUC,KAAV,EAAiBC,OAAjB,EAA0BC,OAA1B,EAAmC;AACpE,aAAOA,OAAO,CAACC,IAAR,CAAaH,KAAb,CAAP;AACD,KAFD,EAEG,qCAFH;AAIAd,IAAAA,MAAM,CAACY,SAAP,CAAiBM,WAAjB,CAA6B;AAC3BC,MAAAA,KAAK,EAAE,IADoB;AAE3BC,MAAAA,OAAO,EAAE;AAFkB,KAA7B;AAIAtB,IAAAA,CAAC,CAAC,QAAD,CAAD,CAAYuB,QAAZ,CAAqB;AACnBC,MAAAA,KAAK,EAAE;AACLC,QAAAA,aAAa,EAAE;AACbC,UAAAA,QAAQ,EAAE,IADG;AAEbC,UAAAA,SAAS,EAAG;AAFC,SADV;AAKLC,QAAAA,aAAa,EAAE;AACbF,UAAAA,QAAQ,EAAE;AADG;AALV,OADY;AAUnBG,MAAAA,cAAc,EAAE,UAAUC,KAAV,EAAiBb,OAAjB,EAA0B;AACxC,YAAIA,OAAO,CAACc,IAAR,CAAa,MAAb,MAAyB,eAA7B,EAA8C;AAC5CD,UAAAA,KAAK,CAACE,WAAN,CAAkB,gBAAlB,EAD4C,CAE5C;AACA;AACD;;AACD,YAAIf,OAAO,CAACc,IAAR,CAAa,MAAb,MAAyB,eAA7B,EAA8C;AAC5CD,UAAAA,KAAK,CAACE,WAAN,CAAkB,iBAAlB,EAD4C,CAE3C;AACA;AACF;AACF;AArBkB,KAArB;AAuBD,GAjD2B,CAkD5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAC,EAAAA,SAAS,CAACC,KAAD,EAAQ;AACbA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAI1B,IAAI,GAAG;AACTC,MAAAA,KAAK,EAAE,KAAK0B,IAAL,CAAUX,aAAV,CAAwBT,KADtB;AAETqB,MAAAA,QAAQ,EAAE,KAAKD,IAAL,CAAUR,aAAV,CAAwBZ,KAFzB;AAGTsB,MAAAA,IAAI,EAAE;AAHG,KAAX;;AAKA,QAAItC,CAAC,CAAC,QAAD,CAAD,CAAYuC,KAAZ,EAAJ,EAAyB;AACvB;AACAC,MAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCzB,KAApC,GACE,KAAK0B,QAAL,CAAc;AAAEnC,QAAAA,UAAU,EAAE;AAAd,OAAd,CADF;AAEAN,MAAAA,KAAK,CAAC0C,IAAN,CAAW,sBAAX,EAAmClC,IAAnC,EACGmC,IADH,CACSC,QAAD,IAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAY,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Ae,GAAIpF,KAAD,IAAS;AAC/BwC,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBzC,KAAvB;AACA,SAAO;AACL4C,IAAAA,WAAW,EAAK5C,KAAK,CAAC4C;AADjB,GAAP;AAGD,CALD;;AAQA,MAAMyC,kBAAkB,GAAIC,QAAD,IAAY;AACrC,SAAO;AACHC,IAAAA,aAAa,EAAK3C,WAAD,IAAgB0C,QAAQ,CAAC;AACtBE,MAAAA,IAAI,EAAQ,iBADU;AAEtB5C,MAAAA,WAAW,EAAGA;AAFQ,KAAD;AADtC,GAAP;AAMD,CAPD;;AAWA,eAAexD,OAAO,CAACgG,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CvF,KAA7C,CAAf,C,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA","sourcesContent":["import React, { Component } from 'react';\nimport { connect }        from 'react-redux';\nimport { BrowserRouter, Route, Switch,Link,location } from 'react-router-dom';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './SignUp.css';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport jQuery from 'jquery';\nimport 'jquery-validation';\nimport swal from 'sweetalert';\n\nclass Login extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      btnLoading: false,\n      loggedIn: false,\n      auth: {\n        email: '',\n        pwd: '',\n      },\n      messageData: {\n        \"type\": \"\",\n      }\n    }\n  }\n  componentDidMount() {\n\n    $.validator.addMethod(\"regxemail\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter a valid email address.\");\n\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#login\").validate({\n      rules: {\n        loginusername: {\n          required: true,\n          regxemail : /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/\n        },\n        loginpassword: {\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"loginusername\") {\n          error.insertAfter(\"#loginusername\");\n          // $(\"#eye\").removeClass(\"showHideSignDiv1\");\n          // $(\"#eye\").addClass(\"showHideSignDiv\");\n        }\n        if (element.attr(\"name\") === \"loginpassword\") {\n          error.insertAfter(\"#loginpassword1\");\n           // $(\"#eye\").removeClass(\"showHideSignDiv\");\n           // $(\"#eye\").addClass(\"showHideSignDiv1\");\n        }\n      }\n    });\n  }\n  // userlogin(event) {\n  //   event.preventDefault();\n  //   var auth = {\n  //     email: this.refs.loginusername.value,\n  //     password: this.refs.loginpassword.value,\n  //     role: \"admin\"\n  //   }\n  //   if ($(\"#login\").valid()) {\n  //     // document.getElementById(\"logInBtn\").value = 'Please Wait...';\n  //     document.getElementById(\"logInBtn\").value = this.setState({ btnLoading: true });\n  //     axios.post('/api/auth/post/login', auth)\n  //     .then((response) => {\n  //       console.log(\"response\",response)\n  //         this.props.setGlobalUser(response.data.userDetails);\n  //         if (response.data.ID) {\n  //           var  userDetails = {\n  //             firstName : response.data.userDetails.firstName, \n  //             lastName  : response.data.userDetails.lastName, \n  //             email     : response.data.userDetails.email, \n  //             phone     : response.data.userDetails.phone, \n  //             city      : response.data.userDetails.city,\n  //             companyID : parseInt(response.data.userDetails.companyID),\n  //             locationID: response.data.userDetails.locationID,\n  //             user_id   : response.data.userDetails.user_id,\n  //             roles     : response.data.userDetails.roles,\n  //             token     : response.data.userDetails.token, \n  //           }\n  //           document.getElementById(\"logInBtn\").value = 'Sign In';\n  //           localStorage.setItem(\"token\", response.data.token);\n  //           localStorage.setItem(\"user_ID\", response.data.ID);\n  //           localStorage.setItem(\"roles\", response.data.roles);\n  //           localStorage.setItem('userDetails', JSON.stringify(userDetails));\n            \n  //           this.setState({\n  //             loggedIn: true\n  //           },()=>{\n  //             this.props.history.push('/dashboard')\n  //             window.location.reload();\n  //           })\n  //         }else if(response.data.message === \"USER_BLOCK\"){\n  //           swal({\n  //             text : \"You are blocked by admin. Please contact Admin.\"\n  //           });\n  //           document.getElementById(\"logInBtn\").value = 'Sign In';\n  //         }else if(response.data.message === \"NOT_REGISTER\"){\n  //           swal({\n  //             text : \"This Email ID is not registered. Please try again.\"\n  //           });\n  //           document.getElementById(\"logInBtn\").value = 'Sign In';\n  //         }else if(response.data.message === \"INVALID_PASSWORD\"){\n  //           swal({\n  //             text : \"You have entered wrong password. Please try again.\"\n  //           });\n  //           document.getElementById(\"logInBtn\").value = 'Sign In';\n  //         }else if(response.data.message === \"USER_UNVERIFIED\"){\n  //           swal({\n  //             text : \"You have not verified your account. Please verify your account.\"\n  //           })\n  //           .then((value)=>{\n  //             var emailText = {\n  //               \"emailSubject\"\t: \"Email Verification\", \n  //               \"emailContent\"  : \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\",\n  //             }\n  //             axios.patch('/api/auth/patch/setsendemailotpusingEmail/'+this.refs.loginusername.value, emailText)\n  //             .then((response)=>{\n  //               swal(\"We send you a Verification Code to your registered email. Please verify your account.\");\n  //               this.props.history.push(\"/confirm-otp/\" + response.data.userID);\n  //             })\n  //             .catch((error)=>{\n  //               swal(\" Failed to sent OTP\");\n  //             })    \n  //           });\n  //           // document.getElementById(\"logInBtn\").value = 'Sign In';\n  //           this.setState({ btnLoading: false });\n  //         }\n  //     })\n  //     .catch((error) => {\n  //       console.log(\"error\",error);\n  //        swal({\n  //             text : \"Please enter valid Email ID and Password\"\n  //           })\n  //       // document.getElementById(\"logInBtn\").value = 'Sign In';\n  //       // if (localStorage !== null) {\n  //       // }\n  //       this.setState({ btnLoading: false });\n  //     });\n  //   }\n  // }\n\n  userlogin(event) {\n      event.preventDefault();\n      var auth = {\n        email: this.refs.loginusername.value,\n        password: this.refs.loginpassword.value,\n        role: \"admin\"\n      }\n      if ($(\"#login\").valid()) {\n        // document.getElementById(\"logInBtn\").value = 'Please Wait...';\n        document.getElementById(\"logInBtn\").value =\n          this.setState({ btnLoading: true });\n        axios.post('/api/auth/post/login', auth)\n          .then((response) => {\n            console.log(\"response login\",response);\n            if (response.data.ID) {\n              this.setState({ btnLoading: false });\n              var userDetails = {\n                firstName: response.data.userDetails.firstName,\n                lastName: response.data.userDetails.lastName,\n                email: response.data.userDetails.email,\n                phone: response.data.userDetails.phone,\n                companyID : parseInt(response.data.userDetails.companyID),\n                pincode: response.data.userDetails.pincode,\n                user_id: response.data.userDetails.user_id,\n                roles: response.data.userDetails.roles,\n                token: response.data.userDetails.token,\n              }\n              document.getElementById(\"logInBtn\").value = 'Sign In';\n              localStorage.setItem(\"token\", response.data.token);\n              localStorage.setItem(\"user_ID\", response.data.ID);\n              localStorage.setItem(\"roles\", response.data.roles);\n              localStorage.setItem(\"companyID\", response.data.userDetails.companyID);\n              localStorage.setItem('userDetails', JSON.stringify(userDetails));\n              localStorage.setItem('corporateUrl', 'http://qafivebeescorporate.iassureit.com');\n              localStorage.setItem('vendorUrl', 'http://qafivebeesvendor.iassureit.com');\n  \n              this.setState({\n                loggedIn: true\n              }, () => {\n                this.props.history.push('/dashboard')\n                window.location.reload();\n              })\n            } else if (response.data.message === \"USER_BLOCK\") {\n              swal({\n                text: \"You are blocked by admin. Please contact Admin.\"\n              });\n              document.getElementById(\"logInBtn\").value = 'Sign In';\n            } else if (response.data.message === \"NOT_REGISTER\") {\n              swal({\n                text: \"This Email ID is not registered. Please try again.\"\n              });\n              document.getElementById(\"logInBtn\").value = 'Sign In';\n            } else if (response.data.message === \"INVALID_PASSWORD\") {\n              swal({\n                text: \"You have entered wrong password. Please try again.\"\n              });\n              document.getElementById(\"logInBtn\").value = 'Sign In';\n            } else if (response.data.message === \"USER_UNVERIFIED\") {\n              swal({\n                text: \"You have not verified your account. Please verify your account.\"\n              })\n                .then((value) => {\n                  var emailText = {\n                    \"emailSubject\": \"Email Verification\",\n                    \"emailContent\": \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\",\n                  }\n                  axios.patch('/api/auth/patch/setsendemailotpusingEmail/' + this.refs.loginusername.value, emailText)\n                    .then((response) => {\n                      swal(\"We send you a Verification Code to your registered email. Please verify your account.\");\n                      this.props.history.push(\"/confirm-otp/\" + response.data.userID);\n                    })\n                    .catch((error) => {\n                      swal(\" Failed to sent OTP\");\n                    })\n                });\n              document.getElementById(\"logInBtn\").value = 'Sign In';\n  \n            }\n          })\n          .catch((error) => {\n            console.log(\"error\", error);\n            swal({\n              text: \"Please enter valid Email ID and Password\"\n            })\n            this.setState({ btnLoading: false });\n            // document.getElementById(\"logInBtn\").value = 'Sign In';\n            // if (localStorage !== null) {\n            // }\n          });\n      }\n    }\n  showSignPass() {\n    $('.showPwd').toggleClass('showPwd1');\n    $('.hidePwd').toggleClass('hidePwd1');\n    return $('#loginpassword').attr('type', 'text');\n  }\n  hideSignPass() {\n    $('.showPwd').toggleClass('showPwd1');\n    $('.hidePwd').toggleClass('hidePwd1');\n    return $('#loginpassword').attr('type', 'password');\n  }\n  Closepagealert(event) {\n    event.preventDefault();\n    $(\".toast-error\").html('');\n    $(\".toast-success\").html('');\n    $(\".toast-info\").html('');\n    $(\".toast-warning\").html('');\n    $(\".toast-error\").removeClass('toast');\n    $(\".toast-success\").removeClass('toast');\n    $(\".toast-info\").removeClass('toast');\n    $(\".toast-warning\").removeClass('toast');\n  }\n  render() {\n    return (\n      <div style={{'height': window.innerHeight+'px', 'width': window.innerWidth+'px'}} className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 LoginWrapper\">\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\">\n        </div>\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n          <div className=\"col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-12 col-xs-12 formShadow\">\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xs-12\">\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\">\n                <h3>Sign In</h3>\n              </div>\n              <form id=\"login\" onSubmit={this.userlogin.bind(this)}>\n                <div className=\"form-group textAlignLeft col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding mt25\">\n                  <label>Email ID</label><label className=\"astricsign\">*</label>\n                  <input type=\"email\" className=\"form-control\" onChange={this.handleChange} ref=\"loginusername\" id=\"loginusername\" name=\"loginusername\" placeholder=\"Email ID\" required />\n                </div>\n                <div className=\"textAlignLeft col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding mb25\">\n                  <label>Password</label><label className=\"astricsign\">*</label>\n                  <input type=\"password\" className=\"form-control\" ref=\"loginpassword\" name=\"loginpassword\" id=\"loginpassword\" placeholder=\"Password\" required />\n                  <div className=\"showHideSignDiv\" id=\"eye\">\n                    <i className=\"fa fa-eye showPwd showEyeupSign\" aria-hidden=\"true\" onClick={this.showSignPass.bind(this)}></i>\n                    <i className=\"fa fa-eye-slash hidePwd hideEyeSignup \" aria-hidden=\"true\" onClick={this.hideSignPass.bind(this)}></i>\n                  </div>\n                  <span className=\"blank\" id=\"loginpassword1\" ></span>\n                  \n                </div>\n                {/* <div className=\"col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-12 col-xs-12 NOpaddingRight\">\n                  <input id=\"logInBtn\" type=\"submit\" className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 btn loginBtn\" value=\"Sign In\" />\n                </div> */}\n                {\n                  this.state.btnLoading\n                  ?\n                  <div className=\"col-lg-3 col-lg-offset-4 col-md-10 col-md-offset-1 col-sm-12 col-xs-12 NOpaddingRight \">\n                  <div align=\"center\" className=\"cssload-fond\">\n                    <div className=\"cssload-container-general\">\n                        <div className=\"cssload-internal\"><div className=\"cssload-ballcolor cssload-ball_1\"> </div></div>\n                        <div className=\"cssload-internal\"><div className=\"cssload-ballcolor cssload-ball_2\"> </div></div>\n                        <div className=\"cssload-internal\"><div className=\"cssload-ballcolor cssload-ball_3\"> </div></div>\n                        <div className=\"cssload-internal\"><div className=\"cssload-ballcolor cssload-ball_4\"> </div></div>\n                    </div>\n                  </div>\n                </div>\n                  :\n                  <div className=\"col-lg-10 col-lg-offset-1 col-md-6 col-md-offset-3 col-sm-12 col-xs-12 NOpaddingRight\">\n                  <input id=\"logInBtn\" type=\"submit\" className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 btn loginBtn\" value=\"Sign In\" />\n                </div>\n                }\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt30 mb25\">\n                  <div className=\"row\">\n                    <div className=\"textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12 mt10\">\n                      <div className=\"row loginforgotpass\">\n                        <a href='/forgotpassword' className=\"\">Forgot Password?</a>\n                      </div>\n                    </div>\n                    {process.env.REACT_APP_USERID ?\n                    <div className=\"col-lg-12 sampleTable\">\n                    <div className=\"table-responsive col-lg-12 col-md-12\">\n                      <table className=\"table table-bordered\">\n                        <thead>\n                          <tr style={{\"background\":\"#367EA8\",\"color\":\"#fff\"}}>\n                            <th>Email</th>\n                            <th>Password</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr>\n                            <td>{process.env.REACT_APP_USERID}</td>\n                            <td>{process.env.REACT_APP_PWD}</td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                    </div>\n                    :\n                    null\n                    }\n\n                    <div className=\"col-lg-8 col-md-8 col-sm-12 col-xs-12 mt10 textAlignRight\">\n                      {/* <div className=\"row loginforgotpass\">\n                        <a href='/signup' className=\"\">Sign Up</a>\n                      </div> */}\n                    </div>\n\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n\n        </div>\n        \n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state)=>{\n  console.log(\"state = \",state)\n  return {\n    userDetails   : state.userDetails,\n  }\n};\n\n\nconst mapDispatchToProps = (dispatch)=>{\n  return {\n      setGlobalUser  : (userDetails)=> dispatch({\n                          type      : \"SET_GLOBAL_USER\",\n                          userDetails : userDetails,\n                        }),\n  }\n};\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n\n\n\n\n// import React, { Component } from 'react';\n// import { connect }        from 'react-redux';\n// import { BrowserRouter, Route, Switch,Link,location } from 'react-router-dom';\n// import 'font-awesome/css/font-awesome.min.css';\n// import 'bootstrap/dist/css/bootstrap.min.css';\n// import './SignUp.css';\n// import $ from 'jquery';\n// import axios from 'axios';\n// import jQuery from 'jquery';\n// import 'jquery-validation';\n// import swal from 'sweetalert';\n\n// class Login extends Component {\n\n//   constructor() {\n//     super();\n//     this.state = {\n//       loggedIn: false,\n//       auth: {\n//         email: '',\n//         pwd: '',\n//       },\n//       messageData: {\n//         \"type\": \"\",\n//       }\n//     }\n//   }\n//   componentDidMount() {\n\n//     $.validator.addMethod(\"regxemail\", function (value, element, regexpr) {\n//       return regexpr.test(value);\n//     }, \"Please enter a valid email address.\");\n\n//     jQuery.validator.setDefaults({\n//       debug: true,\n//       success: \"valid\"\n//     });\n//     $(\"#login\").validate({\n//       rules: {\n//         loginusername: {\n//           required: true,\n//           regxemail : /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/\n//         },\n//         loginpassword: {\n//           required: true\n//         }\n//       },\n//       errorPlacement: function (error, element) {\n//         if (element.attr(\"name\") === \"loginusername\") {\n//           error.insertAfter(\"#loginusername\");\n//         }\n//         if (element.attr(\"name\") === \"loginpassword\") {\n//           error.insertAfter(\"#loginpassword\");\n//         }\n//       }\n//     });\n//   }\n//   userlogin(event) {\n//     event.preventDefault();\n//     var auth = {\n//       email: this.refs.loginusername.value,\n//       password: this.refs.loginpassword.value,\n//       role: \"admin\"\n//     }\n//     if ($(\"#login\").valid()) {\n//       document.getElementById(\"logInBtn\").value = 'Please Wait...';\n//       axios.post('/api/auth/post/login', auth)\n//       .then((response) => {\n//         console.log(\"response\",response)\n//           this.props.setGlobalUser(response.data.userDetails);\n//           if (response.data.ID) {\n//             var  userDetails = {\n//               firstName : response.data.userDetails.firstName, \n//               lastName  : response.data.userDetails.lastName, \n//               email     : response.data.userDetails.email, \n//               phone     : response.data.userDetails.phone, \n//               city      : response.data.userDetails.city,\n//               companyID : parseInt(response.data.userDetails.companyID),\n//               locationID: response.data.userDetails.locationID,\n//               user_id   : response.data.userDetails.user_id,\n//               roles     : response.data.userDetails.roles,\n//               token     : response.data.userDetails.token, \n//             }\n//             document.getElementById(\"logInBtn\").value = 'Sign In';\n//             localStorage.setItem(\"token\", response.data.token);\n//             localStorage.setItem(\"user_ID\", response.data.ID);\n//             localStorage.setItem(\"roles\", response.data.roles);\n//             localStorage.setItem('userDetails', JSON.stringify(userDetails));\n            \n//             this.setState({\n//               loggedIn: true\n//             },()=>{\n//               this.props.history.push('/dashboard')\n//               window.location.reload();\n//             })\n//           }else if(response.data.message === \"USER_BLOCK\"){\n//             swal({\n//               text : \"You are blocked by admin. Please contact Admin.\"\n//             });\n//             document.getElementById(\"logInBtn\").value = 'Sign In';\n//           }else if(response.data.message === \"NOT_REGISTER\"){\n//             swal({\n//               text : \"This Email ID is not registered. Please try again.\"\n//             });\n//             document.getElementById(\"logInBtn\").value = 'Sign In';\n//           }else if(response.data.message === \"INVALID_PASSWORD\"){\n//             swal({\n//               text : \"You have entered wrong password. Please try again.\"\n//             });\n//             document.getElementById(\"logInBtn\").value = 'Sign In';\n//           }else if(response.data.message === \"USER_UNVERIFIED\"){\n//             swal({\n//               text : \"You have not verified your account. Please verify your account.\"\n//             })\n//             .then((value)=>{\n//               var emailText = {\n//                 \"emailSubject\"\t: \"Email Verification\", \n//                 \"emailContent\"  : \"As part of our registration process, we screen every new profile to ensure its credibility by validating email provided by user. While screening the profile, we verify that details put in by user are correct and genuine.\",\n//               }\n//               axios.patch('/api/auth/patch/setsendemailotpusingEmail/'+this.refs.loginusername.value, emailText)\n//               .then((response)=>{\n//                 swal(\"We send you a Verification Code to your registered email. Please verify your account.\");\n//                 this.props.history.push(\"/confirm-otp/\" + response.data.userID);\n//               })\n//               .catch((error)=>{\n//                 swal(\" Failed to sent OTP\");\n//               })    \n//             });\n//             document.getElementById(\"logInBtn\").value = 'Sign In';\n\n//           }\n//       })\n//       .catch((error) => {\n//         console.log(\"error\",error);\n//          swal({\n//               text : \"Please enter valid Email ID and Password\"\n//             })\n//         document.getElementById(\"logInBtn\").value = 'Sign In';\n//         if (localStorage !== null) {\n//         }\n//       });\n//     }\n//   }\n//   showSignPass() {\n//     $('.showPwd').toggleClass('showPwd1');\n//     $('.hidePwd').toggleClass('hidePwd1');\n//     return $('#loginpassword').attr('type', 'text');\n//   }\n//   hideSignPass() {\n//     $('.showPwd').toggleClass('showPwd1');\n//     $('.hidePwd').toggleClass('hidePwd1');\n//     return $('#loginpassword').attr('type', 'password');\n//   }\n//   Closepagealert(event) {\n//     event.preventDefault();\n//     $(\".toast-error\").html('');\n//     $(\".toast-success\").html('');\n//     $(\".toast-info\").html('');\n//     $(\".toast-warning\").html('');\n//     $(\".toast-error\").removeClass('toast');\n//     $(\".toast-success\").removeClass('toast');\n//     $(\".toast-info\").removeClass('toast');\n//     $(\".toast-warning\").removeClass('toast');\n//   }\n//   render() {\n//     return (\n//       <div style={{'height': window.innerHeight+'px', 'width': window.innerWidth+'px'}} className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 LoginWrapper\">\n//         <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\">\n//         </div>\n//         <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n//           <div className=\"col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-12 col-xs-12 formShadow\">\n//             <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xs-12\">\n//               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 innloginwrap\">\n//                 <h3>Sign In</h3>\n//               </div>\n//               <form id=\"login\" onSubmit={this.userlogin.bind(this)}>\n//                 <div className=\"form-group textAlignLeft col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding mt25\">\n//                   <label>Email ID</label><label className=\"astricsign\">*</label>\n//                   <input type=\"email\" className=\"form-control\" onChange={this.handleChange} ref=\"loginusername\" id=\"loginusername\" name=\"loginusername\" placeholder=\"Email ID\" required />\n//                 </div>\n//                 <div className=\"textAlignLeft col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding mb25\">\n\n//                   <label>Password</label><label className=\"astricsign\">*</label>\n//                   <input type=\"password\" className=\"form-control\" ref=\"loginpassword\" name=\"loginpassword\" id=\"loginpassword\" placeholder=\"Password\" required />\n//                   <div className=\"showHideSignDiv\">\n//                     <i className=\"fa fa-eye showPwd showEyeupSign\" aria-hidden=\"true\" onClick={this.showSignPass.bind(this)}></i>\n//                     <i className=\"fa fa-eye-slash hidePwd hideEyeSignup \" aria-hidden=\"true\" onClick={this.hideSignPass.bind(this)}></i>\n//                   </div>\n\n//                 </div>\n//                 <div className=\"col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-12 col-xs-12 NOpaddingRight\">\n//                   <input id=\"logInBtn\" type=\"submit\" className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 btn loginBtn\" value=\"Sign In\" />\n//                 </div>\n//                 <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt30 mb25\">\n//                   <div className=\"row\">\n//                     <div className=\"textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12 mt10\">\n//                       <div className=\"row loginforgotpass\">\n//                         <a href='/forgotpassword' className=\"\">Forgot Password?</a>\n//                       </div>\n//                     </div>\n\n//                     <div className=\"col-lg-8 col-md-8 col-sm-12 col-xs-12 mt10 textAlignRight\">\n//                       {/* <div className=\"row loginforgotpass\">\n//                         <a href='/signup' className=\"\">Sign Up</a>\n//                       </div> */}\n//                     </div>\n\n//                   </div>\n//                 </div>\n//               </form>\n//             </div>\n//           </div>\n\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n// const mapStateToProps = (state)=>{\n//   console.log(\"state = \",state)\n//   return {\n//     userDetails   : state.userDetails,\n//   }\n// };\n\n\n// const mapDispatchToProps = (dispatch)=>{\n//   return {\n//       setGlobalUser  : (userDetails)=> dispatch({\n//                           type      : \"SET_GLOBAL_USER\",\n//                           userDetails : userDetails,\n//                         }),\n//   }\n// };\n\n\n\n// export default connect(mapStateToProps, mapDispatchToProps)(Login);"]},"metadata":{},"sourceType":"module"}