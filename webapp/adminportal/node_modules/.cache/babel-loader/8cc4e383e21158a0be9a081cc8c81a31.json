{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/ExpenseTypeMaster/ExpenseType.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport IAssureTable from '../../coreadmin/IAssureTable/IAssureTable.jsx';\nimport './ExpenseTypeMaster.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/js/modal.js';\n\nclass ExpenseTypeMaster extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      type: '',\n      GSTRate: '',\n      CGSTRate: '',\n      SGSTRate: '',\n      IGSTRate: '',\n      submitVal: true,\n      startRange: 0,\n      limitRange: 10,\n      expenseData: [],\n      tableHeading: {\n        type: \"Expense Type\",\n        GSTRate: \"GST Rate\",\n        CGSTRate: \"CGST Rate\",\n        SGSTRate: \"SGST Rate\",\n        IGSTRate: \"IGST Rate\",\n        actions: \"Action\"\n      },\n      tableObjects: {\n        deleteMethod: 'delete',\n        apiLink: '/api/expensetypemaster/',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/billing-masters'\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  /*======= componentWillReceiveProps() =======*/\n\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.editId !== this.props.editId) {\n      this.setState({\n        id: nextProps.editId\n      }, () => {\n        if (this.state.id) {\n          axios.get(\"/api/expensetypemaster/getSingleData/\" + this.state.id).then(response => {\n            this.setState({\n              id: response.data[0]._id,\n              type: response.data[0].type,\n              GSTRate: response.data[0].GSTRate,\n              CGSTRate: response.data[0].CGSTRate,\n              SGSTRate: response.data[0].SGSTRate,\n              IGSTRate: response.data[0].IGSTRate,\n              submitVal: false\n            }, () => {});\n          }).catch(error => {\n            console.log(\"Error Get Single Expense Type Data = \", error);\n          });\n        }\n      });\n    }\n  }\n  /*======= componentDidMount() =======*/\n\n\n  componentDidMount(props) {\n    this.getExpenseTypeTable(this.state.startRange, this.state.limitRange);\n    $.validator.addMethod(\"regxtax\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid tax rate.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#ExpenseTypeMasterForm\").validate({\n      rules: {\n        type: {\n          required: true\n        },\n        GSTRate: {\n          required: true,\n          regxtax: /^[0-9]\\d*(\\.\\d+)?$/\n        },\n        CGSTRate: {\n          required: true,\n          regxtax: /^[0-9]\\d*(\\.\\d+)?$/\n        },\n        SGSTRate: {\n          required: true,\n          regxtax: /^[0-9]\\d*(\\.\\d+)?$/\n        },\n        IGSTRate: {\n          required: true,\n          regxtax: /^[0-9]\\d*(\\.\\d+)?$/\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"type\") {\n          error.insertAfter(\"#type\");\n        }\n\n        if (element.attr(\"name\") === \"GSTRate\") {\n          error.insertAfter(\"#GSTRate\");\n        }\n\n        if (element.attr(\"name\") === \"CGSTRate\") {\n          error.insertAfter(\"#CGSTRate\");\n        }\n\n        if (element.attr(\"name\") === \"SGSTRate\") {\n          error.insertAfter(\"#SGSTRate\");\n        }\n\n        if (element.attr(\"name\") === \"IGSTRate\") {\n          error.insertAfter(\"#IGSTRate\");\n        }\n      }\n    });\n  }\n  /*======= getExpenseTypeTable() =======*/\n\n\n  getExpenseTypeTable(startRange, limitRange) {\n    var data = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post(this.state.tableObjects.apiLink + 'get/list', data).then(response => {\n      if (response.data) {\n        var tableData = response.data.map((a, i) => {\n          return {\n            _id: a._id,\n            type: a.type ? a.type : \" - \",\n            GSTRate: a.GSTRate ? a.GSTRate + \"%\" : \" 0% \",\n            CGSTRate: a.CGSTRate ? a.CGSTRate + \"%\" : \" 0% \",\n            SGSTRate: a.SGSTRate ? a.SGSTRate + \"%\" : \" 0% \",\n            IGSTRate: a.IGSTRate ? a.IGSTRate + \"%\" : \" 0% \"\n          };\n        });\n        this.setState({\n          expenseTableData: tableData\n        });\n      }\n    }).catch(error => {\n      console.log(\"Error getExpenseTypeTable() = \", error);\n    });\n  }\n  /*======= submitData() =======*/\n\n\n  submitData(event) {\n    event.preventDefault();\n    var formValues = {\n      type: this.state.type,\n      GSTRate: this.state.GSTRate,\n      CGSTRate: this.state.CGSTRate,\n      SGSTRate: this.state.SGSTRate,\n      IGSTRate: this.state.IGSTRate\n    };\n    var updateFormValues = {\n      id: this.state.id,\n      type: this.state.type,\n      GSTRate: this.state.GSTRate,\n      CGSTRate: this.state.CGSTRate,\n      SGSTRate: this.state.SGSTRate,\n      IGSTRate: this.state.IGSTRate\n    };\n    console.log('formValues = ', formValues);\n\n    if ($(\"#ExpenseTypeMasterForm\").valid()) {\n      if (this.state.submitVal) {\n        axios.patch('/api/expensetypemaster/insertExpenseType', formValues).then(response => {\n          if (response.data.duplicated == true) {\n            swal(\"\", \"Expense Type Already Exist\");\n          } else {\n            this.getExpenseTypeTable(this.state.startRange, this.state.limitRange);\n            swal({\n              title: \"\",\n              text: \"Expense Type Details Added Successfully!\"\n            });\n            this.setState({\n              type: '',\n              GSTRate: '',\n              CGSTRate: '',\n              SGSTRate: '',\n              IGSTRate: '',\n              submitVal: true\n            });\n          }\n        }).catch(function (error) {\n          swal({\n            title: \" \",\n            text: \"Failed to Add Expense Type Details!\"\n          });\n        });\n      } else {\n        axios.patch('/api/expensetypemaster/updateExpenseType', updateFormValues).then(response => {\n          console.log(\"response.data.updated == \", response.data.updated);\n\n          if (response.data.updated) {\n            this.props.history.push(\"/billing-masters\");\n            swal({\n              title: \" \",\n              text: \"Expense Type details updated successfully!\"\n            });\n            this.setState({\n              id: '',\n              type: '',\n              GSTRate: '',\n              CGSTRate: '',\n              SGSTRate: '',\n              IGSTRate: '',\n              submitVal: true\n            }, () => {\n              this.getExpenseTypeTable(this.state.startRange, this.state.limitRange);\n            });\n          }\n\n          this.setState({\n            id: \"\",\n            type: \"\",\n            GSTRate: \"\",\n            CGSTRate: \"\",\n            SGSTRate: \"\",\n            IGSTRate: \"\",\n            submitVal: true\n          });\n        }).catch(function (error) {\n          swal({\n            title: \" \",\n            text: \"Failed to Update Expense Type details!\"\n          });\n        });\n      }\n    }\n  }\n  /*======= handleChange() =======*/\n\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n  /*======= delete() =======*/\n\n\n  delete(event) {\n    event.preventDefault();\n    console.log(event.currentTarget.getAttribute('data-id'));\n    this.setState({\n      id: event.currentTarget.getAttribute('data-id')\n    });\n    $('#deleteModal').show();\n  }\n\n  delexpence(event) {\n    event.preventDefault();\n    console.log('id', this.state.id);\n    axios.delete('/api/expensetypemaster/delete/' + this.state.id).then(response => {\n      if (response.data) {\n        $('#deleteModal').hide(); // window.location.reload();\n\n        this.expenseType();\n        swal({\n          title: \" \",\n          text: \"Record is deleted successfully.\"\n        });\n      } else {\n        swal({\n          title: \" \",\n          text: \"Failed to delete.\"\n        });\n      }\n    }).catch(error => {\n      swal(error);\n    });\n  }\n  /*======= closeModal() =======*/\n\n\n  closeModal(event) {\n    event.preventDefault();\n    $('#deleteModal').hide();\n  }\n  /*======= render() =======*/\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 19\n      }\n    }, \"Expense Type Master\")), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"ExpenseTypeMasterForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group formht col-lg-6 col-md-6 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 27\n      }\n    }, \"Expense Type\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 77\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"type\",\n      \"data-text\": \"type\",\n      type: \"text\",\n      name: \"type\",\n      ref: \"type\",\n      className: \"form-control areaStaes\",\n      onChange: this.handleChange.bind(this),\n      value: this.state.type,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group formht col-lg-6 col-md-6 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 27\n      }\n    }, \"GST Rate\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 73\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      id: \"GSTRate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      \"data-text\": \"GSTRate\",\n      type: \"number\",\n      name: \"GSTRate\",\n      ref: \"GSTRate\",\n      className: \"form-control areaStaes\",\n      minLength: \"1\",\n      maxLength: \"4\",\n      min: \"0\",\n      onChange: this.handleChange.bind(this),\n      value: this.state.GSTRate,\n      onKeyDown: event => event.target.value > 100 ? (event.which ? event.which : event.keyCode) !== 8 ? (event.preventDefault(), true) : false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon inputIcon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 29\n      }\n    }, \"%\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group formht col-lg-4 col-md-4 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 27\n      }\n    }, \"CGST Rate\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 74\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      id: \"CGSTRate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"CGSTRate\",\n      ref: \"CGSTRate\",\n      className: \"form-control areaStaes\",\n      minLength: \"1\",\n      maxLength: \"4\",\n      min: \"0\",\n      value: this.state.CGSTRate,\n      \"data-text\": \"CGSTRate\",\n      onChange: this.handleChange.bind(this),\n      onKeyDown: event => event.target.value > 100 ? (event.which ? event.which : event.keyCode) !== 8 ? (event.preventDefault(), true) : false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon inputIcon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 29\n      }\n    }, \"%\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group formht col-lg-4 col-md-4 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 27\n      }\n    }, \"SGST Rate\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 74\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      id: \"SGSTRate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      \"data-text\": \"SGSTRate\",\n      type: \"number\",\n      name: \"SGSTRate\",\n      ref: \"SGSTRate\",\n      className: \"form-control areaStaes\",\n      minLength: \"1\",\n      maxLength: \"4\",\n      min: \"0\",\n      onChange: this.handleChange.bind(this),\n      value: this.state.SGSTRate,\n      onKeyDown: event => event.target.value > 100 ? (event.which ? event.which : event.keyCode) !== 8 ? (event.preventDefault(), true) : false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon inputIcon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 29\n      }\n    }, \"%\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group formht col-lg-4 col-md-4 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 27\n      }\n    }, \"IGST Rate\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 74\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      id: \"IGSTRate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      \"data-text\": \"IGSTRate\",\n      type: \"number\",\n      name: \"IGSTRate\",\n      ref: \"IGSTRate\",\n      className: \"form-control areaStaes\",\n      minLength: \"1\",\n      maxLength: \"4\",\n      min: \"0\",\n      onChange: this.handleChange.bind(this),\n      value: this.state.IGSTRate,\n      onKeyDown: event => event.target.value > 100 ? (event.which ? event.which : event.keyCode) !== 8 ? (event.preventDefault(), true) : false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon inputIcon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 29\n      }\n    }, \"%\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"col-lg-2 col-md-2 col-sm-12 col-xs-12 btn button3 pull-right\",\n      id: \"btnCheck\",\n      onClick: this.submitData.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 19\n      }\n    }, this.state.submitVal ? \"Submit\" : \"Update\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      style: {\n        \"marginBottom\": \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      tableData: this.state.expenseTableData,\n      tableObjects: this.state.tableObjects,\n      getData: this.getExpenseTypeTable.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}\n\nexport default ExpenseTypeMaster;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/ExpenseTypeMaster/ExpenseType.js"],"names":["React","Component","render","$","jQuery","axios","swal","IAssureTable","ExpenseTypeMaster","constructor","props","state","id","type","GSTRate","CGSTRate","SGSTRate","IGSTRate","submitVal","startRange","limitRange","expenseData","tableHeading","actions","tableObjects","deleteMethod","apiLink","paginationApply","searchApply","editUrl","handleChange","bind","componentWillReceiveProps","nextProps","editId","setState","get","then","response","data","_id","catch","error","console","log","componentDidMount","getExpenseTypeTable","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","required","regxtax","errorPlacement","attr","insertAfter","post","tableData","map","a","i","expenseTableData","submitData","event","preventDefault","formValues","updateFormValues","valid","patch","duplicated","title","text","updated","history","push","name","target","delete","currentTarget","getAttribute","show","delexpence","hide","expenseType","closeModal","which","keyCode"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render }           from 'react-dom';\nimport $                    from 'jquery';\nimport jQuery               from 'jquery';\nimport axios                from 'axios';\nimport swal                 from 'sweetalert';\nimport IAssureTable         from  '../../coreadmin/IAssureTable/IAssureTable.jsx';\n\nimport './ExpenseTypeMaster.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/js/modal.js';\n\nclass ExpenseTypeMaster extends Component{\n   constructor(props) {\n    super(props);\n    this.state = {\n      id            : '',\n      type          : '',\n      GSTRate       : '',\n      CGSTRate      : '',\n      SGSTRate      : '',\n      IGSTRate      : '',\n      submitVal     : true,\n      startRange    : 0,\n      limitRange    : 10,\n      expenseData   : [],\n      tableHeading  : {\n                        type          : \"Expense Type\",\n                        GSTRate       : \"GST Rate\",\n                        CGSTRate      : \"CGST Rate\",\n                        SGSTRate      : \"SGST Rate\",\n                        IGSTRate      : \"IGST Rate\",\n                        actions       : \"Action\"\n                      },\n      tableObjects      : {\n        deleteMethod    : 'delete',\n        apiLink         : '/api/expensetypemaster/',\n        paginationApply : false,\n        searchApply     : false,\n        editUrl         : '/billing-masters'\n      },\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  /*======= componentWillReceiveProps() =======*/\n  componentWillReceiveProps(nextProps){\n    if (nextProps.editId !== this.props.editId) {\n      this.setState({\n          id : nextProps.editId\n      },()=>{\n          if(this.state.id){\n            axios.get(\"/api/expensetypemaster/getSingleData/\"+this.state.id)\n                .then((response)=>{\n                  this.setState({\n                    id           : response.data[0]._id,\n                    type         : response.data[0].type,\n                    GSTRate      : response.data[0].GSTRate,\n                    CGSTRate     : response.data[0].CGSTRate,\n                    SGSTRate     : response.data[0].SGSTRate,\n                    IGSTRate     : response.data[0].IGSTRate,\n                    submitVal    : false,\n                  },()=>{});\n                })\n                .catch((error)=>{\n                  console.log(\"Error Get Single Expense Type Data = \",error);\n                })\n          }\n      })\n    }\n  }\n  /*======= componentDidMount() =======*/\n  componentDidMount(props) {\n    this.getExpenseTypeTable(this.state.startRange,this.state.limitRange);\n    \n    $.validator.addMethod(\"regxtax\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid tax rate.\");\n\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n\n    $(\"#ExpenseTypeMasterForm\").validate({\n      rules : {\n        type : {\n          required: true,\n        },\n        GSTRate : {\n          required  : true,\n          regxtax   : /^[0-9]\\d*(\\.\\d+)?$/\n        },\n        CGSTRate : {\n          required  : true,\n          regxtax   : /^[0-9]\\d*(\\.\\d+)?$/\n        },\n        SGSTRate : {\n          required  : true,\n          regxtax   : /^[0-9]\\d*(\\.\\d+)?$/\n        },\n        IGSTRate : {\n          required  : true,\n          regxtax   : /^[0-9]\\d*(\\.\\d+)?$/\n        },\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"type\") {\n            error.insertAfter(\"#type\");\n        }\n        if (element.attr(\"name\") === \"GSTRate\") {\n            error.insertAfter(\"#GSTRate\");\n        }\n        if (element.attr(\"name\") === \"CGSTRate\") {\n            error.insertAfter(\"#CGSTRate\");\n        }\n        if (element.attr(\"name\") === \"SGSTRate\") {\n            error.insertAfter(\"#SGSTRate\");\n        }\n        if (element.attr(\"name\") === \"IGSTRate\") {\n            error.insertAfter(\"#IGSTRate\");\n        }\n      } \n    }); \n  }\n  /*======= getExpenseTypeTable() =======*/\n  getExpenseTypeTable(startRange,limitRange){\n    var data = {\n            startRange: startRange,\n            limitRange: limitRange\n    }\n    axios.post(this.state.tableObjects.apiLink+'get/list', data)\n         .then((response) => {\n            if (response.data) {\n              var tableData = response.data.map((a, i)=>{\n                return {\n                  _id          : a._id,\n                  type         : a.type ? a.type : \" - \",\n                  GSTRate      : a.GSTRate ? a.GSTRate + \"%\" : \" 0% \" ,\n                  CGSTRate     : a.CGSTRate ? a.CGSTRate + \"%\" : \" 0% \" ,\n                  SGSTRate     : a.SGSTRate ? a.SGSTRate + \"%\" : \" 0% \" ,\n                  IGSTRate     : a.IGSTRate ? a.IGSTRate + \"%\" : \" 0% \" ,\n                }\n              })\n              this.setState({\n                expenseTableData : tableData\n              })              \n            }\n         })\n         .catch((error) => {   \n            console.log(\"Error getExpenseTypeTable() = \",error);       \n         });\n  }\n  /*======= submitData() =======*/\n  submitData(event){\n    event.preventDefault();\n    \n    var formValues = {\n      type            : this.state.type,\n      GSTRate         : this.state.GSTRate,\n      CGSTRate        : this.state.CGSTRate,\n      SGSTRate        : this.state.SGSTRate,\n      IGSTRate        : this.state.IGSTRate,\n    }\n\n    var updateFormValues = {\n      id           : this.state.id,\n      type         : this.state.type,\n      GSTRate      : this.state.GSTRate,\n      CGSTRate     : this.state.CGSTRate,\n      SGSTRate     : this.state.SGSTRate,\n      IGSTRate     : this.state.IGSTRate,\n    }\n\n    console.log('formValues = ',formValues);\n    if($(\"#ExpenseTypeMasterForm\").valid()){\n      if (this.state.submitVal) {\n        axios.patch('/api/expensetypemaster/insertExpenseType',formValues)\n             .then((response)=> {          \n              if(response.data.duplicated == true){\n                swal(\"\", \"Expense Type Already Exist\");\n              }else{\n                this.getExpenseTypeTable(this.state.startRange,this.state.limitRange);\n                swal({\n                  title   : \"\",\n                  text    : \"Expense Type Details Added Successfully!\",\n                });\n                this.setState({\n                  type       : '',\n                  GSTRate    : '',\n                  CGSTRate   : '',\n                  SGSTRate   : '',\n                  IGSTRate   : '',\n                  submitVal  : true\n                })\n              }   \n             })\n             .catch(function (error) {\n              swal({\n                title: \" \",\n                text : \"Failed to Add Expense Type Details!\",\n              });\n             })\n      }else{\n        axios.patch('/api/expensetypemaster/updateExpenseType',updateFormValues)\n             .then((response)=>{\n              console.log(\"response.data.updated == \", response.data.updated);\n              if(response.data.updated){\n                this.props.history.push(\"/billing-masters\");\n                swal({\n                  title : \" \",\n                  text  : \"Expense Type details updated successfully!\",\n                });      \n                this.setState({\n                    id         : '',\n                    type       : '',\n                    GSTRate    : '',\n                    CGSTRate   : '',\n                    SGSTRate   : '',\n                    IGSTRate   : '',\n                    submitVal  : true,\n                  },()=>{ \n                    this.getExpenseTypeTable(this.state.startRange,this.state.limitRange);  \n                  }); \n              }\n              this.setState({\n                  id           : \"\",\n                  type         : \"\",\n                  GSTRate      : \"\",\n                  CGSTRate     : \"\",\n                  SGSTRate     : \"\",\n                  IGSTRate     : \"\",\n                  submitVal    : true,\n                })               \n             })\n             .catch(function (error) {\n              swal({\n                title : \" \",\n                text  : \"Failed to Update Expense Type details!\",\n              });\n             })\n      }  \n    }\n  }\n  /*======= handleChange() =======*/\n  handleChange(event){\n    const {name,value} = event.target;\n    this.setState({ \n      [name]:value\n    });\n  }\n  /*======= delete() =======*/\n  delete(event){\n    event.preventDefault();\n    console.log(event.currentTarget.getAttribute('data-id'))\n    this.setState({id: event.currentTarget.getAttribute('data-id')})\n    $('#deleteModal').show();\n    }\n    delexpence(event){\n      event.preventDefault();\n        console.log('id',this.state.id);\n      axios.delete('/api/expensetypemaster/delete/'+this.state.id)\n      .then((response)=>{\n        if (response.data) {\n          $('#deleteModal').hide();   \n          // window.location.reload();\n          this.expenseType();\n          swal({\n                title : \" \",\n                text  : \"Record is deleted successfully.\",\n              });\n        } else{\n          swal({\n                title : \" \",\n                text  : \"Failed to delete.\",\n              });\n        }\n      })\n      .catch((error)=>{\n        swal(error)\n      })\n  }\n  /*======= closeModal() =======*/\n  closeModal(event){\n    event.preventDefault();\n    $('#deleteModal').hide(); \n  }\n  /*======= render() =======*/\n  render(){\n    return(\n        <div className=\"container-fluid\">\n          <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\">\n            <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n              <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                  <h4 className=\"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\">Expense Type Master</h4>\n              </div>\n              <form id=\"ExpenseTypeMasterForm\"  >\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls\">\n                  <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\">\n                    <div className=\"form-group formht col-lg-6 col-md-6 col-sm-12 col-xs-12\">\n                      <div className=\"form-group\">\n                          <label className=\"labelform\" >Expense Type</label><span className=\"astrick\">*</span>\n                          <input id=\"type\" data-text=\"type\" type=\"text\" name=\"type\" ref=\"type\" className=\"form-control areaStaes\" \n                            onChange = {this.handleChange.bind(this)}\n                            value    = {this.state.type}  \n                          />\n                      </div>  \n                    </div>\n                    <div className=\"form-group formht col-lg-6 col-md-6 col-sm-12 col-xs-12\">\n                      <div className=\"form-group\">\n                          <label className=\"labelform\" >GST Rate</label><span className=\"astrick\">*</span>\n                          <div className=\"input-group\" id=\"GSTRate\">\n                            <input data-text=\"GSTRate\" type=\"number\" name=\"GSTRate\" ref=\"GSTRate\" className=\"form-control areaStaes\" minLength=\"1\" maxLength=\"4\" min=\"0\"\n                              onChange  = {this.handleChange.bind(this)}\n                              value     = {this.state.GSTRate}  \n                              onKeyDown = {(event)=>(event.target.value > 100 ? (((event.which ? event.which : event.keyCode) !== 8) ? (event.preventDefault(), true) : false) : true)}\n                            />\n                            <span className=\"input-group-addon inputIcon\">%</span>\n                          </div>\n                      </div>\n                    </div>\n                    <div className=\"form-group formht col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n                      <div className=\"form-group\">\n                          <label className=\"labelform\" >CGST Rate</label><span className=\"astrick\">*</span>\n                          <div className=\"input-group\" id=\"CGSTRate\">\n                            <input type=\"number\" name=\"CGSTRate\" ref=\"CGSTRate\" className=\"form-control areaStaes\" minLength=\"1\" maxLength=\"4\" min=\"0\"\n                              value     = {this.state.CGSTRate} data-text=\"CGSTRate\" \n                              onChange  = {this.handleChange.bind(this)} \n                              onKeyDown = {(event)=>(event.target.value > 100 ? (((event.which ? event.which : event.keyCode) !== 8) ? (event.preventDefault(), true) : false) : true)}\n                            />\n                            <span className=\"input-group-addon inputIcon\">%</span>\n                          </div>\n                      </div>  \n                    </div>\n                    <div className=\"form-group formht col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n                      <div className=\"form-group\">\n                          <label className=\"labelform\" >SGST Rate</label><span className=\"astrick\">*</span>\n                          <div className=\"input-group\" id=\"SGSTRate\">\n                            <input data-text=\"SGSTRate\" type=\"number\" name=\"SGSTRate\" ref=\"SGSTRate\" className=\"form-control areaStaes\" minLength=\"1\" maxLength=\"4\" min=\"0\"\n                              onChange  = {this.handleChange.bind(this)}\n                              value     = {this.state.SGSTRate} \n                              onKeyDown = {(event)=>(event.target.value > 100 ? (((event.which ? event.which : event.keyCode) !== 8) ? (event.preventDefault(), true) : false) : true)}\n                            />\n                            <span className=\"input-group-addon inputIcon\">%</span>\n                          </div>\n                      </div>  \n                    </div>\n                    <div className=\"form-group formht col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n                      <div className=\"form-group\">\n                          <label className=\"labelform\" >IGST Rate</label><span className=\"astrick\">*</span>\n                          <div className=\"input-group\" id=\"IGSTRate\">\n                            <input data-text=\"IGSTRate\" type=\"number\" name=\"IGSTRate\" ref=\"IGSTRate\" className=\"form-control areaStaes\" minLength=\"1\" maxLength=\"4\" min=\"0\"\n                              onChange  = {this.handleChange.bind(this)}\n                              value     = {this.state.IGSTRate} \n                              onKeyDown = {(event)=>(event.target.value > 100 ? (((event.which ? event.which : event.keyCode) !== 8) ? (event.preventDefault(), true) : false) : true)}  \n                            />\n                            <span className=\"input-group-addon inputIcon\">%</span>\n                          </div>\n                      </div>  \n                    </div>\n                  </div> \n                </div>\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  \">\n                  <button className=\"col-lg-2 col-md-2 col-sm-12 col-xs-12 btn button3 pull-right\" id=\"btnCheck\" \n                    onClick={this.submitData.bind(this)} >\n                    { this.state.submitVal ? \"Submit\" : \"Update\" }  \n                  </button>\n                </div>\n              </form>\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\" style={{\"marginBottom\": \"30px\"}}>\n                <IAssureTable\n                  tableHeading = {this.state.tableHeading}\n                  tableData    = {this.state.expenseTableData}\n                  tableObjects = {this.state.tableObjects}\n                  getData      = {this.getExpenseTypeTable.bind(this)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n  }\n }\n\n export default ExpenseTypeMaster;"]},"metadata":{},"sourceType":"module"}