{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/VendorAllocation/VendorAllocationList.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport _ from 'underscore';\nimport Details from './VendorAllocationDetails.js';\nimport 'bootstrap/js/tab.js';\nimport swal from 'sweetalert';\nimport './vendorAllocation.css';\nimport \"@syncfusion/ej2-base/styles/material.css\";\nimport \"@syncfusion/ej2-buttons/styles/material.css\";\nimport \"@syncfusion/ej2-inputs/styles/material.css\";\nimport \"@syncfusion/ej2-react-dropdowns/styles/material.css\";\nimport { CheckBoxSelection, Inject, MultiSelectComponent } from '@syncfusion/ej2-react-dropdowns';\n\nclass VendorAllocationList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      city: '',\n      lenghtCount: '',\n      filterCount: 0,\n      searchByName: '',\n      contractList: [],\n      masterVendor: [],\n      selector: {},\n      \"pathname\": window.location.pathname.split('/')[1]\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.ShowForm = this.ShowForm.bind(this);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.getContracts();\n    this.getVendor();\n  }\n\n  getContracts() {\n    axios.get(\"/api/VendorAllocation/get/count\").then(response => {\n      this.setState({\n        contractCount: response.data.count\n      });\n    }).catch(error => {});\n    axios.get(\"/api/VendorAllocation/get/list\").then(response => {\n      this.setState({\n        contractList: response.data\n      });\n      $('.selected').removeClass('selectedSupplier');\n      document.getElementById(response.data[0]._id).classList.add(\"selectedSupplier\");\n      this.setState({\n        id: response.data[0]._id,\n        showDetails: true\n      });\n    }).catch(error => {});\n  }\n\n  getVendor() {\n    axios.get(\"/api/entitymaster/get/vendor\").then(response => {\n      var vendorList = [];\n      response.data.map((data, ind) => {\n        vendorList.push({\n          id: data._id,\n          companyName: data.companyName\n        });\n      });\n      this.setState({\n        vendorList: vendorList\n      });\n    }).catch(error => {});\n  }\n\n  ShowForm(event) {\n    var data = $(event.currentTarget).attr('id');\n    this.setState({\n      id: data,\n      showDetails: true\n    });\n    $('.selected').removeClass('selectedSupplier');\n    $(event.currentTarget).addClass('selectedSupplier');\n  }\n\n  hideForm() {\n    this.setState({\n      showDetails: false\n    });\n  }\n\n  searchEntity(event) {\n    this.dropDownListObject1.value = null;\n    axios.get(\"/api/VendorAllocation/search/\" + event.target.value).then(response => {\n      this.setState({\n        contractList: response.data,\n        filterCount: response.data.length,\n        showDetails: false\n      });\n\n      if (response && response.data.length > 0) {\n        $('.selected').removeClass('selectedSupplier');\n        document.getElementById(response.data[0]._id).classList.add(\"selectedSupplier\");\n        this.setState({\n          id: response.data[0]._id,\n          showDetails: true\n        });\n      }\n    }).catch(error => {});\n  }\n\n  resetFilter(event) {\n    event.preventDefault();\n    this.dropDownListObject1.value = null;\n    this.setState({\n      filterCount: 0\n    });\n    $('.searchEntity').val('');\n    this.getContracts();\n  }\n\n  handleChangeFilter(event) {\n    if (event.value) {\n      var currentSelection = event.element.getAttribute(\"id\");\n      var selector = this.state.selector; // if (event.itemData.category) {\n      // \tvar categoryIds = []\n      //     selector.categoryIds = event.value;\n      // }\n\n      if (currentSelection === 'vendorChange') {\n        selector.corporateIds = [];\n        selector.vendorIds = event.value;\n      }\n\n      if (currentSelection === 'cityChange') {\n        selector.districts = event.value;\n        this.dropDownListObject1.value = null;\n      } // selector.startRange = this.state.startRange\n      // selector.limitRange = this.state.limitRange\n\n\n      this.setState({\n        selector: selector,\n        showDetails: false\n      }, () => {\n        this.getFilteredProducts(this.state.selector);\n      });\n    }\n  }\n\n  getFilteredProducts(selector) {\n    axios.post(\"/api/VendorAllocation/filterVendorAllocation\", selector).then(response => {\n      this.setState({\n        contractList: response.data,\n        filterCount: response.data.length,\n        showDetails: false\n      });\n\n      if (response && response.data.length > 0) {\n        $('.selected').removeClass('selectedSupplier');\n        document.getElementById(response.data[0]._id).classList.add(\"selectedSupplier\");\n        this.setState({\n          id: response.data[0]._id,\n          showDetails: true\n        });\n      }\n    }).catch(error => {});\n  }\n\n  redirectTo(event) {\n    this.props.history.push(\"/vendor_allocation\");\n  }\n\n  render() {\n    const vendorfields = {\n      text: 'companyName',\n      value: 'id'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-5 col-md-11 col-xs-11 col-sm-11 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 10\n      }\n    }, \"Vendor Mapping List\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-12 col-sm-12 col-xs-12 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"col-lg-6 col-lg-offset-5 sentanceCase addButtonList\",\n      onClick: this.redirectTo.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 118\n      }\n    }), \"\\xA0\\xA0Map City and Vendor\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 nopadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"box-title2 col-lg-2 col-md-11 col-sm-11 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 10\n      }\n    }, \"Total Records :\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 103\n      }\n    }, this.state.contractCount)), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"box-title2 col-lg-2 col-md-11 col-sm-11 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 10\n      }\n    }, \"Filtered :\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 98\n      }\n    }, this.state.filterCount))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contenta col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls nopadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-12 col-sm-12 col-xs-12 nopadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"reset\",\n      onClick: this.resetFilter.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 12\n      }\n    }, \"RESET FILTER\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-12 col-sm-12 col-xs-12 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"blocking-span\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"search\",\n      className: \"col-lg-8 col-md-8 col-sm-8 col-xs-12 Searchusers searchEntity inputTextSearch outlinebox pull-right texttrans\",\n      placeholder: \"Search by city/vendor...\",\n      onInput: this.searchEntity.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 12\n      }\n    }, \"Vendor\"), /*#__PURE__*/React.createElement(MultiSelectComponent, {\n      id: \"vendorChange\",\n      ref: scope => {\n        this.dropDownListObject1 = scope;\n      },\n      dataSource: this.state.vendorList,\n      change: this.handleChangeFilter.bind(this),\n      mode: \"mode\",\n      fields: vendorfields,\n      placeholder: \"Select Vendor\",\n      mode: \"CheckBox\",\n      selectAllText: \"Select All\",\n      unSelectAllText: \"Unselect All\",\n      showSelectAll: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(Inject, {\n      services: [CheckBoxSelection],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 49\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 66\n      }\n    })), this.state.contractList && this.state.contractList.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 scrollbar\",\n      id: \"style-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"borderlist12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    }, this.state.contractList.map((data, index) => {\n      if (data.city) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 borderlist selected\",\n          key: index,\n          onClick: this.ShowForm.bind(this),\n          name: index,\n          \"data-child\": data._id + '-' + index,\n          id: data._id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-10 col-md-10 col-sm-12 col-xs-12\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 16\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-10 col-md-10 col-sm-12 col-xs-12\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"detailtitle\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 66\n          }\n        }, data.city), /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 66\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 70\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-user-o \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 74\n          }\n        }), \"Total Vendor(s): \", data.vendor.length)))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-2 noRightPadding\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 16\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"arrowsDiv col-lg-10 col-lg-offset-2 \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"/images/leftArrow.png\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 18\n          }\n        }))));\n      }\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-align-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }\n    }, \"No Data Found\")), this.state.showDetails ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12 pdcls suppliersOneProfile commonSup\",\n      id: this.state.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: this.state.id,\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Details, {\n      name: this.state.index,\n      id: this.state.id,\n      getContracts: this.getContracts.bind(this),\n      hideForm: this.hideForm.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 12\n      }\n    }))) : null)))));\n  }\n\n}\n\nexport default VendorAllocationList;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/VendorAllocation/VendorAllocationList.js"],"names":["React","Component","$","axios","_","Details","swal","CheckBoxSelection","Inject","MultiSelectComponent","VendorAllocationList","constructor","props","state","id","city","lenghtCount","filterCount","searchByName","contractList","masterVendor","selector","window","location","pathname","split","handleChange","bind","ShowForm","event","target","name","setState","value","componentDidMount","getContracts","getVendor","get","then","response","contractCount","data","count","catch","error","removeClass","document","getElementById","_id","classList","add","showDetails","vendorList","map","ind","push","companyName","currentTarget","attr","addClass","hideForm","searchEntity","dropDownListObject1","length","resetFilter","preventDefault","val","handleChangeFilter","currentSelection","element","getAttribute","corporateIds","vendorIds","districts","getFilteredProducts","post","redirectTo","history","render","vendorfields","text","scope","index","vendor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport _ from 'underscore';\nimport Details from './VendorAllocationDetails.js';\nimport 'bootstrap/js/tab.js';\nimport swal                   from 'sweetalert';\nimport './vendorAllocation.css'\nimport \"@syncfusion/ej2-base/styles/material.css\";\nimport \"@syncfusion/ej2-buttons/styles/material.css\";\nimport \"@syncfusion/ej2-inputs/styles/material.css\";\nimport \"@syncfusion/ej2-react-dropdowns/styles/material.css\";\nimport { CheckBoxSelection, Inject, MultiSelectComponent } \tfrom '@syncfusion/ej2-react-dropdowns';\n\n\nclass VendorAllocationList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tid: '',\n\t\t\tcity: '',\n\t\t\tlenghtCount: '',\n\t\t\tfilterCount:0,\n\t\t\tsearchByName: '',\n\t\t\tcontractList: [],\n\t\t\tmasterVendor: [],\n\t\t\tselector:{},\n\t\t\t\"pathname\": window.location.pathname.split('/')[1],\n\t\t};\n\t\t\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.ShowForm = this.ShowForm.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\tconst target = event.target;\n\t\tconst name = target.name;\n\n\t\tthis.setState({\n\t\t\t[name]: event.target.value\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getContracts();\n\t\tthis.getVendor();\n\t}\n\n\tgetContracts() {\n\t\taxios.get(\"/api/VendorAllocation/get/count\")\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tcontractCount   : response.data.count\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t})\n\n\t\taxios.get(\"/api/VendorAllocation/get/list\")\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tcontractList   : response.data\n\t\t\t\t})\n\n\t\t\t\t$('.selected').removeClass('selectedSupplier');\n\t\t\t\tdocument.getElementById(response.data[0]._id).classList.add(\"selectedSupplier\")\n\t\t\t\tthis.setState({ id: response.data[0]._id, showDetails : true });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t})\n\t}\n\n\t\t\n\tgetVendor(){\n\t\taxios.get(\"/api/entitymaster/get/vendor\")\n\t\t\t.then((response) => {\n\t            var vendorList = [];\n\t            response.data.map((data, ind) => {\n\t                vendorList.push({ id: data._id, companyName: data.companyName })\n\t            });\n\n\t            this.setState({ vendorList: vendorList })\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t})\t\n\t}\n\tShowForm(event) {\n\t\tvar data = $(event.currentTarget).attr('id');\n\t\tthis.setState({ id: data, showDetails : true });\n\n\t\t$('.selected').removeClass('selectedSupplier');\n\t\t$(event.currentTarget).addClass('selectedSupplier');\n\n\t}\n\thideForm(){\n\t\tthis.setState({ showDetails : false });\n\t}\n\n\tsearchEntity(event) {\n\t\tthis.dropDownListObject1.value = null;\n\n\t\taxios.get(\"/api/VendorAllocation/search/\"+event.target.value)\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tcontractList   : response.data,\n\t\t\t\t\tfilterCount   : response.data.length,\n\t\t\t\t\tshowDetails : false\n\t\t\t\t})\n\t\t\t\tif(response && response.data.length > 0){\n\t\t\t\t\t$('.selected').removeClass('selectedSupplier');\n\t\t\t\t\tdocument.getElementById(response.data[0]._id).classList.add(\"selectedSupplier\")\n\t\t\t\t\tthis.setState({ id: response.data[0]._id, showDetails : true });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t})\n\t\t\n\t}\n\tresetFilter(event) {\n\t\tevent.preventDefault();\n\t\tthis.dropDownListObject1.value = null;\n\t\tthis.setState({\n\t\t\tfilterCount:0\n\t\t})\n\n\t\t$('.searchEntity').val('');\n\t\tthis.getContracts();\n\t}\n\thandleChangeFilter(event){\n\t\tif (event.value) {\n\t        var currentSelection = event.element.getAttribute(\"id\");\n\t        var selector = this.state.selector;\n\n\t        // if (event.itemData.category) {\n\t        // \tvar categoryIds = []\n\t        //     selector.categoryIds = event.value;\n\t        // }\n\n\t        if (currentSelection === 'vendorChange') {\n\t\t\t\tselector.corporateIds = [];\n\t\t\t\tselector.vendorIds = event.value;\n\t        }\t        \n\t        \n\t        if (currentSelection === 'cityChange') {\n\t\t\t\tselector.districts = event.value;\n\t\t\t\tthis.dropDownListObject1.value = null;\n\t        }\n\t        // selector.startRange = this.state.startRange\n\t        // selector.limitRange = this.state.limitRange\n\n\t        this.setState({ selector: selector, showDetails : false },()=>{\n\t        \tthis.getFilteredProducts(this.state.selector)\n\t\t\t})\n\t\t}\n    }\n\t\n\tgetFilteredProducts(selector){\n\t\taxios.post(\"/api/VendorAllocation/filterVendorAllocation\", selector)\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tcontractList   : response.data,\n\t\t\t\t\tfilterCount   : response.data.length,\n\t\t\t\t\tshowDetails : false \n\t\t\t\t});\n\t\t\t\tif(response && response.data.length > 0){\n\t\t\t\t\t$('.selected').removeClass('selectedSupplier');\n\t\t\t\t\tdocument.getElementById(response.data[0]._id).classList.add(\"selectedSupplier\")\n\t\t\t\t\tthis.setState({ id: response.data[0]._id, showDetails : true });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t})\n\t}\n\n\tredirectTo(event)\n    {\n    \tthis.props.history.push(\"/vendor_allocation\")\n    }\n\t\n    \n\trender() {\n\t\tconst vendorfields: object = { text: 'companyName', value: 'id' };\n\n\t\treturn (\n\t\t\t<div className=\"\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t<section className=\"content\">\n\t\t\t\t\t\t\t<div className=\"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"weighttitle col-lg-5 col-md-11 col-xs-11 col-sm-11 NOpadding-right\">Vendor Mapping List</h4>\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-12 col-sm-12 col-xs-12 pull-right\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"col-lg-6 col-lg-offset-5 sentanceCase addButtonList\" onClick={this.redirectTo.bind(this)}><i  className=\"fa fa-plus-circle\"></i>&nbsp;&nbsp;Map City and Vendor \n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 nopadding\">\n\t\t\t\t\t\t\t\t\t<h5 className=\"box-title2 col-lg-2 col-md-11 col-sm-11 col-xs-12\">Total Records :&nbsp;&nbsp;<b>{this.state.contractCount}</b></h5>\n\t\t\t\t\t\t\t\t\t<h5 className=\"box-title2 col-lg-2 col-md-11 col-sm-11 col-xs-12\">Filtered :&nbsp;&nbsp;<b>{this.state.filterCount}</b></h5>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"contenta col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls nopadding\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-md-12 col-sm-12 col-xs-12 nopadding\">\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"reset\" onClick={this.resetFilter.bind(this)}>RESET FILTER</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-md-12 col-sm-12 col-xs-12 pull-right\" >\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"blocking-span\" >\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"search\" className=\"col-lg-8 col-md-8 col-sm-8 col-xs-12 Searchusers searchEntity inputTextSearch outlinebox pull-right texttrans\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search by city/vendor...\" onInput={this.searchEntity.bind(this)} />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-md-12 col-xs-12 col-sm-12\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-left\">Vendor</label>\n\t\t\t\t\t\t\t\t\t\t\t<MultiSelectComponent id=\"vendorChange\" ref={(scope) => { this.dropDownListObject1 = scope; }} \n\t\t\t\t\t\t\t\t\t\t\t\tdataSource={this.state.vendorList}\n                                                change={this.handleChangeFilter.bind(this)} mode='mode' \n                                                fields={vendorfields} placeholder=\"Select Vendor\" mode=\"CheckBox\" \n                                                selectAllText=\"Select All\" unSelectAllText=\"Unselect All\" \n                                                showSelectAll={true}>\n                                                <Inject services={[CheckBoxSelection]} />\n                                            </MultiSelectComponent>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"><br/></div>\n\t\t\t\t\t\t\t\t{this.state.contractList && this.state.contractList.length > 0 ?\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 scrollbar\" id=\"style-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"borderlist12\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.contractList.map((data, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(data.city){\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 borderlist selected\" key={index} onClick={this.ShowForm.bind(this)} name={index} data-child={data._id + '-' + index} id={data._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-10 col-md-10 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-10 col-md-10 col-sm-12 col-xs-12\">\n\t                                                                <h5 className=\"detailtitle\">{data.city}</h5>\n\t                                                                <ul className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n\t                                                                    <li><i className=\"fa fa-user-o \"></i>Total Vendor(s): {data.vendor.length}</li>\n\t                                                                </ul>\n\t                                                            </div>\n\t                                                            \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 noRightPadding\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"arrowsDiv col-lg-10 col-lg-offset-2 \">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"/images/leftArrow.png\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-align-center\">\n\t\t\t\t\t\t\t\t\t\t<h5>No Data Found</h5>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ this.state.showDetails ?\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12 pdcls suppliersOneProfile commonSup\" id={this.state.id}>\n\t\t\t\t\t\t\t\t\t\t<div id={this.state.id} className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\" >\n\t\t\t\t\t\t\t\t\t\t\t<Details name={this.state.index} id={this.state.id} \n\t\t\t\t\t\t\t\t\t\t\tgetContracts={this.getContracts.bind(this)}\n\t\t\t\t\t\t\t\t\t\t\thideForm={this.hideForm.bind(this)}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\t\t\t\t</div> \n\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default VendorAllocationList;"]},"metadata":{},"sourceType":"module"}