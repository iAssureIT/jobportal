{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/Preferences/ProfitMargin.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport $ from \"jquery\";\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nclass ProfitMargin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      profitMargin: \"\",\n      profitMarginValue: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  getData() {\n    axios.get('/api/preferences/get').then(response => {\n      console.log(\" response==>\", response.data);\n      this.setState({\n        profitMargin: response.data.profitMargin,\n        profitMarginValue: response.data.profitMargin,\n        id: response.data._id\n      }, () => {\n        console.log(\" profitMargin==>\", this.state.profitMargin);\n      });\n    }).catch(error => {\n      console.log(\" Error getData() => \", error);\n    });\n  }\n\n  submit(event) {\n    event.preventDefault();\n    var formvalue = {\n      profitMargin: this.state.profitMargin,\n      createdBy: localStorage.getItem(\"user_ID\")\n    }; // console.log(\"formvalue ===> \",formvalue);\n\n    axios.post('/api/preferences/post', formvalue).then(response => {\n      // console.log(\"response===>\",response.data);\n      swal({\n        text: \"Profit Margin Details Added Successfully!\"\n      });\n      this.getData();\n    }).catch(error => {\n      swal({\n        text: \"Failed to Add Profit Margin Details!\"\n      });\n    });\n  }\n\n  update(event) {\n    event.preventDefault();\n    var formvalues = {\n      id: this.state.id,\n      profitMargin: this.state.profitMargin,\n      createdBy: localStorage.getItem(\"user_ID\")\n    };\n    console.log(\"update formvalues = \", formvalues);\n    axios.patch('/api/preferences/patch', formvalues).then(response => {\n      console.log(\"response===>\", response.data);\n      this.getData();\n      swal({\n        text: \"Profit Margin Details Updated Successfully!\"\n      });\n    }).catch(error => {\n      swal({\n        text: \"Failed to Update Profit Margin Details!\"\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, \"Profit Margin\")), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"compySettingHr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      style: {\n        \"margin-bottom\": \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"ProfiMarginForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, \"Profit Margin % \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 62\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"Number\",\n      className: \"form-control UMname has-content\",\n      id: \"profitMargin\",\n      ref: \"profitMargin\",\n      name: \"profitMargin\",\n      placeholder: \"Profit Margin Percentage\",\n      value: this.state.profitMargin,\n      onChange: this.handleChange,\n      onKeyDown: event => event.target.value >= 100 ? (event.which ? event.which : event.keyCode) !== 8 ? (event.preventDefault(), true) : false : true,\n      min: \"0\",\n      max: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" col-lg-6 col-md-6 col-xs-12 col-sm-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, this.state.profitMarginValue === \"\" ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"col-lg-4 col-lg-offset-4 col-md-3 col-md-offset-4 col-xs-12 col-sm-12 col-xs-12 btn button3 topMargin outlinebox\",\n      type: \"submit\",\n      onClick: this.submit.bind(this),\n      style: {\n        \"margin-top\": \"12%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, \"Submit\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"col-lg-4 col-lg-offset-4 col-md-3 col-md-offset-4 col-xs-12 col-sm-12 col-xs-12 btn button3 topMargin outlinebox center-block\",\n      type: \"update\",\n      onClick: this.update.bind(this),\n      style: {\n        \"margin-top\": \"12%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, \"Update\"))))));\n  }\n\n}\n\nexport default ProfitMargin;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/Preferences/ProfitMargin.js"],"names":["React","Component","render","$","axios","swal","ProfitMargin","constructor","props","state","profitMargin","profitMarginValue","handleChange","bind","componentDidMount","getData","event","name","value","target","setState","get","then","response","console","log","data","id","_id","catch","error","submit","preventDefault","formvalue","createdBy","localStorage","getItem","post","text","update","formvalues","patch","which","keyCode"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render }           from 'react-dom';\nimport $                    from \"jquery\";\nimport axios                from 'axios';\nimport swal                 from 'sweetalert';\n\nclass ProfitMargin extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      profitMargin      : \"\", \n      profitMarginValue : \"\"   \n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount(){\n    this.getData();\n  }\n \n  handleChange(event){\n    const {name,value} = event.target;\n    this.setState({ \n      [name]:value\n    });\n  }\n\n  getData(){\n    axios.get('/api/preferences/get')\n            .then((response) => { \n            console.log(\" response==>\", response.data);               \n                this.setState(\n                  { \n                    profitMargin      : response.data.profitMargin,\n                    profitMarginValue : response.data.profitMargin,\n                    id                : response.data._id\n                  },()=>{\n                    console.log(\" profitMargin==>\", this.state.profitMargin);\n                });\n            })\n            .catch((error) => {console.log(\" Error getData() => \", error);});\n  }\n\n  submit(event){\n      event.preventDefault();\n        var formvalue ={\n          profitMargin : this.state.profitMargin,\n          createdBy    : localStorage.getItem(\"user_ID\")\n        }\n        // console.log(\"formvalue ===> \",formvalue);\n          axios.post('/api/preferences/post',formvalue)\n          .then((response)=> {\n            // console.log(\"response===>\",response.data);\n            swal({                \n                  text: \"Profit Margin Details Added Successfully!\",\n            });\n            this.getData();\n          })\n          .catch((error)=> {\n            swal({                \n                  text: \"Failed to Add Profit Margin Details!\",\n                });\n          })  \n  }\n\n  update(event){\n    event.preventDefault();\n      var formvalues ={\n        id            : this.state.id,\n        profitMargin  : this.state.profitMargin,\n        createdBy     : localStorage.getItem(\"user_ID\")\n      }\n      console.log(\"update formvalues = \", formvalues);\n        axios.patch('/api/preferences/patch',formvalues)\n        .then((response)=> {\n          console.log(\"response===>\",response.data);\n          this.getData();\n          swal({                \n                text: \"Profit Margin Details Updated Successfully!\",\n              });\n        })\n        .catch((error)=> {\n          swal({                \n                text: \"Failed to Update Profit Margin Details!\",\n              });\n        })\n  }\n  \n  render() {\n    return (\n      <div className=\"\">\n        <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\">\n          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n            <h4 className=\"\">Profit Margin</h4>\n          </div>\n          <hr className=\"compySettingHr\" />\n          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\" style={{\"margin-bottom\" : \"30px\"}}>\n            <form id=\"ProfiMarginForm\">\n              <div className=\"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box \">\n                <label className=\"labelform\">Profit Margin % <span className=\"requiredsign\">*</span></label>\n                <input type=\"Number\" className=\"form-control UMname has-content\"\n                  id=\"profitMargin\" ref=\"profitMargin\" name=\"profitMargin\" placeholder=\"Profit Margin Percentage\" \n                  value={this.state.profitMargin} onChange={this.handleChange} \n                  onKeyDown={(event)=>(event.target.value >= 100 ? (((event.which ? event.which : event.keyCode) !== 8) ? (event.preventDefault(), true) : false) : true)}\n                  min=\"0\" max=\"100\"\n                  /> \n              </div>              \n              <div className=\" col-lg-6 col-md-6 col-xs-12 col-sm-12 \">\n                {\n                    this.state.profitMarginValue === \"\" \n                    ?\n                        <button className=\"col-lg-4 col-lg-offset-4 col-md-3 col-md-offset-4 col-xs-12 col-sm-12 col-xs-12 btn button3 topMargin outlinebox\" \n                                type=\"submit\" onClick={this.submit.bind(this)} style={{\"margin-top\" : \"12%\"}}>Submit</button>\n                    :\n                        <button className=\"col-lg-4 col-lg-offset-4 col-md-3 col-md-offset-4 col-xs-12 col-sm-12 col-xs-12 btn button3 topMargin outlinebox center-block\" \n                                type=\"update\" onClick={this.update.bind(this)} style={{\"margin-top\" : \"12%\"}}>Update</button>\n                }\n                \n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n\n    );\n  }\n\n}\n\nexport default ProfitMargin;\n"]},"metadata":{},"sourceType":"module"}