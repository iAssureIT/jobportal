{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/BillingManagement/BillingTabs/UnpaidMasterBills.js\";\nimport React, { Component } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport moment from 'moment';\nimport 'jquery-validation';\nimport InvoiceTable from '../InvoiceTable/InvoiceTable.js';\n\nclass UnpaidMasterBills extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      company: \"\",\n      companyArray: [],\n      department: \"\",\n      departmentArray: [],\n      fromdate: '',\n      todate: '',\n      idArray: [],\n      tableId: \"UnpaidBills\",\n      RecordsCount: '',\n      masterInvoiceTable: [],\n      tableObjects: {\n        paginationApply: true,\n        searchApply: false\n      },\n      tableHeading: {\n        companyName: \"DESCRIPTION\",\n        invoiceNumber: \"INVOICE NO.\",\n        amount: \"AMOUNT\",\n        gst: \"GST\",\n        payment: \"PAYMENT\",\n        balance: \"BALANCE\",\n        status: \"STATUS\",\n        action: \"ACTIONS\"\n      },\n      startRange: 0,\n      limitRange: 10\n    };\n    this.viewMasterInvoice = this.viewMasterInvoice.bind(this);\n    this.changeStatusToPaid = this.changeStatusToPaid.bind(this);\n    this.toggleInvoices = this.toggleInvoices.bind(this);\n    this.showData = this.showData.bind(this);\n  }\n  /*======== componentDidMount() ========*/\n\n\n  componentDidMount() {\n    this.getCompany();\n    this.getDepartment();\n    this.getAllMasterInvoices(this.state.startRange, this.state.limitRange);\n    const user_ID = localStorage.getItem(\"user_ID\");\n    this.setState({\n      user_ID: user_ID\n    }, () => {});\n    window.viewMasterInvoice = this.viewMasterInvoice;\n    window.changeStatusToPaid = this.changeStatusToPaid;\n    window.toggleInvoices = this.toggleInvoices;\n  }\n  /*======== componentWillReceiveProps() ========*/\n\n\n  componentWillReceiveProps(nextprops) {\n    this.getAllMasterInvoices(this.state.startRange, this.state.limitRange);\n  }\n  /*======== viewMasterInvoice() ========*/\n\n\n  viewMasterInvoice(id) {\n    console.log(\"view id = \", id);\n    this.props.history.push('/view-receipt/' + id);\n  }\n  /*======= toggleInvoices() =======*/\n\n\n  toggleInvoices(id) {\n    // console.log(\"toggle id = \",id);\n    // var element = document.getElementById(\"invoices-\"+id);\n    // console.log(\"element = \",element);\n    // console.log(\"style = \",element.style.display);\n    // if (element.style.display === \"none\") {\n    //     element.style.display = \"block\";\n    // } else {\n    //     element.style.display = \"none\";\n    //  }\n    // if (id === (\"invoiceCount-\"+id)) {\n    //   $(\"#invoices-\"+id).toggle();\n    // }\n    console.log(\"view id = \", id);\n    this.props.history.push('/view-receipt/' + id);\n  }\n  /*======== getAllMasterInvoices() ========*/\n\n\n  getAllMasterInvoices(startRange, limitRange) {\n    var limits = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post('/api/invoiceMaster/get/unpaid/allList', limits).then(response => {\n      if (response.data && response.data[0].paginatedResults && response.data[0].paginatedResults.length > 0) {\n        console.log('Master Invoice => ', response.data);\n        var tableData = response.data[0].paginatedResults.map((a, i) => {\n          return {\n            companyName: \"<div class=companyNameCol>\" + a.companyDetails[0].companyName + \"</div>\",\n            invoiceNumber: \"<div class=invoiceNumCol>\" + \"<a class='masterInvoiceNum' aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewPaidMasterInvoice('\" + a._id + \"')>\" + a.invoiceNumber + \"</a></div>\",\n            amount: \"<div class=amountCol><i class='fa fa-inr faIcon'></i>\" + a.payableAmount.toLocaleString() + \"</div>\",\n            gst: \"<div class=gstCol><i class='fa fa-inr faIcon'></i>\" + a.tax.toLocaleString(undefined, {\n              maximumFractionDigits: 2\n            }) + \"</div>\",\n            payment: \"<div class=paymentCol><i class='fa fa-inr faIcon'></i>\" + a.payment.toLocaleString() + \"</div>\",\n            balance: \"<div class=balanceCol><i class='fa fa-inr faIcon'></i>\" + (a.balance ? a.balance.toLocaleString() : 0) + \"</div>\",\n            status: \"<div class=\" + a.status.toLowerCase() + \">\" + a.status + \"</div>\",\n            action: \"<div class='actionButtons unpaiInvoiceAction'>\" + \"<a aria-hidden='true' title='Click to Change Status to Paid' id='\" + a._id + \"' onclick=window.changeStatusToPaid('\" + a._id + \"')>Paid</a>\" + \"<a aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewMasterInvoice('\" + a._id + \"')><i class='fa fa-eye'></i></a>\" + \"</div>\",\n            id: a._id\n          };\n        });\n        this.setState({\n          masterInvoiceTable: tableData,\n          RecordsCount: response.data[0].totalCount && response.data[0].totalCount.length > 0 ? response.data[0].totalCount[0].count : 0\n        });\n      }\n    }).catch(err => {\n      console.log(\"Error getAllMasterInvoices => \", err);\n    });\n  }\n  /*======== changeStatusToPaid() ========*/\n\n\n  changeStatusToPaid(id) {\n    console.log(\"masterInvoice Id = \", id);\n\n    if (id) {\n      var formValues = {\n        masterInvoice_id: id,\n        updatedBy: this.state.user_ID\n      };\n      axios.post('/api/invoiceMaster/changeStatusToPaid', formValues).then(response => {\n        console.log('Master Invoice => ', response.data);\n\n        if (response.data.nModified) {\n          swal(\"Done!\", \"Bill Paid...\");\n          this.getAllMasterInvoices(this.state.startRange, this.state.limitRange);\n        }\n      }).catch(err => {\n        console.log(\"Error changeStatusToPaid = \", err);\n      });\n    }\n  }\n  /*======== getIds() ========*/\n\n\n  getUnpaidIds(ids) {\n    console.log('ids => ', ids);\n    this.setState({\n      idArray: ids\n    });\n  }\n  /*======== getCompany() ========*/\n\n\n  getCompany() {\n    axios.get('/api/entitymaster/getAllEntities').then(response => {\n      this.setState({\n        companyArray: response.data\n      }, () => {\n        console.log(\"Company Array => \", this.state.companyArray);\n      });\n    }).catch(function (error) {\n      console.log(\"Error getCompany() => \", error);\n    });\n  }\n  /*======== getDepartment() ========*/\n\n\n  getDepartment() {\n    axios.get('/api/departmentmaster/get/list').then(response => {\n      this.setState({\n        departmentArray: response.data\n      }, () => {\n        console.log(\"Department Array => \", this.state.departmentArray);\n      });\n    }).catch(function (error) {\n      console.log(\"Error getDepartment() => \", error);\n    });\n  }\n  /*======== handleChange() ========*/\n\n\n  handleChange(event) {\n    event.preventDefault();\n    const {\n      name,\n      value\n    } = event.target;\n    console.log(\"name => \", name);\n    console.log(\"value => \", value);\n\n    if (name == 'fromdate' && this.state.todate === '') {\n      this.setState({\n        todate: value,\n        fromdate: value\n      }, () => {\n        this.getData(this.state.startRange, this.state.limitRange);\n        console.log(\"todate => \", this.state.todate);\n        console.log(\"fromdate => \", this.state.fromdate);\n      });\n    } else if (name == 'fromdate' && this.state.todate) {\n      var dateCompare = moment(value).isBefore(this.state.todate) || moment(value).isSame(this.state.todate);\n\n      if (dateCompare === true) {\n        this.setState({\n          fromdate: value\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      } else {\n        swal(\"Alert\", 'From-Date shold be less than To-Date');\n        this.setState({\n          fromdate: this.state.todate\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      }\n    } else if (name == 'todate') {\n      var dateCompare = moment(value).isAfter(this.state.fromdate) || moment(value).isSame(this.state.fromdate);\n\n      if (dateCompare === true) {\n        this.setState({\n          todate: value\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      } else {\n        swal(\"Alert\", 'To-Date shold be greter than From-Date');\n        this.setState({\n          todate: this.state.fromdate\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      }\n    } else {\n      this.setState({\n        [name]: value\n      }, () => {\n        this.getData(this.state.startRange, this.state.limitRange);\n      });\n    }\n  }\n  /*======== previousDate() ========*/\n\n\n  previousDate(event) {\n    event.preventDefault();\n    var id = event.target.id;\n    var targetInputId = id.split(\"-\");\n    console.log(\"previousDate id = \", id);\n\n    if (this.state[targetInputId[0]]) {\n      var selectedDate1 = this.state[targetInputId[0]];\n      var selectedDate = selectedDate1.replace(/-/g, '\\/');\n      var newDate1 = new Date(selectedDate);\n      var newDate2 = new Date(newDate1.getTime() - 24 * 60 * 60 * 1000);\n      var newDate3 = new Date(newDate2);\n      var dd = newDate3.getDate();\n      var mm = newDate3.getMonth() + 1; //January is 0!\n\n      var yyyy = newDate3.getFullYear();\n\n      if (dd < 10) {\n        dd = '0' + dd;\n      }\n\n      if (mm < 10) {\n        mm = '0' + mm;\n      }\n\n      var newDate3 = yyyy + '-' + mm + '-' + dd;\n\n      if (targetInputId[0] === \"todate\") {\n        var dateCompare = moment(newDate3).isAfter(this.state.fromdate) || moment(newDate3).isSame(this.state.fromdate);\n\n        if (dateCompare === true) {\n          this.setState({\n            [targetInputId[0]]: newDate3\n          }, () => {\n            this.getData(this.state.startRange, this.state.limitRange);\n          });\n        } else {\n          swal(\"Alert\", 'To-Date shold be greter than From-Date');\n          this.setState({\n            [targetInputId[0]]: this.state.fromdate\n          }, () => {\n            this.getData(this.state.startRange, this.state.limitRange);\n          });\n        }\n      } else {\n        this.setState({\n          [targetInputId[0]]: newDate3\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      }\n\n      console.log(\"previous newDate = \", newDate3);\n    }\n  }\n  /*======== handleSearchChange() ========*/\n\n\n  nextDate(event) {\n    event.preventDefault();\n    var id = event.target.id;\n    var targetInputId = id.split(\"-\");\n    console.log(\"previousDate id = \", id);\n\n    if (this.state[targetInputId[0]]) {\n      var selectedDate1 = this.state[targetInputId[0]];\n      var selectedDate = selectedDate1.replace(/-/g, '\\/');\n      var newDate1 = new Date(selectedDate);\n      var newDate2 = new Date(newDate1.getTime() + 24 * 60 * 60 * 1000);\n      var newDate3 = new Date(newDate2);\n      var dd = newDate3.getDate();\n      var mm = newDate3.getMonth() + 1; //January is 0!\n\n      var yyyy = newDate3.getFullYear();\n\n      if (dd < 10) {\n        dd = '0' + dd;\n      }\n\n      if (mm < 10) {\n        mm = '0' + mm;\n      }\n\n      var newDate3 = yyyy + '-' + mm + '-' + dd;\n\n      if (targetInputId[0] === \"fromdate\") {\n        var dateCompare = moment(newDate3).isBefore(this.state.todate) || moment(newDate3).isSame(this.state.todate);\n\n        if (dateCompare === true) {\n          this.setState({\n            [targetInputId[0]]: newDate3\n          }, () => {\n            this.getData(this.state.startRange, this.state.limitRange);\n          });\n        } else {\n          swal(\"Alert\", 'From-Date shold be less than To-Date');\n          this.setState({\n            [targetInputId[0]]: this.state.todate\n          }, () => {\n            this.getData(this.state.startRange, this.state.limitRange);\n          });\n        }\n      } else {\n        this.setState({\n          [targetInputId[0]]: newDate3\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      }\n\n      console.log(\"next newDate = \", newDate3);\n    }\n  }\n  /*======== getData() ========*/\n\n\n  getData(startRange, limitRange) {\n    this.setState({\n      masterInvoiceTable: []\n    });\n\n    if (this.state.fromdate && this.state.todate) {\n      var startDate = moment(this.state.fromdate).startOf('day'); // set to 12:00 am today\n\n      var endDate = moment(this.state.todate).endOf('day'); // set to 23:59 pm today\n    } else {\n      var currYear = moment().format('YYYY');\n      var startDate = new Date(\"1/1/\" + currYear);\n      var endDate = new Date(startDate.getFullYear(), 11, 31);\n    }\n\n    var formvalues = {\n      company: this.state.company,\n      department: this.state.department,\n      startDate: startDate,\n      endDate: endDate,\n      startRange: startRange,\n      limitRange: limitRange,\n      status: \"Unpaid\"\n    };\n    console.log(\"formvalues => \", formvalues);\n    axios.post('/api/invoiceMaster/get/filteredUnpaidMasterBills', formvalues).then(response => {\n      console.log(\"Unpaid Bills data= \", response.data);\n\n      if (response.data && response.data[0].paginatedResults && response.data[0].paginatedResults.length > 0) {\n        var tableData = response.data[0].paginatedResults.map((a, i) => {\n          return {\n            companyName: \"<div class=companyNameCol>\" + a.companyDetails[0].companyName + \"</div>\",\n            invoiceNumber: \"<div class=invoiceNumCol>\" + \"<a class='masterInvoiceNum' aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewPaidMasterInvoice('\" + a._id + \"')>\" + a.invoiceNumber + \"</a></div>\",\n            amount: \"<div class=amountCol><i class='fa fa-inr faIcon'></i>\" + a.payableAmount.toLocaleString() + \"</div>\",\n            gst: \"<div class=gstCol><i class='fa fa-inr faIcon'></i>\" + a.tax.toLocaleString(undefined, {\n              maximumFractionDigits: 2\n            }) + \"</div>\",\n            payment: \"<div class=paymentCol><i class='fa fa-inr faIcon'></i>\" + a.payment.toLocaleString() + \"</div>\",\n            balance: \"<div class=balanceCol><i class='fa fa-inr faIcon'></i>\" + (a.balance ? a.balance.toLocaleString() : 0) + \"</div>\",\n            status: \"<div class=\" + a.status.toLowerCase() + \">\" + a.status + \"</div>\",\n            action: \"<div class='actionButtons unpaiInvoiceAction'>\" + \"<a aria-hidden='true' title='Click to Change Status to Paid' id='\" + a._id + \"' onclick=window.changeStatusToPaid('\" + a._id + \"')>Paid</a>\" + \"<a aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewMasterInvoice('\" + a._id + \"')><i class='fa fa-eye'></i></a>\" + \"</div>\",\n            id: a._id\n          };\n        });\n        this.setState({\n          masterInvoiceTable: tableData,\n          RecordsCount: response.data[0].totalCount && response.data[0].totalCount.length > 0 ? response.data[0].totalCount[0].count : 0\n        }, () => {});\n      } else {\n        this.setState({\n          masterInvoiceTable: []\n        });\n      }\n    }).catch(err => {\n      console.log(\"Error getData() => \", err);\n    });\n  }\n  /*======== showMoreFilters() ========*/\n\n\n  showMoreFilters(event) {\n    event.preventDefault();\n    var filterBtn = event.target;\n    var element = document.getElementById(\"unpaidBillsMoreFilter\");\n\n    if (element) {\n      $(\"#unpaidBillsMoreFilter\").toggle();\n    }\n\n    if (element.style.display === \"none\") {\n      filterBtn.innerHTML = \"<i class='fa fa-sliders' aria-hidden='true'></i> More Filters\";\n    } else {\n      filterBtn.innerHTML = \"<i class='fa fa-sliders' aria-hidden='true'></i> Hide Filters\";\n    }\n  }\n  /*======== showMoreFilters() ========*/\n\n\n  resetFilters(event) {\n    event.preventDefault();\n    this.setState({\n      company: \"\",\n      department: \"\",\n      fromdate: \"\",\n      todate: \"\"\n    }, () => {\n      this.getAllMasterInvoices(this.state.startRange, this.state.limitRange);\n    });\n  }\n  /*======== showData() ========*/\n\n\n  showData(startRange, limitRange) {\n    if (this.state.company || this.state.department || this.state.fromdate || this.state.todate) {\n      this.getData(startRange, limitRange);\n      console.log(\"filetr\");\n    } else {\n      this.getAllMasterInvoices(startRange, limitRange);\n      console.log(\"normal\");\n    }\n  }\n  /*======== render() ========*/\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding tableComponent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding mrgTop1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-sm-4 col-xs-12  form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 19\n      }\n    }, \"Company\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-select input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"citytype\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-select-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/company.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 77\n      }\n    })), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"company\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.company,\n      ref: \"company\",\n      name: \"company\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 25\n      }\n    }, \"--Select--\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"All\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 25\n      }\n    }, \"Show All\"), this.state.companyArray && this.state.companyArray.length > 0 ? this.state.companyArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 42\n        }\n      }, data.companyName, \" \");\n    }) : /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 34\n      }\n    }, \"No Company Found\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 19\n      }\n    }, \"Department\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-select input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"citytype\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-select-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/department.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 77\n      }\n    })), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"department\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.department,\n      ref: \"department\",\n      name: \"department\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 25\n      }\n    }, \"--Select--\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"All\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 25\n      }\n    }, \"Show All\"), this.state.departmentArray && this.state.departmentArray.length > 0 ? this.state.departmentArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 40\n        }\n      }, data.department, \" \");\n    }) : /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 34\n      }\n    }, \"No Department Found\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 22\n      }\n    }, \"From Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-date input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-date-icon-left\",\n      id: \"fromdate-prev\",\n      onClick: this.previousDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/left-arrow.png\",\n      id: \"fromdate-arrow-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 141\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control custom-date1\",\n      type: \"date\",\n      name: \"fromdate\",\n      id: \"fromdate\",\n      value: this.state.fromdate,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-date-icon-right\",\n      id: \"fromdate-next\",\n      onClick: this.nextDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/right-arrow.png\",\n      id: \"fromdate-arrow-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 138\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 22\n      }\n    }, \"To Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-date input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-date-icon-left\",\n      id: \"todate-prev\",\n      onClick: this.previousDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/left-arrow.png\",\n      id: \"todate-arrow-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 139\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control custom-date1\",\n      type: \"date\",\n      name: \"todate\",\n      id: \"todate\",\n      value: this.state.todate,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-date-icon-right\",\n      id: \"todate-next\",\n      onClick: this.nextDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/right-arrow.png\",\n      id: \"todate-arrow-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 136\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filterButton\",\n      onClick: this.showMoreFilters.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-sliders\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 22\n      }\n    }), \" More Filters\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resetfilterButton\",\n      onClick: this.resetFilters.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-refresh\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 22\n      }\n    }), \" Reset Filters\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding generateBillMoreFilter\",\n      id: \"unpaidBillsMoreFilter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 mrgTop1 noMoreFilters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 19\n      }\n    }, \"No More Filters\")), /*#__PURE__*/React.createElement(InvoiceTable, {\n      tableHeading: this.state.tableHeading,\n      dataCount: this.state.RecordsCount,\n      tableData: this.state.masterInvoiceTable,\n      tableObjects: this.state.tableObjects,\n      getIds: this.getUnpaidIds.bind(this),\n      tableId: this.state.tableId,\n      getData: this.showData.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 12\n      }\n    }));\n  }\n\n}\n\nexport default withRouter(UnpaidMasterBills);","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/BillingManagement/BillingTabs/UnpaidMasterBills.js"],"names":["React","Component","Route","withRouter","swal","axios","$","jQuery","moment","InvoiceTable","UnpaidMasterBills","constructor","props","state","company","companyArray","department","departmentArray","fromdate","todate","idArray","tableId","RecordsCount","masterInvoiceTable","tableObjects","paginationApply","searchApply","tableHeading","companyName","invoiceNumber","amount","gst","payment","balance","status","action","startRange","limitRange","viewMasterInvoice","bind","changeStatusToPaid","toggleInvoices","showData","componentDidMount","getCompany","getDepartment","getAllMasterInvoices","user_ID","localStorage","getItem","setState","window","componentWillReceiveProps","nextprops","id","console","log","history","push","limits","post","then","response","data","paginatedResults","length","tableData","map","a","i","companyDetails","_id","payableAmount","toLocaleString","tax","undefined","maximumFractionDigits","toLowerCase","totalCount","count","catch","err","formValues","masterInvoice_id","updatedBy","nModified","getUnpaidIds","ids","get","error","handleChange","event","preventDefault","name","value","target","getData","dateCompare","isBefore","isSame","isAfter","previousDate","targetInputId","split","selectedDate1","selectedDate","replace","newDate1","Date","newDate2","getTime","newDate3","dd","getDate","mm","getMonth","yyyy","getFullYear","nextDate","startDate","startOf","endDate","endOf","currYear","format","formvalues","showMoreFilters","filterBtn","element","document","getElementById","toggle","style","display","innerHTML","resetFilters","render"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\nimport {Route, withRouter}   from 'react-router-dom';\nimport swal                  from 'sweetalert';\nimport axios \t\t\t\t\t  from 'axios';\nimport $ \t\t\t\t\t\t  from 'jquery';\nimport jQuery \t\t\t\t\t  from 'jquery';\nimport moment                from 'moment';\nimport 'jquery-validation';\n\nimport InvoiceTable from '../InvoiceTable/InvoiceTable.js';\n\nclass UnpaidMasterBills extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n         company              : \"\",\n         companyArray         : [],\n         department           : \"\",\n         departmentArray      : [],\n         fromdate             : '',\n         todate               : '',\n         idArray              : [],\n         tableId              : \"UnpaidBills\",\n   \t\tRecordsCount         : '',\n         masterInvoiceTable   : [],\n   \t   tableObjects         : {\n                                    paginationApply  : true,\n                                    searchApply      : false\n                                },\n   \t   tableHeading         : {\n     \t\t\t\t\t                  companyName      : \"DESCRIPTION\",\n                                    invoiceNumber    : \"INVOICE NO.\",\n                                    amount           : \"AMOUNT\",\n                                    gst              : \"GST\",\n                                    payment          : \"PAYMENT\",\n                                    balance          : \"BALANCE\",\n                                    status           : \"STATUS\",\n                                    action           : \"ACTIONS\"\n     \t    \t\t\t\t           },\n         startRange           : 0,\n         limitRange           : 10,\n   \t}\n\n      this.viewMasterInvoice  = this.viewMasterInvoice.bind(this);\n      this.changeStatusToPaid = this.changeStatusToPaid.bind(this);\n      this.toggleInvoices     = this.toggleInvoices.bind(this);\n      this.showData           = this.showData.bind(this);\n   }\n\n   /*======== componentDidMount() ========*/\n   componentDidMount(){      \n      this.getCompany();\n      this.getDepartment();\n      this.getAllMasterInvoices(this.state.startRange, this.state.limitRange);\n\n      const user_ID = localStorage.getItem(\"user_ID\");\n      this.setState({\n          user_ID      : user_ID,\n      }, ()=>{});\n      \n      window.viewMasterInvoice  = this.viewMasterInvoice;\n      window.changeStatusToPaid = this.changeStatusToPaid;\n      window.toggleInvoices     = this.toggleInvoices;\n   }\n\n   /*======== componentWillReceiveProps() ========*/\n   componentWillReceiveProps(nextprops){\n      this.getAllMasterInvoices(this.state.startRange, this.state.limitRange);\n   }\n\n   /*======== viewMasterInvoice() ========*/\n   viewMasterInvoice(id){\n      console.log(\"view id = \", id);\n      this.props.history.push('/view-receipt/'+id);\n   }\n\n   /*======= toggleInvoices() =======*/\n   toggleInvoices(id){\n      // console.log(\"toggle id = \",id);\n      // var element = document.getElementById(\"invoices-\"+id);\n\n      // console.log(\"element = \",element);\n      // console.log(\"style = \",element.style.display);\n      // if (element.style.display === \"none\") {\n      //     element.style.display = \"block\";\n      // } else {\n      //     element.style.display = \"none\";\n      //  }\n      // if (id === (\"invoiceCount-\"+id)) {\n      //   $(\"#invoices-\"+id).toggle();\n      // }\n      console.log(\"view id = \", id);\n      this.props.history.push('/view-receipt/'+id);\n   }\n\n   /*======== getAllMasterInvoices() ========*/\n   getAllMasterInvoices(startRange, limitRange){\n      var limits = {\n         startRange : startRange,\n         limitRange : limitRange\n      }\n      axios.post('/api/invoiceMaster/get/unpaid/allList',limits)\n         .then((response)=>{\n            if(response.data && response.data[0].paginatedResults && response.data[0].paginatedResults.length > 0){ \n               console.log('Master Invoice => ',response.data)\n               var tableData = response.data[0].paginatedResults.map((a, i)=>{ \n               \n               return{ \n                  companyName    : \"<div class=companyNameCol>\" + a.companyDetails[0].companyName  + \"</div>\",\n                  invoiceNumber  : \"<div class=invoiceNumCol>\"+\n                                    \"<a class='masterInvoiceNum' aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewPaidMasterInvoice('\" +a._id +\"')>\" + a.invoiceNumber + \n                                   \"</a></div>\",\n                  amount         : \"<div class=amountCol><i class='fa fa-inr faIcon'></i>\"   + (a.payableAmount).toLocaleString()                  + \"</div>\",\n                  gst            : \"<div class=gstCol><i class='fa fa-inr faIcon'></i>\"      + (a.tax).toLocaleString(undefined, {maximumFractionDigits:2})               + \"</div>\",\n                  payment        : \"<div class=paymentCol><i class='fa fa-inr faIcon'></i>\"  + (a.payment).toLocaleString()                        + \"</div>\",\n                  balance        : \"<div class=balanceCol><i class='fa fa-inr faIcon'></i>\"  + (a.balance ? (a.balance).toLocaleString() : 0)      + \"</div>\",\n                  status         : \"<div class=\"+ a.status.toLowerCase() +\">\"                + a.status                         + \"</div>\",\n                  action         : \"<div class='actionButtons unpaiInvoiceAction'>\"+\n                                    \"<a aria-hidden='true' title='Click to Change Status to Paid' id='\" + a._id + \"' onclick=window.changeStatusToPaid('\" +a._id +\"')>Paid</a>\"+\n                                    \"<a aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewMasterInvoice('\" +a._id +\"')><i class='fa fa-eye'></i></a>\"+\n                                  \"</div>\",\n                  id             : a._id\n               }                \n            }) ;\n            this.setState({\n                masterInvoiceTable : tableData,\n                RecordsCount : response.data[0].totalCount && response.data[0].totalCount.length > 0 ? response.data[0].totalCount[0].count : 0\n            })\n         }\n      })\n      .catch((err)=>{\n        console.log(\"Error getAllMasterInvoices => \",err);      \n      })\n   }\n\n  /*======== changeStatusToPaid() ========*/\n   changeStatusToPaid(id){\n      console.log(\"masterInvoice Id = \", id);\n      if(id){\n         var formValues = {\n            masterInvoice_id : id,\n            updatedBy        : this.state.user_ID\n         }\n\n         axios.post('/api/invoiceMaster/changeStatusToPaid',formValues)\n              .then((response)=>{   \n                  console.log('Master Invoice => ',response.data);        \n                  if(response.data.nModified){ \n                     swal(\"Done!\", \"Bill Paid...\");\n                     this.getAllMasterInvoices(this.state.startRange, this.state.limitRange);          \n                  }\n               })\n              .catch((err)=>{\n                  console.log(\"Error changeStatusToPaid = \",err);      \n              })\n      }\n   }\n\n   /*======== getIds() ========*/\n   getUnpaidIds(ids){\n      console.log('ids => ',ids)\n      this.setState({idArray:ids})\n   }\n\n   /*======== getCompany() ========*/\n   getCompany() {\n      axios.get('/api/entitymaster/getAllEntities')\n         .then((response) => {\n            this.setState({\n               companyArray: response.data\n            }, () => {\n               console.log(\"Company Array => \", this.state.companyArray);\n            })\n         }).catch(function (error) {\n               console.log(\"Error getCompany() => \", error);\n         });\n   }\n\n   /*======== getDepartment() ========*/\n   getDepartment() {\n      axios.get('/api/departmentmaster/get/list')\n         .then((response) => {\n            this.setState({\n               departmentArray : response.data\n            }, () => {\n               console.log(\"Department Array => \", this.state.departmentArray);\n            })\n         }).catch(function (error) {\n               console.log(\"Error getDepartment() => \", error);\n         });\n  }\n\n   /*======== handleChange() ========*/\n   handleChange(event) {\n      event.preventDefault();\n      const { name, value } = event.target;\n\n      console.log(\"name => \", name);\n      console.log(\"value => \", value);\n        \n      if(name == 'fromdate' && this.state.todate === ''){\n         this.setState({\n            todate      : value,\n            fromdate    : value\n         },()=>{\n            this.getData(this.state.startRange, this.state.limitRange);\n            console.log(\"todate => \", this.state.todate);\n            console.log(\"fromdate => \", this.state.fromdate);\n         });  \n      }else if(name == 'fromdate' && this.state.todate){\n         var dateCompare =  (moment(value).isBefore(this.state.todate) || moment(value).isSame(this.state.todate));\n\n         if(dateCompare === true){\n            this.setState({\n               fromdate : value,\n            },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n         }else{\n            swal(\"Alert\",'From-Date shold be less than To-Date');\n               this.setState({\n                  fromdate : this.state.todate,\n            },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n         }\n      }else if(name == 'todate'){\n         var dateCompare =  (moment(value).isAfter(this.state.fromdate) || moment(value).isSame(this.state.fromdate));\n\n         if(dateCompare === true){\n            this.setState({\n               todate : value,\n            },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n         }else{\n            swal(\"Alert\",'To-Date shold be greter than From-Date');\n            this.setState({\n               todate : this.state.fromdate,\n            },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n         }\n      }else{\n         this.setState({\n            [name] : value\n         },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n      }\n   }\n\n   /*======== previousDate() ========*/\n   previousDate(event){\n      event.preventDefault();\n      var id            = event.target.id;\n      var targetInputId = id.split(\"-\");\n\n      console.log(\"previousDate id = \",id);\n      if (this.state[targetInputId[0]]) {\n         var selectedDate1 = this.state[targetInputId[0]];\n         var selectedDate  = selectedDate1.replace(/-/g, '\\/');\n\n         var newDate1      = new Date(selectedDate);\n         var newDate2      = new Date(newDate1.getTime() - (24*60*60*1000) );\n         var newDate3      = new Date(newDate2);\n\n         var dd            = newDate3.getDate();\n         var mm            = newDate3.getMonth()+1; //January is 0!\n         var yyyy          = newDate3.getFullYear();\n\n         if(dd < 10){\n             dd = '0' + dd;\n         }\n         if(mm < 10){\n             mm = '0' + mm;\n         }\n\n         var newDate3 = yyyy+'-'+mm+'-'+dd;\n\n         if (targetInputId[0] === \"todate\"){            \n            var dateCompare =  (moment(newDate3).isAfter(this.state.fromdate) || moment(newDate3).isSame(this.state.fromdate));\n\n            if(dateCompare === true){\n               this.setState({\n                  [targetInputId[0]] : newDate3,\n               },()=>{this.getData(this.state.startRange, this.state.limitRange); });\n            }else{\n               swal(\"Alert\",'To-Date shold be greter than From-Date');\n               this.setState({\n                  [targetInputId[0]] : this.state.fromdate,\n               },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n            }\n         }else{\n            this.setState({\n               [targetInputId[0]] : newDate3,\n            },()=>{this.getData(this.state.startRange, this.state.limitRange); });\n         }\n         console.log(\"previous newDate = \",newDate3);\n      }\n   }\n\n   /*======== handleSearchChange() ========*/\n   nextDate(event){\n      event.preventDefault();\n      var id            = event.target.id;\n      var targetInputId = id.split(\"-\");\n\n      console.log(\"previousDate id = \",id);        \n      if (this.state[targetInputId[0]]) {\n         var selectedDate1 = this.state[targetInputId[0]];\n         var selectedDate  = selectedDate1.replace(/-/g, '\\/');\n\n         var newDate1      = new Date(selectedDate);\n         var newDate2      = new Date(newDate1.getTime() + (24*60*60*1000) );\n         var newDate3      = new Date(newDate2);\n\n         var dd            = newDate3.getDate();\n         var mm            = newDate3.getMonth()+1; //January is 0!\n         var yyyy          = newDate3.getFullYear();\n\n         if(dd < 10){\n             dd = '0'+dd;\n         }\n         if(mm < 10){\n             mm = '0' + mm;\n         }\n         \n         var newDate3 = yyyy+'-'+mm+'-'+dd;\n\n         if (targetInputId[0] === \"fromdate\"){            \n            var dateCompare =  (moment(newDate3).isBefore(this.state.todate) || moment(newDate3).isSame(this.state.todate));\n\n            if(dateCompare === true){\n               this.setState({\n                  [targetInputId[0]] : newDate3,\n               },()=>{this.getData(this.state.startRange, this.state.limitRange); });\n            }else{\n               swal(\"Alert\",'From-Date shold be less than To-Date');\n               this.setState({\n                  [targetInputId[0]] : this.state.todate,\n               },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n            }\n         }else{\n            this.setState({\n               [targetInputId[0]] : newDate3,\n            },()=>{this.getData(this.state.startRange, this.state.limitRange); });\n         }\n         console.log(\"next newDate = \",newDate3);\n     }\n   }\n\n   /*======== getData() ========*/\n   getData(startRange, limitRange){\n      this.setState({\n         masterInvoiceTable : []\n      })\n      if(this.state.fromdate && this.state.todate){\n         var startDate = moment(this.state.fromdate).startOf('day'); // set to 12:00 am today\n         var endDate   = moment(this.state.todate).endOf('day'); // set to 23:59 pm today\n      }else{\n         var currYear  = moment().format('YYYY');\n         var startDate = new Date(\"1/1/\" + currYear);\n         var endDate   = new Date (startDate.getFullYear(), 11, 31);\n      }\n        \n      var formvalues = {\n         company     : this.state.company,\n         department  : this.state.department,\n         startDate   : startDate,\n         endDate     : endDate,\n         startRange  : startRange,\n         limitRange  : limitRange,\n         status      : \"Unpaid\",\n      }\n      console.log(\"formvalues => \",formvalues);\n         axios.post('/api/invoiceMaster/get/filteredUnpaidMasterBills',formvalues)\n           .then((response)=>{\n               console.log(\"Unpaid Bills data= \", response.data);\n\n               if(response.data && response.data[0].paginatedResults && response.data[0].paginatedResults.length > 0){\n                  var tableData = response.data[0].paginatedResults.map((a, i)=>{ \n                  return{ \n                     companyName   : \"<div class=companyNameCol>\" + a.companyDetails[0].companyName  + \"</div>\",\n                     invoiceNumber : \"<div class=invoiceNumCol>\"+\n                                       \"<a class='masterInvoiceNum' aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewPaidMasterInvoice('\" +a._id +\"')>\" + a.invoiceNumber + \n                                     \"</a></div>\",\n                     amount        : \"<div class=amountCol><i class='fa fa-inr faIcon'></i>\"   + (a.payableAmount).toLocaleString()                  + \"</div>\",\n                     gst           : \"<div class=gstCol><i class='fa fa-inr faIcon'></i>\"      + (a.tax).toLocaleString(undefined, {maximumFractionDigits:2})               + \"</div>\",\n                     payment       : \"<div class=paymentCol><i class='fa fa-inr faIcon'></i>\"  + (a.payment).toLocaleString()                        + \"</div>\",\n                     balance       : \"<div class=balanceCol><i class='fa fa-inr faIcon'></i>\"  + (a.balance ? (a.balance).toLocaleString() : 0)      + \"</div>\",\n                     status        : \"<div class=\"+ a.status.toLowerCase() +\">\"                + a.status                         + \"</div>\",\n                     action        : \"<div class='actionButtons unpaiInvoiceAction'>\"+\n                                       \"<a aria-hidden='true' title='Click to Change Status to Paid' id='\" + a._id + \"' onclick=window.changeStatusToPaid('\" +a._id +\"')>Paid</a>\"+\n                                       \"<a aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewMasterInvoice('\" +a._id +\"')><i class='fa fa-eye'></i></a>\"+\n                                     \"</div>\",\n                     id            : a._id\n                  }\n                    \n               });\n               this.setState({\n                  masterInvoiceTable : tableData,\n                  RecordsCount       : response.data[0].totalCount && response.data[0].totalCount.length > 0 ? response.data[0].totalCount[0].count : 0,\n               }, ()=>{})\n            }else{\n               this.setState({\n                  masterInvoiceTable : []\n               })\n            }\n        })\n        .catch((err)=>{\n            console.log(\"Error getData() => \", err);\n        })\n   }\n\n   /*======== showMoreFilters() ========*/\n   showMoreFilters(event){\n      event.preventDefault();\n      var filterBtn = event.target;\n      var element   = document.getElementById(\"unpaidBillsMoreFilter\");\n       \n      if (element) {\n         $(\"#unpaidBillsMoreFilter\").toggle();\n      }\n      if ((element.style.display) === \"none\") {\n         filterBtn.innerHTML   = \"<i class='fa fa-sliders' aria-hidden='true'></i> More Filters\";\n      } else {\n         filterBtn.innerHTML   = \"<i class='fa fa-sliders' aria-hidden='true'></i> Hide Filters\";\n      }\n   }\n\n   /*======== showMoreFilters() ========*/\n   resetFilters(event){\n      event.preventDefault();\n        \n      this.setState({\n         company     : \"\",\n         department  : \"\",\n         fromdate    : \"\",\n         todate      : \"\"\n      }, ()=>{\n         this.getAllMasterInvoices(this.state.startRange, this.state.limitRange);\n      })\n   }\n\n   /*======== showData() ========*/\n    showData(startRange, limitRange){\n        if (this.state.company   || this.state.department  || \n            this.state.fromdate  || this.state.todate) {\n            this.getData(startRange, limitRange);\n            console.log(\"filetr\");\n        }else{\n            this.getAllMasterInvoices(startRange, limitRange);\n            console.log(\"normal\");\n        }\n    } \n\n   /*======== render() ========*/\n\trender() {\n\t\treturn (\n         <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding tableComponent\">\n            <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding mrgTop1\">\n               <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12  form-group\">\n                  <label className=\"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\">Company</label>\n                  <div className=\"custom-select input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"citytype\" >                      \n                     <span className=\"input-group-addon custom-select-icon\"><img src=\"/billingManagement/company.png\"/></span>\n                     <select id=\"company\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.company} ref=\"company\" name=\"company\" onChange={this.handleChange.bind(this)}>\n                        <option disabled value=\"\">--Select--</option>\n                        <option value=\"All\">Show All</option>\n                           {\n                              this.state.companyArray && this.state.companyArray.length > 0 \n                              ?\n                                 this.state.companyArray.map((data, i)=>{\n                                     return(\n                                         <option key={i} value={data._id}>{data.companyName} </option>\n                                     );\n                                 })\n                              :\n                                 <option disabled value=\"\">No Company Found</option>\n                           }\n                     </select>\n                  </div>\n               </div>\n               <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12\">\n                  <label className=\"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\">Department</label>\n                  <div className=\"custom-select input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"citytype\" >                      \n                     <span className=\"input-group-addon custom-select-icon\"><img src=\"/billingManagement/department.png\"/></span>\n                     <select id=\"department\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.department} ref=\"department\" name=\"department\" onChange={this.handleChange.bind(this)}>\n                        <option disabled value=\"\">--Select--</option>\n                        <option value=\"All\">Show All</option>\n                           {\n                              this.state.departmentArray && this.state.departmentArray.length > 0 \n                              ?\n                                 this.state.departmentArray.map((data, i)=>{\n                                    return(\n                                       <option key={i} value={data._id}>{data.department} </option>\n                                    );\n                                 })\n                              :\n                                 <option disabled value=\"\">No Department Found</option>\n                           }\n                        </select>\n                     </div>\n                  </div>\n                  <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12\">\n                     <label className=\"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\">From Date</label>\n                     <div className=\"custom-date input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                        <span className=\"input-group-addon custom-date-icon-left\" id=\"fromdate-prev\" onClick={this.previousDate.bind(this)}><img src=\"/billingManagement/left-arrow.png\" id=\"fromdate-arrow-left\"/></span>\n                        <input className=\"form-control custom-date1\" type=\"date\" name=\"fromdate\" id=\"fromdate\" value={this.state.fromdate} onChange={this.handleChange.bind(this)}/>\n                        <span className=\"input-group-addon custom-date-icon-right\" id=\"fromdate-next\" onClick={this.nextDate.bind(this)}><img src=\"/billingManagement/right-arrow.png\" id=\"fromdate-arrow-right\"/></span>                            \n                     </div>\n                  </div>                          \n                  <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12\">\n                     <label className=\"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\">To Date</label>\n                     <div className=\"custom-date input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                        <span className=\"input-group-addon custom-date-icon-left\" id=\"todate-prev\" onClick={this.previousDate.bind(this)}><img src=\"/billingManagement/left-arrow.png\" id=\"todate-arrow-left\"/></span>\n                        <input className=\"form-control custom-date1\" type=\"date\" name=\"todate\" id=\"todate\" value={this.state.todate} onChange={this.handleChange.bind(this)}/>\n                        <span className=\"input-group-addon custom-date-icon-right\" id=\"todate-next\" onClick={this.nextDate.bind(this)}><img src=\"/billingManagement/right-arrow.png\" id=\"todate-arrow-right\"/></span>                            \n                     </div>\n                  </div>                          \n               </div>\n               <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\"> \n                  <div className=\"filterButton\" onClick={this.showMoreFilters.bind(this)}>\n                     <i className=\"fa fa-sliders\" aria-hidden=\"true\"></i> More Filters\n                  </div>\n                  <div className=\"resetfilterButton\" onClick={this.resetFilters.bind(this)}>\n                     <i className=\"fa fa-refresh\" aria-hidden=\"true\"></i> Reset Filters\n                  </div>\n               </div>\n               <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding generateBillMoreFilter\" id=\"unpaidBillsMoreFilter\"> \n                  <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 mrgTop1 noMoreFilters\">                              \n                     No More Filters                         \n                  </div>\n               </div>\n      \t\t   <InvoiceTable \n                  tableHeading = {this.state.tableHeading}\n                  dataCount    = {this.state.RecordsCount}\n                  tableData    = {this.state.masterInvoiceTable}\n                  tableObjects = {this.state.tableObjects}\n                  getIds       = {this.getUnpaidIds.bind(this)}\n                  tableId      = {this.state.tableId}\n                  getData      = {this.showData.bind(this)}\n               />\t       \t\n      \t</div>\n\t   );\t\t\n\t}\n}\n\nexport default withRouter(UnpaidMasterBills);"]},"metadata":{},"sourceType":"module"}