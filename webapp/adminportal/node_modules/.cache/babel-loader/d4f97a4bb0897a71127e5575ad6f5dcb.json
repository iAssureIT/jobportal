{"ast":null,"code":"import { a as _createClass, b as _classCallCheck, c as _objectWithoutProperties } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { objectIncludes, DIRECTION } from '../core/utils.js';\nimport ActionDetails from '../core/action-details.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport '../masked/base.js';\nimport createMask, { maskedClass } from '../masked/factory.js';\nimport '../masked/pattern/input-definition.js';\nimport '../masked/pattern/fixed-definition.js';\nimport '../masked/pattern/chunk-tail-details.js';\nimport '../masked/regexp.js';\nimport '../masked/pattern.js';\nimport '../masked/range.js';\nimport MaskedDate from '../masked/date.js';\nimport MaskElement from './mask-element.js';\nimport HTMLMaskElement from './html-mask-element.js';\nimport HTMLContenteditableMaskElement from './html-contenteditable-mask-element.js';\n/** Listens to element events and controls changes between element and {@link Masked} */\n\nvar InputMask = /*#__PURE__*/function () {\n  /**\r\n    View element\r\n    @readonly\r\n  */\n\n  /**\r\n    Internal {@link Masked} model\r\n    @readonly\r\n  */\n\n  /**\r\n    @param {MaskElement|HTMLInputElement|HTMLTextAreaElement} el\r\n    @param {Object} opts\r\n  */\n  function InputMask(el, opts) {\n    _classCallCheck(this, InputMask);\n\n    this.el = el instanceof MaskElement ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new HTMLContenteditableMaskElement(el) : new HTMLMaskElement(el);\n    this.masked = createMask(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n\n    this._bindEvents(); // refresh\n\n\n    this.updateValue();\n\n    this._onChange();\n  }\n  /** Read or update mask */\n\n\n  _createClass(InputMask, [{\n    key: \"maskEquals\",\n    value: function maskEquals(mask) {\n      return mask == null || mask === this.masked.mask || mask === Date && this.masked instanceof MaskedDate;\n    }\n  }, {\n    key: \"_bindEvents\",\n\n    /**\r\n      Starts listening to element events\r\n      @protected\r\n    */\n    value: function _bindEvents() {\n      this.el.bindEvents({\n        selectionChange: this._saveSelection,\n        input: this._onInput,\n        drop: this._onDrop,\n        click: this._onClick,\n        focus: this._onFocus,\n        commit: this._onChange\n      });\n    }\n    /**\r\n      Stops listening to element events\r\n      @protected\r\n     */\n\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      if (this.el) this.el.unbindEvents();\n    }\n    /**\r\n      Fires custom event\r\n      @protected\r\n     */\n\n  }, {\n    key: \"_fireEvent\",\n    value: function _fireEvent(ev) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var listeners = this._listeners[ev];\n      if (!listeners) return;\n      listeners.forEach(function (l) {\n        return l.apply(void 0, args);\n      });\n    }\n    /**\r\n      Current selection start\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"_saveSelection\",\n\n    /**\r\n      Stores current selection\r\n      @protected\r\n    */\n    value: function _saveSelection()\n    /* ev */\n    {\n      if (this.value !== this.el.value) {\n        console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n      }\n\n      this._selection = {\n        start: this.selectionStart,\n        end: this.cursorPos\n      };\n    }\n    /** Syncronizes model value from view */\n\n  }, {\n    key: \"updateValue\",\n    value: function updateValue() {\n      this.masked.value = this.el.value;\n      this._value = this.masked.value;\n    }\n    /** Syncronizes view from model value, fires change events */\n\n  }, {\n    key: \"updateControl\",\n    value: function updateControl() {\n      var newUnmaskedValue = this.masked.unmaskedValue;\n      var newValue = this.masked.value;\n      var isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n      this._unmaskedValue = newUnmaskedValue;\n      this._value = newValue;\n      if (this.el.value !== newValue) this.el.value = newValue;\n      if (isChanged) this._fireChangeEvents();\n    }\n    /** Updates options with deep equal check, recreates @{link Masked} model if mask type changes */\n\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      var mask = opts.mask,\n          restOpts = _objectWithoutProperties(opts, [\"mask\"]);\n\n      var updateMask = !this.maskEquals(mask);\n      var updateOpts = !objectIncludes(this.masked, restOpts);\n      if (updateMask) this.mask = mask;\n      if (updateOpts) this.masked.updateOptions(restOpts);\n      if (updateMask || updateOpts) this.updateControl();\n    }\n    /** Updates cursor */\n\n  }, {\n    key: \"updateCursor\",\n    value: function updateCursor(cursorPos) {\n      if (cursorPos == null) return;\n      this.cursorPos = cursorPos; // also queue change cursor for mobile browsers\n\n      this._delayUpdateCursor(cursorPos);\n    }\n    /**\r\n      Delays cursor update to support mobile browsers\r\n      @private\r\n    */\n\n  }, {\n    key: \"_delayUpdateCursor\",\n    value: function _delayUpdateCursor(cursorPos) {\n      var _this = this;\n\n      this._abortUpdateCursor();\n\n      this._changingCursorPos = cursorPos;\n      this._cursorChanging = setTimeout(function () {\n        if (!_this.el) return; // if was destroyed\n\n        _this.cursorPos = _this._changingCursorPos;\n\n        _this._abortUpdateCursor();\n      }, 10);\n    }\n    /**\r\n      Fires custom events\r\n      @protected\r\n    */\n\n  }, {\n    key: \"_fireChangeEvents\",\n    value: function _fireChangeEvents() {\n      this._fireEvent('accept', this._inputEvent);\n\n      if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\n    }\n    /**\r\n      Aborts delayed cursor update\r\n      @private\r\n    */\n\n  }, {\n    key: \"_abortUpdateCursor\",\n    value: function _abortUpdateCursor() {\n      if (this._cursorChanging) {\n        clearTimeout(this._cursorChanging);\n        delete this._cursorChanging;\n      }\n    }\n    /** Aligns cursor to nearest available position */\n\n  }, {\n    key: \"alignCursor\",\n    value: function alignCursor() {\n      this.cursorPos = this.masked.nearestInputPos(this.cursorPos, DIRECTION.LEFT);\n    }\n    /** Aligns cursor only if selection is empty */\n\n  }, {\n    key: \"alignCursorFriendly\",\n    value: function alignCursorFriendly() {\n      if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n\n      this.alignCursor();\n    }\n    /** Adds listener on custom event */\n\n  }, {\n    key: \"on\",\n    value: function on(ev, handler) {\n      if (!this._listeners[ev]) this._listeners[ev] = [];\n\n      this._listeners[ev].push(handler);\n\n      return this;\n    }\n    /** Removes custom event listener */\n\n  }, {\n    key: \"off\",\n    value: function off(ev, handler) {\n      if (!this._listeners[ev]) return this;\n\n      if (!handler) {\n        delete this._listeners[ev];\n        return this;\n      }\n\n      var hIndex = this._listeners[ev].indexOf(handler);\n\n      if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n      return this;\n    }\n    /** Handles view input event */\n\n  }, {\n    key: \"_onInput\",\n    value: function _onInput(e) {\n      this._inputEvent = e;\n\n      this._abortUpdateCursor(); // fix strange IE behavior\n\n\n      if (!this._selection) return this.updateValue();\n      var details = new ActionDetails( // new state\n      this.el.value, this.cursorPos, // old state\n      this.value, this._selection);\n      var oldRawValue = this.masked.rawInputValue;\n      var offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection).offset; // force align in remove direction only if no input chars were removed\n      // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n\n      var removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : DIRECTION.NONE;\n      var cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n      this.updateControl();\n      this.updateCursor(cursorPos);\n      delete this._inputEvent;\n    }\n    /** Handles view change event and commits model value */\n\n  }, {\n    key: \"_onChange\",\n    value: function _onChange() {\n      if (this.value !== this.el.value) {\n        this.updateValue();\n      }\n\n      this.masked.doCommit();\n      this.updateControl();\n\n      this._saveSelection();\n    }\n    /** Handles view drop event, prevents by default */\n\n  }, {\n    key: \"_onDrop\",\n    value: function _onDrop(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onFocus\",\n    value: function _onFocus(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onClick\",\n    value: function _onClick(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Unbind view events and removes element reference */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindEvents(); // $FlowFixMe why not do so?\n\n\n      this._listeners.length = 0; // $FlowFixMe\n\n      delete this.el;\n    }\n  }, {\n    key: \"mask\",\n    get: function get() {\n      return this.masked.mask;\n    },\n    set: function set(mask) {\n      if (this.maskEquals(mask)) return;\n\n      if (!(mask instanceof IMask.Masked) && this.masked.constructor === maskedClass(mask)) {\n        this.masked.updateOptions({\n          mask: mask\n        });\n        return;\n      }\n\n      var masked = createMask({\n        mask: mask\n      });\n      masked.unmaskedValue = this.masked.unmaskedValue;\n      this.masked = masked;\n    }\n    /** Raw value */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(str) {\n      this.masked.value = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Unmasked value */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._unmaskedValue;\n    },\n    set: function set(str) {\n      this.masked.unmaskedValue = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Typed unmasked value */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.masked.typedValue;\n    },\n    set: function set(val) {\n      this.masked.typedValue = val;\n      this.updateControl();\n      this.alignCursor();\n    }\n  }, {\n    key: \"selectionStart\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n    }\n    /** Current cursor position */\n\n  }, {\n    key: \"cursorPos\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n    },\n    set: function set(pos) {\n      if (!this.el || !this.el.isActive) return;\n      this.el.select(pos, pos);\n\n      this._saveSelection();\n    }\n  }]);\n\n  return InputMask;\n}();\n\nIMask.InputMask = InputMask;\nexport default InputMask;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/node_modules/imask/esm/controls/input.js"],"names":["a","_createClass","b","_classCallCheck","c","_objectWithoutProperties","objectIncludes","DIRECTION","ActionDetails","IMask","createMask","maskedClass","MaskedDate","MaskElement","HTMLMaskElement","HTMLContenteditableMaskElement","InputMask","el","opts","isContentEditable","tagName","masked","_listeners","_value","_unmaskedValue","_saveSelection","bind","_onInput","_onChange","_onDrop","_onFocus","_onClick","alignCursor","alignCursorFriendly","_bindEvents","updateValue","key","value","maskEquals","mask","Date","bindEvents","selectionChange","input","drop","click","focus","commit","_unbindEvents","unbindEvents","_fireEvent","ev","_len","arguments","length","args","Array","_key","listeners","forEach","l","apply","console","warn","_selection","start","selectionStart","end","cursorPos","updateControl","newUnmaskedValue","unmaskedValue","newValue","isChanged","_fireChangeEvents","updateOptions","restOpts","updateMask","updateOpts","updateCursor","_delayUpdateCursor","_this","_abortUpdateCursor","_changingCursorPos","_cursorChanging","setTimeout","_inputEvent","isComplete","clearTimeout","nearestInputPos","LEFT","on","handler","push","off","hIndex","indexOf","splice","e","details","oldRawValue","rawInputValue","offset","startChangePos","removed","inserted","removeDirection","NONE","doCommit","preventDefault","stopPropagation","destroy","get","set","Masked","constructor","str","typedValue","val","selectionEnd","pos","isActive","select"],"mappings":"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","sourcesContent":["import { a as _createClass, b as _classCallCheck, c as _objectWithoutProperties } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { objectIncludes, DIRECTION } from '../core/utils.js';\nimport ActionDetails from '../core/action-details.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport '../masked/base.js';\nimport createMask, { maskedClass } from '../masked/factory.js';\nimport '../masked/pattern/input-definition.js';\nimport '../masked/pattern/fixed-definition.js';\nimport '../masked/pattern/chunk-tail-details.js';\nimport '../masked/regexp.js';\nimport '../masked/pattern.js';\nimport '../masked/range.js';\nimport MaskedDate from '../masked/date.js';\nimport MaskElement from './mask-element.js';\nimport HTMLMaskElement from './html-mask-element.js';\nimport HTMLContenteditableMaskElement from './html-contenteditable-mask-element.js';\n\n/** Listens to element events and controls changes between element and {@link Masked} */\n\nvar InputMask =\n/*#__PURE__*/\nfunction () {\n  /**\r\n    View element\r\n    @readonly\r\n  */\n\n  /**\r\n    Internal {@link Masked} model\r\n    @readonly\r\n  */\n\n  /**\r\n    @param {MaskElement|HTMLInputElement|HTMLTextAreaElement} el\r\n    @param {Object} opts\r\n  */\n  function InputMask(el, opts) {\n    _classCallCheck(this, InputMask);\n\n    this.el = el instanceof MaskElement ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new HTMLContenteditableMaskElement(el) : new HTMLMaskElement(el);\n    this.masked = createMask(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n\n    this._bindEvents(); // refresh\n\n\n    this.updateValue();\n\n    this._onChange();\n  }\n  /** Read or update mask */\n\n\n  _createClass(InputMask, [{\n    key: \"maskEquals\",\n    value: function maskEquals(mask) {\n      return mask == null || mask === this.masked.mask || mask === Date && this.masked instanceof MaskedDate;\n    }\n  }, {\n    key: \"_bindEvents\",\n\n    /**\r\n      Starts listening to element events\r\n      @protected\r\n    */\n    value: function _bindEvents() {\n      this.el.bindEvents({\n        selectionChange: this._saveSelection,\n        input: this._onInput,\n        drop: this._onDrop,\n        click: this._onClick,\n        focus: this._onFocus,\n        commit: this._onChange\n      });\n    }\n    /**\r\n      Stops listening to element events\r\n      @protected\r\n     */\n\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      if (this.el) this.el.unbindEvents();\n    }\n    /**\r\n      Fires custom event\r\n      @protected\r\n     */\n\n  }, {\n    key: \"_fireEvent\",\n    value: function _fireEvent(ev) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var listeners = this._listeners[ev];\n      if (!listeners) return;\n      listeners.forEach(function (l) {\n        return l.apply(void 0, args);\n      });\n    }\n    /**\r\n      Current selection start\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"_saveSelection\",\n\n    /**\r\n      Stores current selection\r\n      @protected\r\n    */\n    value: function _saveSelection()\n    /* ev */\n    {\n      if (this.value !== this.el.value) {\n        console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n      }\n\n      this._selection = {\n        start: this.selectionStart,\n        end: this.cursorPos\n      };\n    }\n    /** Syncronizes model value from view */\n\n  }, {\n    key: \"updateValue\",\n    value: function updateValue() {\n      this.masked.value = this.el.value;\n      this._value = this.masked.value;\n    }\n    /** Syncronizes view from model value, fires change events */\n\n  }, {\n    key: \"updateControl\",\n    value: function updateControl() {\n      var newUnmaskedValue = this.masked.unmaskedValue;\n      var newValue = this.masked.value;\n      var isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n      this._unmaskedValue = newUnmaskedValue;\n      this._value = newValue;\n      if (this.el.value !== newValue) this.el.value = newValue;\n      if (isChanged) this._fireChangeEvents();\n    }\n    /** Updates options with deep equal check, recreates @{link Masked} model if mask type changes */\n\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      var mask = opts.mask,\n          restOpts = _objectWithoutProperties(opts, [\"mask\"]);\n\n      var updateMask = !this.maskEquals(mask);\n      var updateOpts = !objectIncludes(this.masked, restOpts);\n      if (updateMask) this.mask = mask;\n      if (updateOpts) this.masked.updateOptions(restOpts);\n      if (updateMask || updateOpts) this.updateControl();\n    }\n    /** Updates cursor */\n\n  }, {\n    key: \"updateCursor\",\n    value: function updateCursor(cursorPos) {\n      if (cursorPos == null) return;\n      this.cursorPos = cursorPos; // also queue change cursor for mobile browsers\n\n      this._delayUpdateCursor(cursorPos);\n    }\n    /**\r\n      Delays cursor update to support mobile browsers\r\n      @private\r\n    */\n\n  }, {\n    key: \"_delayUpdateCursor\",\n    value: function _delayUpdateCursor(cursorPos) {\n      var _this = this;\n\n      this._abortUpdateCursor();\n\n      this._changingCursorPos = cursorPos;\n      this._cursorChanging = setTimeout(function () {\n        if (!_this.el) return; // if was destroyed\n\n        _this.cursorPos = _this._changingCursorPos;\n\n        _this._abortUpdateCursor();\n      }, 10);\n    }\n    /**\r\n      Fires custom events\r\n      @protected\r\n    */\n\n  }, {\n    key: \"_fireChangeEvents\",\n    value: function _fireChangeEvents() {\n      this._fireEvent('accept', this._inputEvent);\n\n      if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\n    }\n    /**\r\n      Aborts delayed cursor update\r\n      @private\r\n    */\n\n  }, {\n    key: \"_abortUpdateCursor\",\n    value: function _abortUpdateCursor() {\n      if (this._cursorChanging) {\n        clearTimeout(this._cursorChanging);\n        delete this._cursorChanging;\n      }\n    }\n    /** Aligns cursor to nearest available position */\n\n  }, {\n    key: \"alignCursor\",\n    value: function alignCursor() {\n      this.cursorPos = this.masked.nearestInputPos(this.cursorPos, DIRECTION.LEFT);\n    }\n    /** Aligns cursor only if selection is empty */\n\n  }, {\n    key: \"alignCursorFriendly\",\n    value: function alignCursorFriendly() {\n      if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n\n      this.alignCursor();\n    }\n    /** Adds listener on custom event */\n\n  }, {\n    key: \"on\",\n    value: function on(ev, handler) {\n      if (!this._listeners[ev]) this._listeners[ev] = [];\n\n      this._listeners[ev].push(handler);\n\n      return this;\n    }\n    /** Removes custom event listener */\n\n  }, {\n    key: \"off\",\n    value: function off(ev, handler) {\n      if (!this._listeners[ev]) return this;\n\n      if (!handler) {\n        delete this._listeners[ev];\n        return this;\n      }\n\n      var hIndex = this._listeners[ev].indexOf(handler);\n\n      if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n      return this;\n    }\n    /** Handles view input event */\n\n  }, {\n    key: \"_onInput\",\n    value: function _onInput(e) {\n      this._inputEvent = e;\n\n      this._abortUpdateCursor(); // fix strange IE behavior\n\n\n      if (!this._selection) return this.updateValue();\n      var details = new ActionDetails( // new state\n      this.el.value, this.cursorPos, // old state\n      this.value, this._selection);\n      var oldRawValue = this.masked.rawInputValue;\n      var offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection).offset; // force align in remove direction only if no input chars were removed\n      // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n\n      var removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : DIRECTION.NONE;\n      var cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n      this.updateControl();\n      this.updateCursor(cursorPos);\n      delete this._inputEvent;\n    }\n    /** Handles view change event and commits model value */\n\n  }, {\n    key: \"_onChange\",\n    value: function _onChange() {\n      if (this.value !== this.el.value) {\n        this.updateValue();\n      }\n\n      this.masked.doCommit();\n      this.updateControl();\n\n      this._saveSelection();\n    }\n    /** Handles view drop event, prevents by default */\n\n  }, {\n    key: \"_onDrop\",\n    value: function _onDrop(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onFocus\",\n    value: function _onFocus(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onClick\",\n    value: function _onClick(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Unbind view events and removes element reference */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindEvents(); // $FlowFixMe why not do so?\n\n\n      this._listeners.length = 0; // $FlowFixMe\n\n      delete this.el;\n    }\n  }, {\n    key: \"mask\",\n    get: function get() {\n      return this.masked.mask;\n    },\n    set: function set(mask) {\n      if (this.maskEquals(mask)) return;\n\n      if (!(mask instanceof IMask.Masked) && this.masked.constructor === maskedClass(mask)) {\n        this.masked.updateOptions({\n          mask: mask\n        });\n        return;\n      }\n\n      var masked = createMask({\n        mask: mask\n      });\n      masked.unmaskedValue = this.masked.unmaskedValue;\n      this.masked = masked;\n    }\n    /** Raw value */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(str) {\n      this.masked.value = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Unmasked value */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._unmaskedValue;\n    },\n    set: function set(str) {\n      this.masked.unmaskedValue = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Typed unmasked value */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.masked.typedValue;\n    },\n    set: function set(val) {\n      this.masked.typedValue = val;\n      this.updateControl();\n      this.alignCursor();\n    }\n  }, {\n    key: \"selectionStart\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n    }\n    /** Current cursor position */\n\n  }, {\n    key: \"cursorPos\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n    },\n    set: function set(pos) {\n      if (!this.el || !this.el.isActive) return;\n      this.el.select(pos, pos);\n\n      this._saveSelection();\n    }\n  }]);\n\n  return InputMask;\n}();\nIMask.InputMask = InputMask;\n\nexport default InputMask;\n"]},"metadata":{},"sourceType":"module"}