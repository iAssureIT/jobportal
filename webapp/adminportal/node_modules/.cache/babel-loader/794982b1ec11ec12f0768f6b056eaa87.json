{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/PackageMaster/PackageMasterForm.js\";\nimport React, { Component } from 'react';\nimport jQuery from 'jquery';\nimport IAssureTable from '../IAssureTable/IAssureTable.jsx';\nimport $ from 'jquery';\nimport './PackageMaster.css';\nimport 'rc-time-picker/assets/index.css';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nclass PackageMaster extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fromTime: \"\",\n      toTime: \"\",\n      packageName: \"\",\n      packageTypeArray: [],\n      tableHeading: {\n        packageType: \"Package Type\",\n        packageName: \"Package Name\",\n        fixCharges: \"Fixed Charges (₹)\",\n        maxHours: \"Max Hours\",\n        maxKm: \"Max Kms\",\n        actions: 'Action'\n      },\n      tableObjects: {\n        deleteMethod: 'delete',\n        apiLink: '/api/packagemaster/',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/package-master'\n      },\n      startRange: 0,\n      limitRange: 10,\n      dayArray: [{\n        'name': 'Sunday'\n      }, {\n        'name': 'Monday'\n      }, {\n        'name': 'Tuesday'\n      }, {\n        'name': 'Wednesday'\n      }, {\n        'name': 'Thursday'\n      }, {\n        'name': 'Friday'\n      }, {\n        'name': 'Saterday'\n      }]\n    };\n  }\n\n  componentDidMount() {\n    this.edit(this.props.match.params.packageID);\n    this.getData(this.state.startRange, this.state.limitRange);\n    this.getPackageType();\n    $.validator.addMethod(\"regxA1\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid package name\");\n    $.validator.addMethod(\"regxZ\", function (value, element, regexpr) {\n      return regexpr !== value;\n    }, \"Please select package type\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#packageMaster\").validate({\n      rules: {\n        packageType: {\n          required: true,\n          regxZ: \"--Select Package Type--\"\n        },\n        packageName: {\n          required: true,\n          regxA1: /^[A-za-z0-9'!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]+( [A-Za-z'0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]+)*$/\n        },\n        fixCharges: {\n          required: true\n        },\n        maxHours: {\n          required: true\n        },\n        maxKm: {\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"packageType\") {\n          error.insertAfter(\"#packageType\");\n        }\n\n        if (element.attr(\"name\") === \"packageName\") {\n          error.insertAfter(\"#packageName\");\n        }\n\n        if (element.attr(\"name\") === \"fixCharges\") {\n          error.insertAfter(\"#fixCharges\");\n        }\n\n        if (element.attr(\"name\") === \"maxHours\") {\n          error.insertAfter(\"#maxHours\");\n        }\n\n        if (element.attr(\"name\") === \"maxKm\") {\n          error.insertAfter(\"#maxKm\");\n        }\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.edit(nextProps.match.params.packageID);\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  submitPackageMaster(event) {\n    event.preventDefault();\n\n    if ($('#packageMaster').valid()) {\n      var formValues = {\n        packageID: this.props.match.params.packageID,\n        packageTypeId: this.state.packageType,\n        packageName: this.state.packageName,\n        fixCharges: this.state.fixCharges,\n        maxHours: this.state.maxHours,\n        maxKm: this.state.maxKm\n      };\n\n      if (this.props.match.params.packageID) {\n        axios.patch(\"/api/packagemaster/patch\", formValues).then(response => {\n          if (response.data.duplicate === true) {\n            swal(\"This package type and package name already exist\");\n          } else {\n            document.getElementById(\"btnCheck\").innerHTML = \"Submit\";\n            swal(\"Package updated successfully.\");\n            this.props.history.push(\"/package-master\");\n            this.setState({\n              packageType: \"\",\n              packageName: \"\",\n              fixCharges: \"\",\n              maxHours: \"\",\n              maxKm: \"\"\n            });\n            this.getData(this.state.startRange, this.state.limitRange);\n          }\n        }).catch(() => {});\n      } else {\n        axios.post(\"/api/packagemaster/post\", formValues).then(response => {\n          if (response.data.duplicate === true) {\n            swal(\"This package type and package name already exist\");\n          } else {\n            swal(\"Package created successfully.\");\n            this.setState({\n              packageType: \"\",\n              packageName: \"\",\n              fixCharges: \"\",\n              maxHours: \"\",\n              maxKm: \"\"\n            });\n            this.getData(this.state.startRange, this.state.limitRange);\n          }\n        }).catch(() => {});\n      }\n\n      this.getData(this.state.startRange, this.state.limitRange);\n    }\n  }\n\n  fromTime(value) {\n    this.setState({\n      fromTime: value\n    });\n  }\n\n  toTime(value) {\n    this.setState({\n      toTime: value\n    });\n  }\n\n  earlyMorningChargesfromTime(value) {\n    this.setState({\n      earlyMorningChargesfromTime: value\n    });\n  }\n\n  earlyMorningChargestoTime(value) {\n    this.setState({\n      earlyMorningChargestoTime: value\n    });\n  }\n\n  edit(packageID) {\n    if (packageID) {\n      axios.get('/api/packagemaster/get/one/' + packageID).then(response => {\n        document.getElementById(\"btnCheck\").innerHTML = \"Update\";\n        this.setState({\n          packageType: response.data.packageTypeId,\n          packageName: response.data.packageName,\n          fixCharges: response.data.fixCharges,\n          maxHours: response.data.maxHours,\n          maxKm: response.data.maxKm\n        });\n      }).catch(error => {});\n    } else {\n      document.getElementById(\"btnCheck\").innerHTML = \"Submit\";\n      this.setState({\n        packageType: \"--Select Package Type--\",\n        packageName: \"\",\n        fixCharges: \"\",\n        maxHours: \"\",\n        maxKm: \"\"\n      });\n    }\n  }\n\n  getMax(event) {\n    var charCode = event.which ? event.which : event.keyCode;\n\n    if (event.target.value > 10000) {\n      if (charCode !== 8) {\n        event.preventDefault();\n        return false;\n      }\n    } else {\n      return true;\n    }\n  }\n\n  getData(startRange, limitRange) {\n    var formValue = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post(\"/api/packagemaster/get/list\", formValue).then(response => {\n      var tableData = response.data.map((a, i) => {\n        return {\n          _id: a._id,\n          packageType: a.packageType,\n          packageName: a.packageName,\n          fixCharges: a.fixCharges,\n          maxHours: a.maxHours,\n          maxKm: a.maxKm\n        };\n      });\n      this.setState({\n        tableData: tableData\n      });\n    }).catch(error => {});\n  }\n\n  getPackageType() {\n    axios.get(\"/api/packagetypemaster/get/list\").then(response => {\n      this.setState({\n        packageTypeArray: response.data\n      });\n    }).catch(error => {});\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 15\n      }\n    }, \"Package Master\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding addMarginTopPM\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"packageMaster\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-4 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group valid_box col-lg-4 col-md-4 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 23\n      }\n    }, \"Package Type \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 120\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"packageType\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.packageType,\n      ref: \"packageType\",\n      name: \"packageType\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 27\n      }\n    }, \"--Select Package Type--\"), this.state.packageTypeArray && this.state.packageTypeArray.length > 0 ? this.state.packageTypeArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 43\n        }\n      }, data.packageType);\n    }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group valid_box col-lg-4 col-md-4 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      id: \"packageName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 25\n      }\n    }, \"Package Name \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 40\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange.bind(this),\n      type: \"text\",\n      name: \"packageName\",\n      \"data-text\": \"city\",\n      ref: \"packageName\",\n      value: this.state.packageName,\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group valid_box col-lg-4 col-md-4 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      id: \"fixCharges\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 25\n      }\n    }, \"Fixed Charges (\", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 42\n      }\n    }), \") \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 73\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange.bind(this),\n      type: \"number\",\n      name: \"fixCharges\",\n      value: this.state.fixCharges,\n      className: \"form-control\",\n      onKeyDown: this.getMax.bind(this),\n      max: \"100000\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group valid_box col-lg-4 col-md-4 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      id: \"maxHours\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 25\n      }\n    }, \"Max Hours \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 37\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"maxHours\",\n      value: this.state.maxHours,\n      onChange: this.handleChange.bind(this),\n      onKeyDown: event => event.target.value > 24 ? (event.which ? event.which : event.keyCode) !== 8 ? (event.preventDefault(), true) : false : true,\n      className: \"form-control\",\n      max: \"24\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group valid_box col-lg-4 col-md-4 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      id: \"maxKm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 25\n      }\n    }, \"Max Kms \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 35\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange.bind(this),\n      type: \"number\",\n      name: \"maxKm\",\n      value: this.state.maxKm,\n      className: \"form-control\",\n      onKeyDown: event => event.target.value > 1000 ? (event.which ? event.which : event.keyCode) !== 8 ? (event.preventDefault(), true) : false : true,\n      max: \"1000\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 25\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"col-lg-2 col-md-2 col-sm-12 col-xs-12 btn button3 pull-right\",\n      id: \"btnCheck\",\n      onClick: this.submitPackageMaster.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 19\n      }\n    }, \"Submit\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      twoLevelHeader: this.state.twoLevelHeader,\n      dataCount: this.state.dataCount,\n      tableData: this.state.tableData,\n      tableObjects: this.state.tableObjects,\n      getData: this.getData.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default PackageMaster;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/PackageMaster/PackageMasterForm.js"],"names":["React","Component","jQuery","IAssureTable","$","axios","swal","PackageMaster","constructor","props","state","fromTime","toTime","packageName","packageTypeArray","tableHeading","packageType","fixCharges","maxHours","maxKm","actions","tableObjects","deleteMethod","apiLink","paginationApply","searchApply","editUrl","startRange","limitRange","dayArray","componentDidMount","edit","match","params","packageID","getData","getPackageType","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","required","regxZ","regxA1","errorPlacement","error","attr","insertAfter","componentWillReceiveProps","nextProps","handleChange","event","preventDefault","target","name","setState","submitPackageMaster","valid","formValues","packageTypeId","patch","then","response","data","duplicate","document","getElementById","innerHTML","history","push","catch","post","earlyMorningChargesfromTime","earlyMorningChargestoTime","get","getMax","charCode","which","keyCode","formValue","tableData","map","a","i","_id","render","bind","length","twoLevelHeader","dataCount"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport jQuery from 'jquery';\nimport IAssureTable from '../IAssureTable/IAssureTable.jsx';\nimport $ from 'jquery';\nimport './PackageMaster.css'\nimport 'rc-time-picker/assets/index.css';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nclass PackageMaster extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fromTime          : \"\",\n      toTime            : \"\",\n      packageName       : \"\",\n      packageTypeArray  : [],\n      tableHeading      : {\n        packageType     : \"Package Type\",\n        packageName     : \"Package Name\",\n        fixCharges      : \"Fixed Charges (₹)\",\n        maxHours        : \"Max Hours\",\n        maxKm           : \"Max Kms\",\n        actions         : 'Action',\n      },\n      tableObjects      : {\n        deleteMethod    : 'delete',\n        apiLink         : '/api/packagemaster/',\n        paginationApply : false,\n        searchApply     : false,\n        editUrl         : '/package-master'\n      },\n      startRange        : 0,\n      limitRange        : 10,\n      dayArray          : [{ 'name': 'Sunday' }, { 'name': 'Monday' }, { 'name': 'Tuesday' }, { 'name': 'Wednesday' }, { 'name': 'Thursday' }, { 'name': 'Friday' }, { 'name': 'Saterday' }]\n    };\n  }\n  componentDidMount() {\n    this.edit(this.props.match.params.packageID);\n    this.getData(this.state.startRange, this.state.limitRange);\n    this.getPackageType();\n    $.validator.addMethod(\"regxA1\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid package name\");\n\n    $.validator.addMethod(\"regxZ\", function (value, element, regexpr) {\n      return regexpr !== value;\n    }, \"Please select package type\");\n\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#packageMaster\").validate({\n      rules: {\n        packageType: {\n          required: true,\n          regxZ   : \"--Select Package Type--\"\n        },\n        packageName: {\n          required: true,\n          regxA1: /^[A-za-z0-9'!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]+( [A-Za-z'0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]+)*$/,\n        },\n        fixCharges: {\n          required: true,\n        },\n        maxHours: {\n          required: true,\n        },\n        maxKm: {\n          required: true,\n        },\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"packageType\") {\n          error.insertAfter(\"#packageType\");\n        }\n        if (element.attr(\"name\") === \"packageName\") {\n          error.insertAfter(\"#packageName\");\n        }\n        if (element.attr(\"name\") === \"fixCharges\") {\n          error.insertAfter(\"#fixCharges\");\n        }\n        if (element.attr(\"name\") === \"maxHours\") {\n          error.insertAfter(\"#maxHours\");\n        }\n        if (element.attr(\"name\") === \"maxKm\") {\n          error.insertAfter(\"#maxKm\");\n        }\n      }\n    });\n  }\n  componentWillReceiveProps(nextProps){\n    this.edit(nextProps.match.params.packageID);\n  }\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n  submitPackageMaster(event) {\n    event.preventDefault();\n    if ($('#packageMaster').valid()) {\n      var formValues = {\n        packageID     : this.props.match.params.packageID,\n        packageTypeId : this.state.packageType,\n        packageName   : this.state.packageName,\n        fixCharges    : this.state.fixCharges,\n        maxHours      : this.state.maxHours,\n        maxKm         : this.state.maxKm,\n      }\n      if(this.props.match.params.packageID){\n        axios.patch(\"/api/packagemaster/patch\", formValues)\n        .then((response) => {\n          if(response.data.duplicate === true){\n            swal(\"This package type and package name already exist\");\n          }else{\n            document.getElementById(\"btnCheck\").innerHTML = \"Submit\";\n            swal(\"Package updated successfully.\")\n            this.props.history.push(\"/package-master\");\n            this.setState({\n              packageType : \"\",\n              packageName : \"\",\n              fixCharges  : \"\",\n              maxHours    : \"\",\n              maxKm       : \"\",\n            })\n            this.getData(this.state.startRange, this.state.limitRange);\n          }\n        })\n        .catch(() => {\n\n        })\n      }else{\n        axios.post(\"/api/packagemaster/post\", formValues)\n        .then((response) => {\n          if(response.data.duplicate === true){\n            swal(\"This package type and package name already exist\");\n          }else{\n            swal(\"Package created successfully.\")\n            this.setState({\n              packageType : \"\",\n              packageName : \"\",\n              fixCharges  : \"\",\n              maxHours    : \"\",\n              maxKm       : \"\",\n            })\n            this.getData(this.state.startRange, this.state.limitRange);\n          }\n        })\n        .catch(() => {\n\n        })\n      }\n      this.getData(this.state.startRange, this.state.limitRange);\n      \n    }\n\n  }\n  fromTime(value) {\n    this.setState({\n      fromTime: value\n    })\n  }\n  toTime(value) {\n    this.setState({\n      toTime: value\n    })\n  }\n  earlyMorningChargesfromTime(value) {\n    this.setState({\n      earlyMorningChargesfromTime: value\n    })\n  }\n  earlyMorningChargestoTime(value) {\n    this.setState({\n      earlyMorningChargestoTime: value\n    })\n  }\n  edit(packageID) {\n    if (packageID) {\n      axios.get('/api/packagemaster/get/one/' + packageID)\n      .then((response) => {\n        document.getElementById(\"btnCheck\").innerHTML = \"Update\";\n        this.setState({\n          packageType : response.data.packageTypeId,\n          packageName : response.data.packageName,\n          fixCharges  : response.data.fixCharges,\n          maxHours    : response.data.maxHours,\n          maxKm       : response.data.maxKm,\n        })\n      })\n      .catch((error) => {\n      })\n    }else{\n      document.getElementById(\"btnCheck\").innerHTML = \"Submit\";\n      this.setState({\n        packageType : \"--Select Package Type--\",\n        packageName : \"\",\n        fixCharges  : \"\",\n        maxHours    : \"\",\n        maxKm       : \"\",\n      })\n    }\n  }\n  getMax(event) {\n    var charCode = (event.which) ? event.which : event.keyCode\n    if (event.target.value > 10000) {\n      if (charCode !== 8) {\n        event.preventDefault();\n        return false;\n      }\n    }\n    else {\n      return true;\n    }\n  }\n  getData(startRange, limitRange) {\n    var formValue = {\n      startRange: startRange,\n      limitRange: limitRange\n    }\n    axios.post(\"/api/packagemaster/get/list\", formValue)\n      .then((response) => {\n        var tableData = response.data.map((a, i)=>{\n          return {\n            _id             : a._id,\n            packageType     : a.packageType,\n            packageName     : a.packageName,\n            fixCharges      : a.fixCharges,\n            maxHours        : a.maxHours,\n            maxKm           : a.maxKm,\n          }\n        })\n        this.setState({\n          tableData: tableData\n        })\n      })\n      .catch((error) => {\n\n      })\n  }\n  getPackageType(){\n    axios.get(\"/api/packagetypemaster/get/list\")\n    .then((response)=>{\n      this.setState({\n        packageTypeArray : response.data\n      })\n    })\n    .catch((error)=>{\n\n    })\n  }\n  render() {\n    return (\n      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\n        <section className=\"content\">\n          <div className=\"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n            <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n              <h4 className=\"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\">Package Master</h4>\n            </div>\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding addMarginTopPM\">\n              <form id=\"packageMaster\"  >\n                <div className=\"\">\n                  <div className=\"col-lg-12 col-md-4 col-sm-12 col-xs-12\">\n                    <div className=\"form-group valid_box col-lg-4 col-md-4 col-sm-12 col-xs-12\" >\n                      <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Package Type <span className=\"astrick\">*</span></label>\n                      <select id=\"packageType\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.packageType} ref=\"packageType\" name=\"packageType\" onChange={this.handleChange.bind(this)}>\n                          <option>--Select Package Type--</option>\n                          {\n                              this.state.packageTypeArray && this.state.packageTypeArray.length > 0 ?\n                                  this.state.packageTypeArray.map((data, i)=>{\n                                      return(\n                                          <option key={i} value={data._id}>{data.packageType}</option>\n                                      );\n                                  })\n                              :\n                              null\n                          }\n                      </select>\n                    </div>\n                    <div className=\"form-group valid_box col-lg-4 col-md-4 col-sm-12 col-xs-12\" >\n                      <div className=\"\" id=\"packageName\">\n                        <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\" >\n                          Package Name <span className=\"astrick\">*</span>\n                        </label>\n                        <input\n                          onChange={this.handleChange.bind(this)}\n                          type=\"text\" name=\"packageName\"\n                          data-text=\"city\"\n                          ref=\"packageName\"\n                          value={this.state.packageName}\n                          className=\"form-control\" />\n                      </div>\n                    </div>\n                    <div className=\"form-group valid_box col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n                      <div className=\"\" id=\"fixCharges\">\n                        <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\" >\n                          Fixed Charges (<i className=\"fa fa-rupee\" />) <span className=\"astrick\">*</span>\n                        </label>\n                       {/* <div className=\"input-group-addon inputIcon\"><i className=\"fa fa-rupee \"></i></div>*/}\n\n                        <input\n                          onChange={this.handleChange.bind(this)}\n                          type=\"number\" name=\"fixCharges\"\n                          value={this.state.fixCharges}\n                          className=\"form-control\"\n                          onKeyDown={this.getMax.bind(this)}\n                          max=\"100000\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"form-group valid_box col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n                      <div className=\"\" id=\"maxHours\">\n                        <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\" >\n                          Max Hours <span className=\"astrick\">*</span>\n                        </label>\n                        <input\n                          type=\"number\" name=\"maxHours\"\n                          value={this.state.maxHours}\n                          onChange={this.handleChange.bind(this)}\n                          onKeyDown={(event)=>(event.target.value > 24 ? (((event.which ? event.which : event.keyCode) !== 8) ? (event.preventDefault(), true) : false) : true)}\n                          className=\"form-control\" \n                          max=\"24\"/>\n                      </div>\n                    </div>\n                    <div className=\"form-group valid_box col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n                      <div className=\"\" id=\"maxKm\">\n                        <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\" >\n                          Max Kms <span className=\"astrick\">*</span>\n                        </label>\n                        <input\n                          onChange={this.handleChange.bind(this)}\n                          type=\"number\" name=\"maxKm\"\n                          value={this.state.maxKm}\n                          className=\"form-control\"\n                          onKeyDown={(event)=>(event.target.value > 1000 ? (((event.which ? event.which : event.keyCode) !== 8) ? (event.preventDefault(), true) : false) : true)}\n                          max=\"1000\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  \">\n                  <button className=\"col-lg-2 col-md-2 col-sm-12 col-xs-12 btn button3 pull-right\" id=\"btnCheck\" onClick={this.submitPackageMaster.bind(this)}>\n                    Submit\n                  </button>\n                </div>\n              </form>\n            </div>\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n              <IAssureTable\n                tableHeading={this.state.tableHeading}\n                twoLevelHeader={this.state.twoLevelHeader}\n                dataCount={this.state.dataCount}\n                tableData={this.state.tableData}\n                tableObjects={this.state.tableObjects}\n                getData={this.getData.bind(this)}\n              />\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default PackageMaster;"]},"metadata":{},"sourceType":"module"}