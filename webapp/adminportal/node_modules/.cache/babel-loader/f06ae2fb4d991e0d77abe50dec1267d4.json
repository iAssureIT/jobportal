{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/BillingManagement/BillingTabs/AllBills.js\";\nimport React, { Component } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport moment from 'moment';\nimport 'jquery-validation';\nimport InvoiceTable from '../InvoiceTable/InvoiceTable.js';\n\nclass AllBills extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      company: \"\",\n      companyArray: [],\n      department: \"\",\n      departmentArray: [],\n      idArray: [],\n      tableId: \"AllBills\",\n      fromdate: '',\n      todate: '',\n      RecordsCount: '',\n      invoicesRecordsTable: [],\n      tableObjects: {\n        paginationApply: true,\n        searchApply: false\n      },\n      tableHeading: {\n        companyName: \"COMPANY NAME\",\n        invoiceNumber: \"INVOICE NO.\",\n        amount: \"AMOUNT\",\n        gst: \"GST\",\n        payment: \"PAYMENT\",\n        balance: \"BALANCE\",\n        status: \"STATUS\",\n        action: \"ACTIONS\"\n      },\n      startRange: 0,\n      limitRange: 10\n    };\n    this.viewSingleInvoice = this.viewSingleInvoice.bind(this);\n    this.showData = this.showData.bind(this);\n  }\n  /*======== componentDidMount() ========*/\n\n\n  componentDidMount() {\n    const user_ID = localStorage.getItem(\"user_ID\");\n    this.props.getAllInvoices();\n    window.viewSingleInvoice = this.viewSingleInvoice;\n    this.getAllInvoices(this.state.startRange, this.state.limitRange);\n    this.getCompany();\n    this.getDepartment();\n    this.setState({\n      user_ID: user_ID\n    }, () => {});\n  }\n  /*======== componentWillReceiveProps() ========*/\n\n\n  componentWillReceiveProps(nextprops) {\n    // nextprops.getAllInvoices()\n    this.getAllInvoices(this.state.startRange, this.state.limitRange);\n  }\n  /*======== getCompany() ========*/\n\n\n  getCompany() {\n    axios.get('/api/entitymaster/getAllEntities').then(response => {\n      this.setState({\n        companyArray: response.data\n      }, () => {\n        console.log(\"Company Array => \", this.state.companyArray);\n      });\n    }).catch(function (error) {\n      console.log(\"Error getCompany() => \", error);\n    });\n  }\n  /*======== getDepartment() ========*/\n\n\n  getDepartment() {\n    axios.get('/api/departmentmaster/get/list').then(response => {\n      this.setState({\n        departmentArray: response.data\n      }, () => {\n        console.log(\"Department Array => \", this.state.departmentArray);\n      });\n    }).catch(function (error) {\n      console.log(\"Error getDepartment() => \", error);\n    });\n  }\n  /*======== viewSingleInvoice() ========*/\n\n\n  viewSingleInvoice(id) {\n    console.log(\"view id = \", id);\n    this.props.history.push('/view-invoice/' + id);\n  }\n  /*======== getAllInvoices() ========*/\n\n\n  getAllInvoices(startRange, limitRange) {\n    var limits = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post('/api/billing/get/allList', limits).then(response => {\n      console.log(\"all Invoices = \", response.data);\n\n      if (response.data && response.data[0].paginatedResults && response.data[0].paginatedResults.length > 0) {\n        var tableData = response.data[0].paginatedResults.map((a, i) => {\n          var gst = 0;\n\n          for (var j = 0, len = a.lineItems.length; j < len; j++) {\n            if (a.lineItems[j].billingCode === 401 || a.lineItems[j].billingCode === 402) {\n              gst += a.lineItems[j].taxAmount; // Iterate over your first array and then grab the second element add the values up\n            }\n          }\n\n          return {\n            companyName: \"<div class=companyNameCol>\" + a.companyDetails[0].companyName + \"</div>\",\n            invoiceNumber: \"<div class=invoiceNumCol>\" + \"<a class='masterInvoiceNum' aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" + a._id + \"')>\" + a.invoiceNumber + \"</a></div>\",\n            amount: \"<div class=amountCol><i class='fa fa-inr faIcon'></i>\" + a.totalAmount.toLocaleString() + \"</div>\",\n            gst: \"<div class=gstCol><i class='fa fa-inr faIcon'></i>\" + gst.toLocaleString(undefined, {\n              maximumFractionDigits: 2\n            }) + \"</div>\",\n            payment: \"<div class=paymentCol><i class='fa fa-inr faIcon'></i>\" + a.payment.toLocaleString() + \"</div>\",\n            balance: \"<div class=balanceCol><i class='fa fa-inr faIcon'></i>\" + a.balance.toLocaleString() + \"</div>\",\n            status: \"<div class=\" + a.statusValue.toLowerCase() + \">\" + a.statusValue + \"</div>\",\n            action: \"<div class='actionButtons invoiceAction'>\" + \"<a aria-hidden='true' title='click to edit' id='\" + a._id + \"'><i class='fa fa-pencil'></i></a>\" + \"<a aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" + a._id + \"')><i class='fa fa-eye'></i></a>\" + \"</div>\",\n            id: a._id\n          };\n        });\n        this.setState({\n          invoicesRecordsTable: tableData,\n          RecordsCount: response.data[0].totalCount && response.data[0].totalCount.length > 0 ? response.data[0].totalCount[0].count : 0\n        }, () => {// this.getData(this.state.startRange, this.state.limitRange);\n        });\n      }\n    }).catch(err => {\n      console.log(\"Error getAllInvoices() => \", err);\n    });\n  }\n  /*======== handleChange() ========*/\n\n\n  handleChange(event) {\n    event.preventDefault();\n    const {\n      name,\n      value\n    } = event.target;\n    let formerrors = this.state.formerrors;\n\n    if (name == 'fromdate' && this.state.todate === '') {\n      this.setState({\n        todate: value,\n        fromdate: value\n      }, () => {\n        this.getData(this.state.startRange, this.state.limitRange);\n      });\n    } else if (name == 'fromdate' && this.state.todate) {\n      var dateCompare = moment(value).isBefore(this.state.todate) || moment(value).isSame(this.state.todate);\n\n      if (dateCompare === true) {\n        this.setState({\n          fromdate: value\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      } else {\n        swal(\"Alert\", 'From-Date shold be less than To-Date');\n        this.setState({\n          fromdate: this.state.todate\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      }\n    } else if (name == 'todate') {\n      var dateCompare = moment(value).isAfter(this.state.fromdate) || moment(value).isSame(this.state.fromdate);\n\n      if (dateCompare === true) {\n        this.setState({\n          todate: value\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      } else {\n        swal(\"Alert\", 'To-Date shold be greter than From-Date');\n        this.setState({\n          todate: this.state.fromdate\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      }\n    } else {\n      this.setState({\n        formerrors,\n        [name]: value\n      }, () => {\n        this.getData(this.state.startRange, this.state.limitRange);\n      });\n    }\n  }\n  /*======== previousDate() ========*/\n\n\n  previousDate(event) {\n    event.preventDefault();\n    var id = event.target.id;\n    var targetInputId = id.split(\"-\");\n\n    if (this.state[targetInputId[0]]) {\n      var selectedDate1 = this.state[targetInputId[0]];\n      var selectedDate = selectedDate1.replace(/-/g, '\\/');\n      var newDate1 = new Date(selectedDate);\n      var newDate2 = new Date(newDate1.getTime() - 24 * 60 * 60 * 1000);\n      var newDate3 = new Date(newDate2);\n      var dd = newDate3.getDate();\n      var mm = newDate3.getMonth() + 1; //January is 0!\n\n      var yyyy = newDate3.getFullYear();\n\n      if (dd < 10) {\n        dd = '0' + dd;\n      }\n\n      if (mm < 10) {\n        mm = '0' + mm;\n      }\n\n      var newDate3 = yyyy + '-' + mm + '-' + dd;\n\n      if (targetInputId[0] === \"todate\") {\n        var dateCompare = moment(newDate3).isAfter(this.state.fromdate) || moment(newDate3).isSame(this.state.fromdate);\n\n        if (dateCompare === true) {\n          this.setState({\n            [targetInputId[0]]: newDate3\n          }, () => {\n            this.getData(this.state.startRange, this.state.limitRange);\n          });\n        } else {\n          swal(\"Alert\", 'To-Date shold be greter than From-Date');\n          this.setState({\n            [targetInputId[0]]: this.state.fromdate\n          }, () => {\n            this.getData(this.state.startRange, this.state.limitRange);\n          });\n        }\n      } else {\n        this.setState({\n          [targetInputId[0]]: newDate3\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      }\n    }\n  }\n  /*======== handleSearchChange() ========*/\n\n\n  nextDate(event) {\n    event.preventDefault();\n    var id = event.target.id;\n    var targetInputId = id.split(\"-\");\n\n    if (this.state[targetInputId[0]]) {\n      var selectedDate1 = this.state[targetInputId[0]];\n      var selectedDate = selectedDate1.replace(/-/g, '\\/');\n      var newDate1 = new Date(selectedDate);\n      var newDate2 = new Date(newDate1.getTime() + 24 * 60 * 60 * 1000);\n      var newDate3 = new Date(newDate2);\n      var dd = newDate3.getDate();\n      var mm = newDate3.getMonth() + 1; //January is 0!\n\n      var yyyy = newDate3.getFullYear();\n\n      if (dd < 10) {\n        dd = '0' + dd;\n      }\n\n      if (mm < 10) {\n        mm = '0' + mm;\n      }\n\n      var newDate3 = yyyy + '-' + mm + '-' + dd;\n\n      if (targetInputId[0] === \"fromdate\") {\n        var dateCompare = moment(newDate3).isBefore(this.state.todate) || moment(newDate3).isSame(this.state.todate);\n\n        if (dateCompare === true) {\n          this.setState({\n            [targetInputId[0]]: newDate3\n          }, () => {\n            this.getData(this.state.startRange, this.state.limitRange);\n          });\n        } else {\n          swal(\"Alert\", 'From-Date shold be less than To-Date');\n          this.setState({\n            [targetInputId[0]]: this.state.todate\n          }, () => {\n            this.getData(this.state.startRange, this.state.limitRange);\n          });\n        }\n      } else {\n        this.setState({\n          [targetInputId[0]]: newDate3\n        }, () => {\n          this.getData(this.state.startRange, this.state.limitRange);\n        });\n      }\n    }\n  }\n  /*======== handleSearchChange() ========*/\n\n\n  handleSearchChange(event) {\n    const target = event.target;\n    const name = target.name;\n    console.log(\"handleSearchChange value = \", event.target.value);\n    this.setState({\n      search: event.target.value\n    }, () => {\n      this.searchData();\n    });\n  }\n  /*======== searchData() ========*/\n\n\n  searchData() {\n    this.setState({\n      showSearchData: true\n    });\n    console.log(\"search => \", this.state.search);\n    var formValues = {\n      str: this.state.search\n    };\n    axios.post('/api/billing/get/getEmployeewiseInvoice', formValues).then(response => {\n      console.log(\"response emplyee search = \", response.data);\n\n      if (response.data && response.data.length > 0) {\n        var tableData = response.data.map((a, i) => {\n          var gst = 0;\n          this.setState({\n            employeeId: a.employeeId ? a.employeeId : \"\"\n          });\n\n          for (var j = 0, len = a.lineItems.length; j < len; j++) {\n            if (a.lineItems[j].billingCode === 401 || a.lineItems[j].billingCode === 402) {\n              gst += a.lineItems[j].taxAmount; // Iterate over your first array and then grab the second element add the values up\n            }\n          }\n\n          return {\n            companyName: \"<div class=companyNameCol>\" + a.companyDetails[0].companyName + \"</div>\",\n            invoiceNumber: \"<div class=invoiceNumCol>\" + \"<a class='masterInvoiceNum' aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" + a._id + \"')>\" + a.invoiceNumber + \"</a></div>\",\n            amount: \"<div class=amountCol>\" + a.totalAmount.toLocaleString() + \"</div>\",\n            gst: \"<div class=gstCol>\" + gst.toLocaleString(undefined, {\n              maximumFractionDigits: 2\n            }) + \"</div>\",\n            payment: \"<div class=paymentCol>\" + a.payment.toLocaleString() + \"</div>\",\n            balance: \"<div class=balanceCol>\" + a.balance.toLocaleString() + \"</div>\",\n            status: \"<div class=\" + a.statusValue.toLowerCase() + \">\" + a.statusValue + \"</div>\",\n            action: \"<div class='actionButtons invoiceAction'>\" + \"<a aria-hidden='true' title='click to edit' id='\" + a._id + \"'><i class='fa fa-pencil'></i></a>\" + \"<a aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" + a._id + \"')><i class='fa fa-eye'></i></a>\" + \"</div>\",\n            id: a._id\n          };\n        });\n        this.setState({\n          invoicesRecordsTable: tableData,\n          RecordsCount: tableData && tableData.length > 0 ? tableData.length : ''\n        }, () => {\n          if (this.state.company || this.state.department || this.state.startDate || this.state.endDate) {\n            this.getData(this.state.startRange, this.state.limitRange);\n          }\n        });\n      } else {\n        this.setState({\n          invoicesRecordsTable: []\n        });\n      }\n    }).catch(error => {\n      console.log(\"ERROR : \", error);\n    });\n  }\n  /*======== getData() ========*/\n\n\n  getData(startRange, limitRange) {\n    this.setState({\n      invoicesRecordsTable: []\n    });\n\n    if (this.state.fromdate && this.state.todate) {\n      var startDate = moment(this.state.fromdate).startOf('day'); // set to 12:00 am today\n\n      var endDate = moment(this.state.todate).endOf('day'); // set to 23:59 pm today\n    } else {\n      var currYear = moment().format('YYYY');\n      var startDate = new Date(\"1/1/\" + currYear);\n      var endDate = new Date(startDate.getFullYear(), 11, 31);\n    }\n\n    var formvalues = {\n      company: this.state.company,\n      department: this.state.department,\n      employee: this.state.search,\n      startDate: startDate,\n      endDate: endDate,\n      startRange: startRange,\n      limitRange: limitRange,\n      status: \"All\"\n    };\n    axios.post('/api/billing/get/getCompanywiseInvoice', formvalues).then(response => {\n      console.log(\"company wise invoice data = \", response.data);\n\n      if (response.data && response.data[0].paginatedResults && response.data[0].paginatedResults.length > 0) {\n        var tableData = response.data[0].paginatedResults.map((a, i) => {\n          var gst = 0;\n\n          for (var j = 0, len = a.lineItems.length; j < len; j++) {\n            if (a.lineItems[j].billingCode === 401 || a.lineItems[j].billingCode === 402) {\n              gst += a.lineItems[j].taxAmount; // Iterate over your first array and then grab the second element add the values up\n            }\n          }\n\n          return {\n            companyName: \"<div class=companyNameCol>\" + a.companyDetails[0].companyName + \"</div>\",\n            invoiceNumber: \"<div class=invoiceNumCol>\" + \"<a class='masterInvoiceNum' aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" + a._id + \"')>\" + a.invoiceNumber + \"</a></div>\",\n            amount: \"<div class=amountCol><i class='fa fa-inr faIcon'></i>\" + a.totalAmount.toLocaleString() + \"</div>\",\n            gst: \"<div class=gstCol><i class='fa fa-inr faIcon'></i>\" + gst.toLocaleString(undefined, {\n              maximumFractionDigits: 2\n            }) + \"</div>\",\n            payment: \"<div class=paymentCol><i class='fa fa-inr faIcon'></i>\" + a.payment.toLocaleString() + \"</div>\",\n            balance: \"<div class=balanceCol><i class='fa fa-inr faIcon'></i>\" + a.balance.toLocaleString() + \"</div>\",\n            status: \"<div class=\" + a.statusValue.toLowerCase() + \">\" + a.statusValue + \"</div>\",\n            action: \"<div class='actionButtons invoiceAction'>\" + \"<a aria-hidden='true' title='click to edit' id='\" + a._id + \"'><i class='fa fa-pencil'></i></a>\" + \"<a aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" + a._id + \"')><i class='fa fa-eye'></i></a>\" + \"</div>\",\n            id: a._id\n          };\n        });\n        this.setState({\n          invoicesRecordsTable: tableData,\n          RecordsCount: response.data[0].totalCount && response.data[0].totalCount.length > 0 ? response.data[0].totalCount[0].count : 0\n        }, () => {});\n      } else {\n        this.setState({\n          invoicesRecordsTable: []\n        });\n      }\n    }).catch(err => {\n      console.log(\"Error getData() => \", err);\n    });\n  }\n  /*======== getIds() ========*/\n\n\n  getIds(ids) {\n    console.log('ids => ', ids);\n    this.setState({\n      idArray: ids\n    });\n  }\n  /*======== showMoreFilters() ========*/\n\n\n  showMoreFilters(event) {\n    event.preventDefault();\n    var filterBtn = event.target;\n    var element = document.getElementById(\"allBillsMoreFilter\");\n\n    if (element) {\n      $(\"#allBillsMoreFilter\").toggle();\n    }\n\n    if (element.style.display === \"none\") {\n      filterBtn.innerHTML = \"<i class='fa fa-sliders' aria-hidden='true'></i> More Filters\";\n    } else {\n      filterBtn.innerHTML = \"<i class='fa fa-sliders' aria-hidden='true'></i> Hide Filters\";\n    }\n  }\n  /*======== showMoreFilters() ========*/\n\n\n  resetFilters(event) {\n    event.preventDefault();\n    this.setState({\n      company: \"\",\n      department: \"\",\n      search: \"\",\n      fromdate: \"\",\n      todate: \"\"\n    }, () => {\n      this.getAllInvoices(this.state.startRange, this.state.limitRange);\n    });\n  }\n  /*======== showData() ========*/\n\n\n  showData(startRange, limitRange) {\n    if (this.state.company || this.state.search || this.state.department) {\n      this.getData(startRange, limitRange);\n      console.log(\"filetr\");\n    } else {\n      this.getAllInvoices(startRange, limitRange);\n      console.log(\"normal\");\n    }\n  }\n  /*======== render() ========*/\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding tableComponent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding mrgTop1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-sm-4 col-xs-12  form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 21\n      }\n    }, \"Company\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-select input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"citytype\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-select-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/company.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"company\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.company,\n      ref: \"company\",\n      name: \"company\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 29\n      }\n    }, \"--Select--\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"All\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 29\n      }\n    }, \"Show All\"), this.state.companyArray && this.state.companyArray.length > 0 ? this.state.companyArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 45\n        }\n      }, data.companyName, \" \");\n    }) : /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 33\n      }\n    }, \"No Company Found\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 21\n      }\n    }, \"Department\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-select input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"citytype\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-select-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/department.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"department\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.department,\n      ref: \"department\",\n      name: \"department\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 29\n      }\n    }, \"--Select--\"), this.state.departmentArray && this.state.departmentArray.length > 0 ? this.state.departmentArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 45\n        }\n      }, data.department, \" \");\n    }) : /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 33\n      }\n    }, \"No Department Found\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 21\n      }\n    }, \"From Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-date input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-date-icon-left\",\n      id: \"fromdate-prev\",\n      onClick: this.previousDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/left-arrow.png\",\n      id: \"fromdate-arrow-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 141\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control custom-date1\",\n      type: \"date\",\n      name: \"fromdate\",\n      id: \"fromdate\",\n      value: this.state.fromdate,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-date-icon-right\",\n      id: \"fromdate-next\",\n      onClick: this.nextDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/right-arrow.png\",\n      id: \"fromdate-arrow-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 138\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 21\n      }\n    }, \"To Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-date input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-date-icon-left\",\n      id: \"todate-prev\",\n      onClick: this.previousDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/left-arrow.png\",\n      id: \"todate-arrow-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 139\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control custom-date1\",\n      type: \"date\",\n      name: \"todate\",\n      id: \"todate\",\n      value: this.state.todate,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-date-icon-right\",\n      id: \"todate-next\",\n      onClick: this.nextDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/right-arrow.png\",\n      id: \"todate-arrow-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 136\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filterButton\",\n      onClick: this.showMoreFilters.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-sliders\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 21\n      }\n    }), \" More Filters\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resetfilterButton\",\n      onClick: this.resetFilters.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-refresh\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 21\n      }\n    }), \" Reset Filters\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding generateBillMoreFilter\",\n      id: \"allBillsMoreFilter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding mrgTop1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 25\n      }\n    }, \"Employee Name or Id\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-search input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"citytype\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-addon custom-select-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/billingManagement/user.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 84\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"search\",\n      value: this.state.search,\n      onInput: this.handleSearchChange.bind(this),\n      className: \"form-control\",\n      placeholder: \"Search Employee By Name or Employee Id..\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 29\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(InvoiceTable, {\n      tableHeading: this.state.tableHeading,\n      dataCount: this.state.RecordsCount,\n      tableData: this.state.invoicesRecordsTable,\n      tableObjects: this.state.tableObjects,\n      getIds: this.getIds.bind(this),\n      tableId: this.state.tableId,\n      getData: this.showData.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default withRouter(AllBills);","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/BillingManagement/BillingTabs/AllBills.js"],"names":["React","Component","Route","withRouter","swal","axios","$","jQuery","moment","InvoiceTable","AllBills","constructor","props","state","company","companyArray","department","departmentArray","idArray","tableId","fromdate","todate","RecordsCount","invoicesRecordsTable","tableObjects","paginationApply","searchApply","tableHeading","companyName","invoiceNumber","amount","gst","payment","balance","status","action","startRange","limitRange","viewSingleInvoice","bind","showData","componentDidMount","user_ID","localStorage","getItem","getAllInvoices","window","getCompany","getDepartment","setState","componentWillReceiveProps","nextprops","get","then","response","data","console","log","catch","error","id","history","push","limits","post","paginatedResults","length","tableData","map","a","i","j","len","lineItems","billingCode","taxAmount","companyDetails","_id","totalAmount","toLocaleString","undefined","maximumFractionDigits","statusValue","toLowerCase","totalCount","count","err","handleChange","event","preventDefault","name","value","target","formerrors","getData","dateCompare","isBefore","isSame","isAfter","previousDate","targetInputId","split","selectedDate1","selectedDate","replace","newDate1","Date","newDate2","getTime","newDate3","dd","getDate","mm","getMonth","yyyy","getFullYear","nextDate","handleSearchChange","search","searchData","showSearchData","formValues","str","employeeId","startDate","endDate","startOf","endOf","currYear","format","formvalues","employee","getIds","ids","showMoreFilters","filterBtn","element","document","getElementById","toggle","style","display","innerHTML","resetFilters","render"],"mappings":"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","sourcesContent":["import React, { Component }       \tfrom 'react';\nimport {Route, withRouter} \t\t\tfrom 'react-router-dom';\nimport swal                     \tfrom 'sweetalert';\nimport axios \t\t\t\t\t\tfrom 'axios';\nimport $ \t\t\t\t\t\t\tfrom 'jquery';\nimport jQuery \t\t\t\t\t\tfrom 'jquery';\nimport moment                       from 'moment';\nimport 'jquery-validation';\n\nimport InvoiceTable                  from '../InvoiceTable/InvoiceTable.js';\n\nclass AllBills extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n            company                 : \"\",\n            companyArray            : [],\n            department              : \"\",\n            departmentArray         : [],\n            idArray                 : [],\n            tableId                 : \"AllBills\",\n            fromdate                : '',\n            todate                  : '',\n\t\t\tRecordsCount            : '',\n            invoicesRecordsTable    : [],\n\t\t    tableObjects \t        : {\n                                        paginationApply : true,\n                                        searchApply     : false\n                                      },\n\t\t    tableHeading            : {\n            \t\t\t\t\t\t\tcompanyName \t: \"COMPANY NAME\",\n            \t\t\t\t\t\t\tinvoiceNumber \t: \"INVOICE NO.\",\n            \t\t\t\t\t\t\tamount\t\t    : \"AMOUNT\",\n            \t\t\t\t\t\t\tgst\t\t        : \"GST\",\n            \t\t\t\t\t\t\tpayment \t\t: \"PAYMENT\",\n            \t\t\t\t\t\t\tbalance \t    : \"BALANCE\",\n            \t\t\t\t\t\t\tstatus \t\t    : \"STATUS\",\n            \t\t\t\t\t\t\taction \t\t    : \"ACTIONS\"\n        \t\t    \t\t\t\t  },\n            startRange              : 0,\n            limitRange              : 10,\n\t\t}\n        this.viewSingleInvoice = this.viewSingleInvoice.bind(this);\n        this.showData          = this.showData.bind(this);\n\t}\n\n    /*======== componentDidMount() ========*/\n    componentDidMount(){\n        const user_ID = localStorage.getItem(\"user_ID\")  \n        this.props.getAllInvoices();\n        window.viewSingleInvoice = this.viewSingleInvoice;\n        this.getAllInvoices(this.state.startRange, this.state.limitRange);\n        this.getCompany();\n        this.getDepartment();\n        this.setState({\n            user_ID      : user_ID,\n        }, ()=>{})      \n    }\n\n    /*======== componentWillReceiveProps() ========*/\n    componentWillReceiveProps(nextprops){\n        // nextprops.getAllInvoices()\n        this.getAllInvoices(this.state.startRange, this.state.limitRange);\n    }\n\n    /*======== getCompany() ========*/\n    getCompany() {\n        axios.get('/api/entitymaster/getAllEntities')\n          .then((response) => {\n            this.setState({\n                companyArray: response.data\n            }, () => {\n                console.log(\"Company Array => \", this.state.companyArray);\n            })\n          }).catch(function (error) {\n                console.log(\"Error getCompany() => \", error);\n          });\n    }\n\n    /*======== getDepartment() ========*/\n    getDepartment() {\n        axios.get('/api/departmentmaster/get/list')\n          .then((response) => {\n            this.setState({\n              departmentArray: response.data\n            }, () => {\n                console.log(\"Department Array => \", this.state.departmentArray);\n            })\n          }).catch(function (error) {\n                console.log(\"Error getDepartment() => \", error);\n          });\n    }\n\n    /*======== viewSingleInvoice() ========*/\n    viewSingleInvoice(id){\n        console.log(\"view id = \", id);\n        this.props.history.push('/view-invoice/'+id)\n    }\n\n    /*======== getAllInvoices() ========*/\n    getAllInvoices(startRange, limitRange){\n        var limits = {\n            startRange : startRange,\n            limitRange : limitRange\n        }\n        axios.post('/api/billing/get/allList',limits)\n        .then((response)=>{\n            console.log(\"all Invoices = \",response.data);\n            if(response.data && response.data[0].paginatedResults && response.data[0].paginatedResults.length > 0){ \n                var tableData = response.data[0].paginatedResults.map((a, i)=>{ \n                    var gst = 0;\n                    for(var j = 0, len = a.lineItems.length; j < len; j++) {\n                        if(a.lineItems[j].billingCode === 401 || a.lineItems[j].billingCode === 402){\n                            gst += a.lineItems[j].taxAmount;  // Iterate over your first array and then grab the second element add the values up\n                        }\n                    }\n                    return{ \n                        companyName     : \"<div class=companyNameCol>\" + a.companyDetails[0].companyName              + \"</div>\",\n                        invoiceNumber   : \"<div class=invoiceNumCol>\"+\n                                             \"<a class='masterInvoiceNum' aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" +a._id +\"')>\" + a.invoiceNumber + \n                                           \"</a></div>\",\n                        amount          : \"<div class=amountCol><i class='fa fa-inr faIcon'></i>\"  + (a.totalAmount.toLocaleString())    + \"</div>\",\n                        gst             : \"<div class=gstCol><i class='fa fa-inr faIcon'></i>\"     + gst.toLocaleString(undefined, {maximumFractionDigits:2}) + \"</div>\",\n                        payment         : \"<div class=paymentCol><i class='fa fa-inr faIcon'></i>\" + (a.payment).toLocaleString()        + \"</div>\",\n                        balance         : \"<div class=balanceCol><i class='fa fa-inr faIcon'></i>\" + (a.balance.toLocaleString())        + \"</div>\",\n                        status          : \"<div class=\"+ a.statusValue.toLowerCase() +\">\"          + a.statusValue    + \"</div>\",\n                        action          : \"<div class='actionButtons invoiceAction'>\"+\n                                                \"<a aria-hidden='true' title='click to edit' id='\" + a._id + \"'><i class='fa fa-pencil'></i></a>\"+\n                                                \"<a aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" +a._id +\"')><i class='fa fa-eye'></i></a>\"+\n                                           \"</div>\",\n                        id              : a._id\n                    }\n                });\n                \n                this.setState({\n                    invoicesRecordsTable : tableData,\n                    RecordsCount         : response.data[0].totalCount && response.data[0].totalCount.length > 0 ? response.data[0].totalCount[0].count : 0\n                }, ()=>{\n                    // this.getData(this.state.startRange, this.state.limitRange);\n                })\n            }\n        })\n        .catch((err)=>{\n            console.log(\"Error getAllInvoices() => \", err);\n        })\n    }\n\n    /*======== handleChange() ========*/\n    handleChange(event) {\n        event.preventDefault();\n        const { name, value } = event.target;\n        let formerrors        = this.state.formerrors;\n        \n        if(name == 'fromdate' && this.state.todate === ''){\n            this.setState({\n                todate      : value,\n                fromdate    : value\n            },()=>{this.getData(this.state.startRange, this.state.limitRange)});  \n        }else if(name == 'fromdate' && this.state.todate){\n            var dateCompare =  (moment(value).isBefore(this.state.todate) || moment(value).isSame(this.state.todate));\n\n            if(dateCompare === true){\n                this.setState({\n                    fromdate : value,\n                },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n            }else{\n                swal(\"Alert\",'From-Date shold be less than To-Date');\n                this.setState({\n                    fromdate : this.state.todate,\n                },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n            }\n        }else if(name == 'todate'){\n            var dateCompare =  (moment(value).isAfter(this.state.fromdate) || moment(value).isSame(this.state.fromdate));\n\n            if(dateCompare === true){\n                this.setState({\n                    todate : value,\n                },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n            }else{\n                swal(\"Alert\",'To-Date shold be greter than From-Date');\n                this.setState({\n                    todate : this.state.fromdate,\n                },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n            }\n        }else{\n            this.setState({\n                formerrors,\n                [name] : value\n            },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n        }\n    }\n\n    /*======== previousDate() ========*/\n    previousDate(event){\n        event.preventDefault();\n        var id            = event.target.id;\n        var targetInputId = id.split(\"-\");\n\n        if (this.state[targetInputId[0]]) {\n            var selectedDate1 = this.state[targetInputId[0]];\n            var selectedDate  = selectedDate1.replace(/-/g, '\\/');\n\n            var newDate1      = new Date(selectedDate);\n            var newDate2      = new Date(newDate1.getTime() - (24*60*60*1000) );\n            var newDate3      = new Date(newDate2);\n\n            var dd            = newDate3.getDate();\n            var mm            = newDate3.getMonth()+1; //January is 0!\n            var yyyy          = newDate3.getFullYear();\n\n            if(dd < 10){\n                dd = '0' + dd;\n            }\n            if(mm < 10){\n                mm = '0' + mm;\n            }\n\n            var newDate3 = yyyy+'-'+mm+'-'+dd;\n\n            if (targetInputId[0] === \"todate\"){            \n                var dateCompare =  (moment(newDate3).isAfter(this.state.fromdate) || moment(newDate3).isSame(this.state.fromdate));\n\n                if(dateCompare === true){\n                    this.setState({\n                    [targetInputId[0]] : newDate3,\n                },()=>{this.getData(this.state.startRange, this.state.limitRange); });\n                }else{\n                    swal(\"Alert\",'To-Date shold be greter than From-Date');\n                    this.setState({\n                        [targetInputId[0]] : this.state.fromdate,\n                    },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n                }\n            }else{\n                this.setState({\n                    [targetInputId[0]] : newDate3,\n                },()=>{this.getData(this.state.startRange, this.state.limitRange); });\n            }\n        }\n    }\n\n    /*======== handleSearchChange() ========*/\n    nextDate(event){\n        event.preventDefault();\n        var id            = event.target.id;\n        var targetInputId = id.split(\"-\");\n\n        if (this.state[targetInputId[0]]) {\n            var selectedDate1 = this.state[targetInputId[0]];\n            var selectedDate  = selectedDate1.replace(/-/g, '\\/');\n\n            var newDate1      = new Date(selectedDate);\n            var newDate2      = new Date(newDate1.getTime() + (24*60*60*1000) );\n            var newDate3      = new Date(newDate2);\n\n            var dd            = newDate3.getDate();\n            var mm            = newDate3.getMonth()+1; //January is 0!\n            var yyyy          = newDate3.getFullYear();\n\n            if(dd < 10){\n                dd = '0'+dd;\n            }\n            if(mm < 10){\n                mm = '0' + mm;\n            }\n            \n            var newDate3 = yyyy+'-'+mm+'-'+dd;\n\n            if (targetInputId[0] === \"fromdate\"){            \n                var dateCompare =  (moment(newDate3).isBefore(this.state.todate) || moment(newDate3).isSame(this.state.todate));\n\n                if(dateCompare === true){\n                    this.setState({\n                    [targetInputId[0]] : newDate3,\n                },()=>{this.getData(this.state.startRange, this.state.limitRange); });\n                }else{\n                    swal(\"Alert\",'From-Date shold be less than To-Date');\n                    this.setState({\n                        [targetInputId[0]] : this.state.todate,\n                    },()=>{this.getData(this.state.startRange, this.state.limitRange)});\n                }\n            }else{\n                this.setState({\n                    [targetInputId[0]] : newDate3,\n                },()=>{this.getData(this.state.startRange, this.state.limitRange); });\n            }\n        }\n    }\n\n    /*======== handleSearchChange() ========*/\n    handleSearchChange(event) {\n        const target = event.target;\n        const name = target.name;\n        console.log(\"handleSearchChange value = \",event.target.value);\n\n        this.setState({\n            search: event.target.value\n        },()=>{\n            this.searchData()\n        });   \n    }\n\n    /*======== searchData() ========*/\n    searchData(){\n        this.setState({showSearchData:true});\n        console.log(\"search => \",this.state.search);\n        var formValues ={\n            str : this.state.search,\n        }\n\n        axios.post('/api/billing/get/getEmployeewiseInvoice',formValues)\n             .then((response) => {\n                console.log(\"response emplyee search = \",response.data);\n\n                if(response.data && response.data.length > 0){ \n                var tableData = response.data.map((a, i)=>{  \n                    var gst        = 0;                    \n                    this.setState({\n                        employeeId : a.employeeId ? a.employeeId : \"\"\n                    })\n                    for(var j = 0, len = a.lineItems.length; j < len; j++) {\n                        if(a.lineItems[j].billingCode === 401 || a.lineItems[j].billingCode === 402){\n                            gst += a.lineItems[j].taxAmount;  // Iterate over your first array and then grab the second element add the values up\n                        }\n                    }\n                    return{ \n                        companyName     : \"<div class=companyNameCol>\" + a.companyDetails[0].companyName + \"</div>\",\n                        invoiceNumber   : \"<div class=invoiceNumCol>\"+\n                                             \"<a class='masterInvoiceNum' aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" +a._id +\"')>\" + a.invoiceNumber + \n                                           \"</a></div>\",\n                        amount          : \"<div class=amountCol>\"      + (a.totalAmount.toLocaleString())                   + \"</div>\",\n                        gst             : \"<div class=gstCol>\"         + gst.toLocaleString(undefined, {maximumFractionDigits:2})                + \"</div>\",\n                        payment         : \"<div class=paymentCol>\"     + (a.payment).toLocaleString()                       + \"</div>\",\n                        balance         : \"<div class=balanceCol>\"     + (a.balance).toLocaleString()                       + \"</div>\",\n                        status          : \"<div class=\"+ a.statusValue.toLowerCase() +\">\" + a.statusValue + \"</div>\",\n                        action          : \"<div class='actionButtons invoiceAction'>\"+\n                                                \"<a aria-hidden='true' title='click to edit' id='\" + a._id + \"'><i class='fa fa-pencil'></i></a>\"+\n                                                \"<a aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" +a._id +\"')><i class='fa fa-eye'></i></a>\"+\n                                           \"</div>\",\n                        id              : a._id\n                    }\n                    \n                });\n                this.setState({\n                    invoicesRecordsTable : tableData,\n                    RecordsCount         : tableData && tableData.length > 0 ? tableData.length : ''\n                }, ()=>{\n                    if (this.state.company || this.state.department || this.state.startDate || this.state.endDate) {\n                        this.getData(this.state.startRange, this.state.limitRange);\n                    }\n                })\n            }else{\n                this.setState({\n                    invoicesRecordsTable : []\n                })\n            }        \n         })\n         .catch((error) =>{\n            console.log(\"ERROR : \", error); \n         })\n    }\n\n    /*======== getData() ========*/\n    getData(startRange, limitRange){\n        this.setState({\n            invoicesRecordsTable : []\n        })\n        if(this.state.fromdate && this.state.todate){\n            var startDate = moment(this.state.fromdate).startOf('day'); // set to 12:00 am today\n            var endDate   = moment(this.state.todate).endOf('day'); // set to 23:59 pm today\n        }else{\n            var currYear  = moment().format('YYYY');\n            var startDate = new Date(\"1/1/\" + currYear);\n            var endDate   = new Date (startDate.getFullYear(), 11, 31);\n        }\n        \n        var formvalues = {\n            company     : this.state.company,\n            department  : this.state.department,\n            employee    : this.state.search,\n            startDate   : startDate,\n            endDate     : endDate,\n            startRange  : startRange,\n            limitRange  : limitRange,\n            status      : \"All\",\n        }\n\n        axios.post('/api/billing/get/getCompanywiseInvoice',formvalues)\n        .then((response)=>{\n            console.log(\"company wise invoice data = \", response.data);\n            if(response.data && response.data[0].paginatedResults && response.data[0].paginatedResults.length > 0){\n\n                var tableData = response.data[0].paginatedResults.map((a, i)=>{  \n                    var gst = 0;\n                    for(var j = 0, len = a.lineItems.length; j < len; j++) {\n                        if(a.lineItems[j].billingCode === 401 || a.lineItems[j].billingCode === 402){\n                            gst += a.lineItems[j].taxAmount;  // Iterate over your first array and then grab the second element add the values up\n                        }\n                    }\n                    return{ \n                        companyName     : \"<div class=companyNameCol>\" + a.companyDetails[0].companyName + \"</div>\",\n                        invoiceNumber   : \"<div class=invoiceNumCol>\"+\n                                             \"<a class='masterInvoiceNum' aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" +a._id +\"')>\" + a.invoiceNumber + \n                                           \"</a></div>\",\n                        amount          : \"<div class=amountCol><i class='fa fa-inr faIcon'></i>\"      + (a.totalAmount).toLocaleString()                   + \"</div>\",\n                        gst             : \"<div class=gstCol><i class='fa fa-inr faIcon'></i>\"         + gst.toLocaleString(undefined, {maximumFractionDigits:2})                + \"</div>\",\n                        payment         : \"<div class=paymentCol><i class='fa fa-inr faIcon'></i>\"     + (a.payment).toLocaleString()                       + \"</div>\",\n                        balance         : \"<div class=balanceCol><i class='fa fa-inr faIcon'></i>\"     + (a.balance).toLocaleString()                       + \"</div>\",\n                        status          : \"<div class=\"+ a.statusValue.toLowerCase() +\">\" + a.statusValue + \"</div>\",\n                        action          : \"<div class='actionButtons invoiceAction'>\"+\n                                                \"<a aria-hidden='true' title='click to edit' id='\" + a._id + \"'><i class='fa fa-pencil'></i></a>\"+\n                                                \"<a aria-hidden='true' title='click to view' id='\" + a._id + \"' onclick=window.viewSingleInvoice('\" +a._id +\"')><i class='fa fa-eye'></i></a>\"+\n                                           \"</div>\",\n                        id              : a._id\n                    }\n                    \n                });\n                this.setState({\n                    invoicesRecordsTable : tableData,\n                    RecordsCount         : response.data[0].totalCount && response.data[0].totalCount.length > 0 ? response.data[0].totalCount[0].count : 0\n                }, ()=>{})\n            }else{\n                this.setState({\n                    invoicesRecordsTable : [],\n                })\n            }\n        })\n        .catch((err)=>{\n            console.log(\"Error getData() => \", err);\n        })\n    }\n\n    /*======== getIds() ========*/\n    getIds(ids){\n        console.log('ids => ',ids)\n        this.setState({idArray:ids})\n    }\n\n    /*======== showMoreFilters() ========*/\n    showMoreFilters(event){\n        event.preventDefault();\n        var filterBtn = event.target;\n        var element   = document.getElementById(\"allBillsMoreFilter\");\n        \n        if (element) {\n            $(\"#allBillsMoreFilter\").toggle();\n        }\n        if ((element.style.display) === \"none\") {\n            filterBtn.innerHTML   = \"<i class='fa fa-sliders' aria-hidden='true'></i> More Filters\";\n        } else {\n            filterBtn.innerHTML   = \"<i class='fa fa-sliders' aria-hidden='true'></i> Hide Filters\";\n        }\n    }\n\n    /*======== showMoreFilters() ========*/\n    resetFilters(event){\n        event.preventDefault();\n        \n        this.setState({\n            company     : \"\",\n            department  : \"\",\n            search      : \"\",\n            fromdate    : \"\",\n            todate      : \"\"\n        }, ()=>{\n            this.getAllInvoices(this.state.startRange, this.state.limitRange);\n        })\n    }\n\n    /*======== showData() ========*/\n    showData(startRange, limitRange){\n        if (this.state.company || this.state.search ||\n            this.state.department) {\n            this.getData(startRange, limitRange);\n        console.log(\"filetr\");\n        }else{\n            this.getAllInvoices(startRange, limitRange);\n            console.log(\"normal\");\n        }\n    }  \n\n    /*======== render() ========*/\n\trender() {\n\t\treturn (         \n         <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding tableComponent\">\n             <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding mrgTop1\">\n                <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12  form-group\">\n                    <label className=\"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\">Company</label>\n                    <div className=\"custom-select input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"citytype\" >                      \n                        <span className=\"input-group-addon custom-select-icon\"><img src=\"/billingManagement/company.png\"/></span>\n                        <select id=\"company\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.company} ref=\"company\" name=\"company\" onChange={this.handleChange.bind(this)}>\n                            <option disabled value=\"\">--Select--</option>\n                            <option value=\"All\">Show All</option>\n                            {\n                                this.state.companyArray && this.state.companyArray.length > 0 ?\n                                    this.state.companyArray.map((data, i)=>{\n                                        return(\n                                            <option key={i} value={data._id}>{data.companyName} </option>\n                                        );\n                                    })\n                                :\n                                <option disabled value=\"\">No Company Found</option>\n                            }\n                        </select>\n                    </div>\n                </div>\n                <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12\">\n                    <label className=\"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\">Department</label>\n                    <div className=\"custom-select input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"citytype\" >                      \n                        <span className=\"input-group-addon custom-select-icon\"><img src=\"/billingManagement/department.png\"/></span>\n                        <select id=\"department\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.department} ref=\"department\" name=\"department\" onChange={this.handleChange.bind(this)}>\n                            <option disabled value=\"\">--Select--</option>\n                            {\n                                this.state.departmentArray && this.state.departmentArray.length > 0 ?\n                                    this.state.departmentArray.map((data, i)=>{\n                                        return(\n                                            <option key={i} value={data._id}>{data.department} </option>\n                                        );\n                                    })\n                                :\n                                <option disabled value=\"\">No Department Found</option>\n                            }\n                        </select>\n                    </div>\n                </div>\n                <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12\">\n                    <label className=\"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\">From Date</label>\n                    <div className=\"custom-date input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                        <span className=\"input-group-addon custom-date-icon-left\" id=\"fromdate-prev\" onClick={this.previousDate.bind(this)}><img src=\"/billingManagement/left-arrow.png\" id=\"fromdate-arrow-left\"/></span>\n                        <input className=\"form-control custom-date1\" type=\"date\" name=\"fromdate\" id=\"fromdate\" value={this.state.fromdate} onChange={this.handleChange.bind(this)}/>\n                        <span className=\"input-group-addon custom-date-icon-right\" id=\"fromdate-next\" onClick={this.nextDate.bind(this)}><img src=\"/billingManagement/right-arrow.png\" id=\"fromdate-arrow-right\"/></span>                            \n                    </div>\n                </div>                          \n                <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12\">\n                    <label className=\"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\">To Date</label>\n                    <div className=\"custom-date input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                        <span className=\"input-group-addon custom-date-icon-left\" id=\"todate-prev\" onClick={this.previousDate.bind(this)}><img src=\"/billingManagement/left-arrow.png\" id=\"todate-arrow-left\"/></span>\n                        <input className=\"form-control custom-date1\" type=\"date\" name=\"todate\" id=\"todate\" value={this.state.todate} onChange={this.handleChange.bind(this)}/>\n                        <span className=\"input-group-addon custom-date-icon-right\" id=\"todate-next\" onClick={this.nextDate.bind(this)}><img src=\"/billingManagement/right-arrow.png\" id=\"todate-arrow-right\"/></span>                            \n                    </div>\n                </div>                          \n             </div>\n             <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\"> \n                <div className=\"filterButton\" onClick={this.showMoreFilters.bind(this)}>\n                    <i className=\"fa fa-sliders\" aria-hidden=\"true\"></i> More Filters\n                </div>\n                <div className=\"resetfilterButton\" onClick={this.resetFilters.bind(this)}>\n                    <i className=\"fa fa-refresh\" aria-hidden=\"true\"></i> Reset Filters\n                </div>\n            </div>\n            <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding generateBillMoreFilter\" id=\"allBillsMoreFilter\"> \n                <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding mrgTop1\">                              \n                    <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12\">\n                        <label className=\"labelform ticketPriceName col-lg-12 col-md-12 col-sm-12 col-xs-12\">Employee Name or Id</label>\n                        <div className=\"custom-search input-group col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"citytype\" >                      \n                            <span className=\"input-group-addon custom-select-icon\"><img src=\"/billingManagement/user.png\"/></span>\n                            <input type=\"text\" name=\"search\" value={this.state.search} onInput={this.handleSearchChange.bind(this)} className=\"form-control\" placeholder=\"Search Employee By Name or Employee Id..\"/>\n                        </div>\n                    </div>                          \n                </div>\n            </div>\n             <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding\">\n    \t\t    <InvoiceTable \n                  tableHeading  = {this.state.tableHeading}\n                  dataCount     = {this.state.RecordsCount}\n                  tableData     = {this.state.invoicesRecordsTable}\n                  tableObjects  = {this.state.tableObjects}\n                  getIds        = {this.getIds.bind(this)}\n                  tableId       = {this.state.tableId}\n                  getData       = {this.showData.bind(this)}\n                />\t       \t\n    \t     </div>\n         </div>\n\n\t    );\t\t\n\t} \n}\n\nexport default withRouter(AllBills);"]},"metadata":{},"sourceType":"module"}