{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/ExpenseItemMaster/ExpenseItemMaster.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport IAssureTable from '../../coreadmin/IAssureTable/IAssureTable.jsx';\nimport BillingCodesTable from '../BillingCodesTable/BillingCodesTable.js';\nimport './ExpenseItemMaster.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/js/modal.js';\n\nclass ExpenseItemMaster extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      expenseType: '',\n      expenseItem: '',\n      billingCode: '',\n      ExpenseTypeArray: [],\n      submitVal: true,\n      startRange: 0,\n      limitRange: 100,\n      expenseData: [],\n      tableHeading: {\n        expenseItem: \"Expense Item\",\n        expenseType: \"Expense Type\",\n        HSN: \"HSN Number\",\n        billingCode: \"Billing Code\",\n        actions: \"Action\"\n      },\n      tableObjects: {\n        deleteMethod: 'delete',\n        apiLink: '/api/expenseitemmaster/',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/billing-masters'\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  /*======= componentDidMount() =======*/\n\n\n  componentDidMount() {\n    this.getExpenseItemTable(this.state.startRange, this.state.limitRange);\n    this.getExpenseType();\n    $.validator.addMethod(\"regxZ1\", function (value, element, regexpr) {\n      return regexpr !== value;\n    }, \"Please select Expense Type\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#ExpenseItemMasterForm\").validate({\n      rules: {\n        expenseType: {\n          required: true,\n          regxZ1: \"--Select Type--\"\n        },\n        expenseItem: {\n          required: true\n        },\n        HSN: {\n          required: true\n        },\n        billingCode: {\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"expenseType\") {\n          error.insertAfter(\"#expenseType\");\n        }\n\n        if (element.attr(\"name\") === \"expenseItem\") {\n          error.insertAfter(\"#expenseItem\");\n        }\n\n        if (element.attr(\"name\") === \"HSN\") {\n          error.insertAfter(\"#HSN\");\n        }\n\n        if (element.attr(\"name\") === \"billingCode\") {\n          error.insertAfter(\"#billingCode\");\n        }\n      }\n    });\n  }\n  /*======= componentWillReceiveProps() =======*/\n\n\n  componentWillReceiveProps(nextProps) {\n    this.getExpenseType();\n    console.log(\"componentWillReceiveProps = \", this.props);\n\n    if (nextProps.editId !== this.props.editId) {\n      this.setState({\n        id: nextProps.editId\n      }, () => {\n        this.edit();\n      });\n    }\n  }\n  /*======= getExpenseType() =======*/\n\n\n  getExpenseType() {\n    axios.get(\"/api/expensetypemaster/showAllData\").then(response => {\n      // console.log(\"Expense Type = \",response.data);\n      this.setState({\n        ExpenseTypeArray: response.data\n      });\n    }).catch(error => {\n      console.log(\"Error, getExpenseType = \", error);\n    });\n  }\n  /*======= getExpenseItemTable() =======*/\n\n\n  getExpenseItemTable(startRange, limitRange) {\n    var data = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post(this.state.tableObjects.apiLink + 'get/list', data).then(response => {\n      if (response.data) {\n        console.log(\"expenseItem 1= \", response.data);\n        var tableData = response.data.map((a, i) => {\n          return {\n            _id: a._id,\n            expenseType: a.expenseType ? a.expenseType : \" - \",\n            expenseItem: a.expenseItem ? a.expenseItem : \" - \",\n            HSN: a.HSN ? a.HSN : \" - \",\n            billingCode: a.billingCode ? a.billingCode : \" - \"\n          };\n        });\n        this.setState({\n          expenseItemTableData: tableData\n        }, () => {// console.log(\"expenseItemTableData = \",this.state.expenseItemTableData);\n        });\n      }\n    }).catch(error => {\n      console.log(\"Error getExpenseItemTable() => \", error);\n    });\n  }\n  /*======= submitData() =======*/\n\n\n  submitData(event) {\n    event.preventDefault();\n    var formValues = {\n      expenseTypeId: this.state.expenseType,\n      expenseItem: this.state.expenseItem,\n      HSN: this.state.HSN,\n      billingCode: this.state.billingCode\n    };\n    var updateFormValues = {\n      id: this.state.id,\n      expenseTypeId: this.state.expenseType,\n      expenseItem: this.state.expenseItem,\n      HSN: this.state.HSN,\n      billingCode: this.state.billingCode\n    };\n    console.log('formValues = ', formValues);\n\n    if ($(\"#ExpenseItemMasterForm\").valid()) {\n      if (this.state.submitVal) {\n        axios.post('/api/expenseitemmaster/post', formValues).then(response => {\n          if (response.data.duplicated == true) {\n            swal(\" \", \"Expense Item Already Exist\");\n          } else {\n            this.getExpenseItemTable(this.state.startRange, this.state.limitRange);\n            swal({\n              title: \" \",\n              text: \"Expense Item details added successfully!\"\n            });\n            this.setState({\n              expenseType: \"\",\n              expenseItem: \"\",\n              HSN: \"\",\n              billingCode: \"\",\n              submitVal: true\n            });\n          }\n        }).catch(function (error) {\n          swal({\n            title: \" \",\n            text: \"Failed to Add Expense Item details!\"\n          });\n        });\n      } else {\n        axios.patch('/api/expenseitemmaster/patch', updateFormValues).then(response => {\n          // console.log(\"response.data.updated == \", response.data.updated);\n          if (response.data.updated) {\n            swal({\n              title: \" \",\n              text: \"Expense Item Details Updated Successfully!\"\n            });\n            this.setState({\n              id: \"\",\n              expenseType: \"\",\n              expenseItem: \"\",\n              HSN: \"\",\n              billingCode: \"\",\n              submitVal: true\n            }, () => {\n              this.getExpenseItemTable(this.state.startRange, this.state.limitRange);\n              this.props.history.push(this.state.tableObjects.editUrl);\n            });\n          } else {\n            swal({\n              title: \" \",\n              text: \"Expense Item Details are Already Up to Date!\"\n            });\n            this.setState({\n              id: \"\",\n              expenseType: \"\",\n              expenseItem: \"\",\n              HSN: \"\",\n              billingCode: \"\",\n              submitVal: true\n            }, () => {\n              this.getExpenseItemTable(this.state.startRange, this.state.limitRange);\n              this.props.history.push(this.state.tableObjects.editUrl);\n            });\n          }\n\n          this.setState({\n            id: \"\",\n            expenseType: \"\",\n            expenseItem: \"\",\n            HSN: \"\",\n            billingCode: \"\",\n            submitVal: true\n          });\n        }).catch(function (error) {\n          swal({\n            title: \" \",\n            text: \"Failed to Update Expense Item Details!\"\n          });\n        });\n      }\n    }\n  }\n  /*======= handleChange() =======*/\n\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n  /*======= edit() =======*/\n\n\n  edit() {\n    if (this.state.id && this.state.id !== 'undefined') {\n      axios.get(\"/api/expenseitemmaster/get/one/\" + this.state.id).then(response => {\n        console.log(\"response = \", response);\n        this.setState({\n          id: response.data._id,\n          expenseType: response.data.expenseTypeId,\n          expenseItem: response.data.expenseItem,\n          HSN: response.data.HSN,\n          billingCode: response.data.billingCode,\n          submitVal: false\n        }, () => {// console.log(\"state = \", this.state);                \n        });\n      }).catch(error => {\n        console.log(\"Error edit() = \", error);\n      });\n    }\n  }\n  /*======= edit() =======*/\n\n\n  edit() {\n    if (this.state.id && this.state.id !== 'undefined') {\n      axios.get(\"/api/expenseitemmaster/get/one/\" + this.state.id).then(response => {\n        console.log(\"response = \", response);\n        this.setState({\n          id: response.data._id,\n          expenseType: response.data.expenseTypeId,\n          expenseItem: response.data.expenseItem,\n          HSN: response.data.HSN,\n          billingCode: response.data.billingCode,\n          submitVal: false\n        }, () => {// console.log(\"state = \", this.state);                \n        });\n      }).catch(error => {\n        console.log(\"Error edit() = \", error);\n      });\n    }\n  }\n  /*======= delete() =======*/\n\n\n  delete(event) {\n    event.preventDefault();\n    console.log(event.currentTarget.getAttribute('data-id'));\n    this.setState({\n      id: event.currentTarget.getAttribute('data-id')\n    });\n    $('#deleteModal').show();\n  }\n  /*======= delexpence() =======*/\n\n\n  delexpence(event) {\n    event.preventDefault(); // console.log('id',this.state.id);\n\n    axios.delete('/api/expenseitemmaster/delete/' + this.state.id).then(response => {\n      if (response.data) {\n        $('#deleteModal').hide(); // window.location.reload();\n\n        swal({\n          title: \" \",\n          text: \"Record is deleted successfully.\"\n        });\n      } else {\n        swal({\n          title: \" \",\n          text: \"Failed to delete.\"\n        });\n      }\n    }).catch(error => {\n      swal(error);\n    });\n  }\n  /*======= closeModal() =======*/\n\n\n  closeModal(event) {\n    event.preventDefault();\n    $('#deleteModal').hide();\n  }\n  /*======= render() =======*/\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 17\n      }\n    }, \"Expense Item Master\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BillingCodesTable, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"ExpenseItemMasterForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group formht col-lg-6 col-md-6 col-sm-6 col-xs-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 25\n      }\n    }, \"Expense Type\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 75\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"expenseType\",\n      className: \"addonDiv form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.expenseType,\n      ref: \"expenseType\",\n      name: \"expenseType\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 27\n      }\n    }, \"--Select Type--\"), this.state.ExpenseTypeArray && this.state.ExpenseTypeArray.length > 0 ? this.state.ExpenseTypeArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 43\n        }\n      }, data.type);\n    }) : null))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group formht col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 25\n      }\n    }, \"Expense Item\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 75\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"expenseItem\",\n      \"data-text\": \"expenseItem\",\n      type: \"text\",\n      name: \"expenseItem\",\n      ref: \"expenseItem\",\n      className: \"form-control areaStaes\",\n      value: this.state.expenseItem,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group formht col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 25\n      }\n    }, \"HSN Number\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 73\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"HSN\",\n      ref: \"HSN\",\n      id: \"HSN\",\n      className: \"form-control areaStaes\",\n      value: this.state.HSN,\n      \"data-text\": \"HSN\",\n      maxLength: \"8\",\n      min: \"0\",\n      onKeyDown: event => event.target.value > 10000000 ? (event.which ? event.which : event.keyCode) !== 8 ? (event.preventDefault(), true) : false : true,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group formht col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 25\n      }\n    }, \"Billing Code\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 75\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"billingCode\",\n      id: \"billingCode\",\n      ref: \"billingCode\",\n      className: \"form-control areaStaes\",\n      \"data-text\": \"billingCode\",\n      maxLength: \"8\",\n      min: \"0\",\n      value: this.state.billingCode,\n      onKeyDown: event => event.target.value > 10000 ? (event.which ? event.which : event.keyCode) !== 8 ? (event.preventDefault(), true) : false : true,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 25\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"col-lg-2 col-md-2 col-sm-12 col-xs-12 btn button3 pull-right\",\n      id: \"btnCheck\",\n      onClick: this.submitData.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 17\n      }\n    }, this.state.submitVal ? \"Submit\" : \"Update\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      style: {\n        \"marginBottom\": \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      tableData: this.state.expenseItemTableData,\n      tableObjects: this.state.tableObjects,\n      getData: this.getExpenseItemTable.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default ExpenseItemMaster;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/ExpenseItemMaster/ExpenseItemMaster.js"],"names":["React","Component","render","$","jQuery","axios","swal","IAssureTable","BillingCodesTable","ExpenseItemMaster","constructor","props","state","id","expenseType","expenseItem","billingCode","ExpenseTypeArray","submitVal","startRange","limitRange","expenseData","tableHeading","HSN","actions","tableObjects","deleteMethod","apiLink","paginationApply","searchApply","editUrl","handleChange","bind","componentDidMount","getExpenseItemTable","getExpenseType","validator","addMethod","value","element","regexpr","setDefaults","debug","success","validate","rules","required","regxZ1","errorPlacement","error","attr","insertAfter","componentWillReceiveProps","nextProps","console","log","editId","setState","edit","get","then","response","data","catch","post","tableData","map","a","i","_id","expenseItemTableData","submitData","event","preventDefault","formValues","expenseTypeId","updateFormValues","valid","duplicated","title","text","patch","updated","history","push","name","target","delete","currentTarget","getAttribute","show","delexpence","hide","closeModal","length","type","which","keyCode"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render }           from 'react-dom';\nimport $                    from 'jquery';\nimport jQuery               from 'jquery';\nimport axios                from 'axios';\nimport swal                 from 'sweetalert';\nimport IAssureTable         from  '../../coreadmin/IAssureTable/IAssureTable.jsx';\nimport BillingCodesTable    from  '../BillingCodesTable/BillingCodesTable.js';\n\nimport './ExpenseItemMaster.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/js/modal.js';\n\nclass ExpenseItemMaster extends Component{\n   constructor(props) {\n    super(props);\n    this.state = {\n      id                : '',\n      expenseType       : '',\n      expenseItem       : '',\n      billingCode       : '',\n      ExpenseTypeArray  : [],\n      submitVal         : true,\n      startRange        : 0,\n      limitRange        : 100,\n      expenseData       : [],\n      tableHeading      : {\n                            expenseItem   : \"Expense Item\",\n                            expenseType   : \"Expense Type\",\n                            HSN           : \"HSN Number\",\n                            billingCode   : \"Billing Code\",\n                            actions       : \"Action\"\n                          },\n      tableObjects      : {\n        deleteMethod    : 'delete',\n        apiLink         : '/api/expenseitemmaster/',\n        paginationApply : false,\n        searchApply     : false,\n        editUrl         : '/billing-masters'\n      },\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  /*======= componentDidMount() =======*/\n  componentDidMount() {\n    this.getExpenseItemTable(this.state.startRange,this.state.limitRange);\n    this.getExpenseType();\n\n    $.validator.addMethod(\"regxZ1\", function (value, element, regexpr) {\n      return regexpr !== value;\n    }, \"Please select Expense Type\");\n\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n\n    $(\"#ExpenseItemMasterForm\").validate({\n      rules : {\n        expenseType: {\n          required: true,\n          regxZ1   : \"--Select Type--\"\n        },\n        expenseItem : {\n          required: true,\n        },\n        HSN : {\n          required  : true,\n        },\n        billingCode : {\n          required  : true,\n        },\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"expenseType\") {\n            error.insertAfter(\"#expenseType\");\n        }\n        if (element.attr(\"name\") === \"expenseItem\") {\n            error.insertAfter(\"#expenseItem\");\n        }\n        if (element.attr(\"name\") === \"HSN\") {\n            error.insertAfter(\"#HSN\");\n        }\n        if (element.attr(\"name\") === \"billingCode\") {\n            error.insertAfter(\"#billingCode\");\n        }\n      } \n    }); \n  }\n  /*======= componentWillReceiveProps() =======*/\n  componentWillReceiveProps(nextProps){\n    this.getExpenseType();\n    console.log(\"componentWillReceiveProps = \", this.props);\n    if(nextProps.editId !== this.props.editId)\n    {\n      this.setState({\n        id : nextProps.editId\n      }, ()=>{\n        this.edit();\n      })                        \n    }\n  }\n  /*======= getExpenseType() =======*/\n  getExpenseType(){\n    axios.get(\"/api/expensetypemaster/showAllData\")\n    .then((response)=>{\n      // console.log(\"Expense Type = \",response.data);\n      this.setState({\n        ExpenseTypeArray : response.data\n      })\n    })\n    .catch((error)=>{\n      console.log(\"Error, getExpenseType = \", error);\n    })\n  }\n  /*======= getExpenseItemTable() =======*/\n  getExpenseItemTable(startRange,limitRange){\n    var data = {\n      startRange : startRange,\n      limitRange : limitRange\n    }\n    axios.post(this.state.tableObjects.apiLink+'get/list', data)\n         .then((response) => {\n            if (response.data) {\n            console.log(\"expenseItem 1= \",response.data);\n\n              var tableData = response.data.map((a, i)=>{\n                return {\n                  _id          : a._id,\n                  expenseType  : a.expenseType ? a.expenseType : \" - \",\n                  expenseItem  : a.expenseItem ? a.expenseItem : \" - \" ,\n                  HSN          : a.HSN ? a.HSN : \" - \" ,\n                  billingCode  : a.billingCode ? a.billingCode : \" - \" ,\n                }\n              })\n              this.setState({\n                expenseItemTableData : tableData\n              }, ()=>{\n                    // console.log(\"expenseItemTableData = \",this.state.expenseItemTableData);\n              })              \n            }\n         })\n         .catch((error) => { \n            console.log(\"Error getExpenseItemTable() => \",error);         \n         });\n  }\n  /*======= submitData() =======*/\n  submitData(event){\n    event.preventDefault();\n    var formValues = {\n        expenseTypeId   : this.state.expenseType,\n        expenseItem     : this.state.expenseItem,\n        HSN             : this.state.HSN,\n        billingCode     : this.state.billingCode,\n    }\n\n    var updateFormValues = {\n        id              : this.state.id,\n        expenseTypeId   : this.state.expenseType,\n        expenseItem     : this.state.expenseItem,\n        HSN             : this.state.HSN,\n        billingCode     : this.state.billingCode,\n    }\n\n    console.log('formValues = ',formValues);\n    if($(\"#ExpenseItemMasterForm\").valid()){\n      if (this.state.submitVal) {\n        axios.post('/api/expenseitemmaster/post',formValues)\n        .then((response)=> {          \n          if(response.data.duplicated == true){\n            swal(\" \", \"Expense Item Already Exist\");\n          }else{\n            this.getExpenseItemTable(this.state.startRange,this.state.limitRange);\n            swal({\n              title   : \" \",\n              text    : \"Expense Item details added successfully!\",\n            });\n            this.setState({              \n              expenseType     : \"\",\n              expenseItem     : \"\",\n              HSN             : \"\",\n              billingCode     : \"\",\n              submitVal       : true\n            })\n          }   \n        })\n        .catch(function (error) {\n          swal({\n            title : \" \",\n            text  : \"Failed to Add Expense Item details!\",\n          });\n        })\n      }else{\n        axios.patch('/api/expenseitemmaster/patch',updateFormValues)\n        .then((response)=>{\n          // console.log(\"response.data.updated == \", response.data.updated);\n          if(response.data.updated){\n            swal({\n              title : \" \",\n              text  : \"Expense Item Details Updated Successfully!\",\n            });\n            this.setState({\n                id              : \"\",\n                expenseType     : \"\",\n                expenseItem     : \"\",\n                HSN             : \"\",\n                billingCode     : \"\",\n                submitVal       : true,\n              },()=>{ \n                this.getExpenseItemTable(this.state.startRange,this.state.limitRange);            \n                this.props.history.push(this.state.tableObjects.editUrl);                            \n              }); \n          }else{\n            swal({\n              title : \" \",\n              text  : \"Expense Item Details are Already Up to Date!\",\n            });\n            this.setState({\n                id              : \"\",\n                expenseType     : \"\",\n                expenseItem     : \"\",\n                HSN             : \"\",\n                billingCode     : \"\",\n                submitVal       : true,\n              },()=>{ \n                this.getExpenseItemTable(this.state.startRange,this.state.limitRange);            \n                this.props.history.push(this.state.tableObjects.editUrl);                            \n              });\n          } \n          this.setState({\n              id              : \"\",\n              expenseType     : \"\",\n              expenseItem     : \"\",\n              HSN             : \"\",\n              billingCode     : \"\",\n              submitVal       : true,\n            })                  \n        })\n        .catch(function (error) {\n          swal({\n            title : \" \",\n            text  : \"Failed to Update Expense Item Details!\",\n          });\n        })\n      }\n    }\n  }\n  /*======= handleChange() =======*/\n  handleChange(event){\n    const {name,value} = event.target;\n    this.setState({ \n      [name]:value\n    });\n  }\n /*======= edit() =======*/\n  edit(){\n    if (this.state.id && this.state.id !== 'undefined') {\n      axios.get(\"/api/expenseitemmaster/get/one/\"+this.state.id)\n         .then((response)=>{\n            console.log(\"response = \",response);\n            this.setState({\n              id              : response.data._id,\n              expenseType     : response.data.expenseTypeId,\n              expenseItem     : response.data.expenseItem,\n              HSN             : response.data.HSN,\n              billingCode     : response.data.billingCode,\n              submitVal       : false,\n            },()=>{\n              // console.log(\"state = \", this.state);                \n            });\n         })\n         .catch((error)=>{\n            console.log(\"Error edit() = \", error);   \n         })\n    }\n  }\n /*======= edit() =======*/\n  edit(){\n    if (this.state.id && this.state.id !== 'undefined') {\n      axios.get(\"/api/expenseitemmaster/get/one/\"+this.state.id)\n         .then((response)=>{\n            console.log(\"response = \",response);\n            this.setState({\n              id              : response.data._id,\n              expenseType     : response.data.expenseTypeId,\n              expenseItem     : response.data.expenseItem,\n              HSN             : response.data.HSN,\n              billingCode     : response.data.billingCode,\n              submitVal       : false,\n            },()=>{\n              // console.log(\"state = \", this.state);                \n            });\n         })\n         .catch((error)=>{\n            console.log(\"Error edit() = \", error);   \n         })\n    }\n  }\n  /*======= delete() =======*/\n  delete(event){\n    event.preventDefault();\n    console.log(event.currentTarget.getAttribute('data-id'))\n    this.setState({id: event.currentTarget.getAttribute('data-id')})\n    $('#deleteModal').show();\n  }\n  /*======= delexpence() =======*/\n  delexpence(event){\n    event.preventDefault();\n    // console.log('id',this.state.id);\n    axios.delete('/api/expenseitemmaster/delete/'+this.state.id)\n    .then((response)=>{\n      if (response.data) {\n        $('#deleteModal').hide();   \n        // window.location.reload();\n        swal({\n          title : \" \",\n          text  : \"Record is deleted successfully.\",\n        });\n      }else{\n        swal({\n          title : \" \",\n          text  : \"Failed to delete.\",\n        });\n      }\n    })\n    .catch((error)=>{\n      swal(error)\n    })\n  }\n  /*======= closeModal() =======*/\n  closeModal(event){\n    event.preventDefault();\n    $('#deleteModal').hide();\n  }\n  /*======= render() =======*/\n  render(){    \n    return(\n      <div className=\"container-fluid\">\n        <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\">\n          <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n            <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                <h4 className=\"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\">Expense Item Master</h4>\n            </div>              \n            <div className=\"box-header col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n                <BillingCodesTable />\n            </div>              \n            <form id=\"ExpenseItemMasterForm\"  >\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls\">\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\">\n                  <div className=\"form-group formht col-lg-6 col-md-6 col-sm-6 col-xs-6\">\n                    <div className=\"form-group\">\n                        <label className=\"labelform\" >Expense Type</label><span className=\"astrick\">*</span>\n                        <select id=\"expenseType\" className=\"addonDiv form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.expenseType} ref=\"expenseType\" name=\"expenseType\" onChange={this.handleChange.bind(this)}>\n                          <option>--Select Type--</option>\n                          {\n                              this.state.ExpenseTypeArray && this.state.ExpenseTypeArray.length > 0 ?\n                                  this.state.ExpenseTypeArray.map((data, i)=>{\n                                      return(\n                                          <option key={i} value={data._id}>{data.type}</option>\n                                      );\n                                  })\n                              :\n                              null\n                          }\n                      </select>\n                    </div>  \n                  </div>\n                  <div className=\"form-group formht col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                    <div className=\"form-group\">\n                        <label className=\"labelform\" >Expense Item</label><span className=\"astrick\">*</span>                           \n                        <input id=\"expenseItem\" data-text=\"expenseItem\" type=\"text\" name=\"expenseItem\" ref=\"expenseItem\" className=\"form-control areaStaes\" \n                          value    = {this.state.expenseItem}\n                          onChange = {this.handleChange.bind(this)} \n                        />                             \n                    </div>  \n                  </div>\n                  <div className=\"form-group formht col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                    <div className=\"form-group\">\n                        <label className=\"labelform\" >HSN Number</label><span className=\"astrick\">*</span>                              \n                        <input type=\"number\" name=\"HSN\" ref=\"HSN\" id=\"HSN\" className=\"form-control areaStaes\" \n                              value     = {this.state.HSN} data-text=\"HSN\" maxLength=\"8\" min=\"0\"\n                              onKeyDown = {(event)=>(event.target.value > 10000000 ? (((event.which ? event.which : event.keyCode) !== 8) ? (event.preventDefault(), true) : false) : true)}\n                              onChange  = {this.handleChange.bind(this)}\n                         />                              \n                    </div>  \n                  </div>\n                  <div className=\"form-group formht col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                    <div className=\"form-group\">\n                        <label className=\"labelform\" >Billing Code</label><span className=\"astrick\">*</span>                              \n                        <input type=\"number\" name=\"billingCode\" id=\"billingCode\" ref=\"billingCode\" className=\"form-control areaStaes\" data-text=\"billingCode\" maxLength=\"8\" min=\"0\"\n                              value     = {this.state.billingCode} \n                              onKeyDown = {(event)=>(event.target.value > 10000 ? (((event.which ? event.which : event.keyCode) !== 8) ? (event.preventDefault(), true) : false) : true)}\n                              onChange  = {this.handleChange.bind(this)}\n                         />                              \n                    </div>  \n                  </div>\n                </div>                    \n              </div>\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  \">\n                <button className=\"col-lg-2 col-md-2 col-sm-12 col-xs-12 btn button3 pull-right\" id=\"btnCheck\" onClick={this.submitData.bind(this)} >\n                  { this.state.submitVal ? \"Submit\" : \"Update\" }  \n                </button>\n              </div>\n            </form>\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\" style={{\"marginBottom\": \"30px\"}}>\n              <IAssureTable\n                tableHeading = {this.state.tableHeading}\n                tableData    = {this.state.expenseItemTableData}\n                tableObjects = {this.state.tableObjects}\n                getData      = {this.getExpenseItemTable.bind(this)}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n }\n\n export default ExpenseItemMaster;"]},"metadata":{},"sourceType":"module"}