{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/VendorAllocation/VendorAllocationDetails.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport _ from 'underscore';\nimport 'bootstrap/js/tab.js';\n\nclass VendorAllocationDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      loadMore: false,\n      loadless: false\n    }; // this.handleChange = this.handleChange.bind(this);\n\n    this.isLoaded = false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      id: nextProps.id\n    }, () => {\n      this.getJoinContract(nextProps.id);\n    });\n  }\n\n  getJoinContract(id) {\n    axios.get(\"/api/VendorAllocation/get/joinentities/\" + id).then(response => {\n      var contractDetails = response.data[0];\n      this.setState({\n        contractDetails: contractDetails\n      });\n    }).catch(error => {});\n  }\n\n  componentDidMount() {\n    this.setState({\n      id: this.props.id\n    }, () => {\n      this.getJoinContract(this.props.id);\n    });\n  }\n\n  showMore(event) {\n    $('.listProduct').addClass('showList');\n    $('.listProduct').removeClass('hide');\n    this.setState({\n      'loadless': true\n    });\n  }\n\n  showLess(event) {\n    $('.listProduct').addClass('hide');\n    $('.listProduct').removeClass('showList');\n    this.setState({\n      'loadless': false\n    });\n  }\n\n  editBasicform(event) {\n    this.props.history.push(\"/vendor_allocation/\" + event.currentTarget.getAttribute('data-id'));\n  }\n\n  deleteEntity(event) {\n    event.preventDefault();\n    console.log(event.currentTarget.getAttribute('data-id'));\n    this.setState({\n      deleteID: event.currentTarget.getAttribute('data-id')\n    });\n    $('#deleteEntityModal').show();\n  }\n\n  confirmDelete(event) {\n    event.preventDefault();\n    axios.delete(\"/api/VendorAllocation/delete/\" + this.state.deleteID).then(response => {\n      console.log(response.data.deleted);\n\n      if (response.data.deleted) {\n        swal({\n          text: \"Data is deleted successfully.\"\n        });\n      } else {\n        swal({\n          text: \"Failed to delete.\"\n        });\n      }\n\n      this.props.getContracts();\n      this.props.hideForm();\n      $('#deleteEntityModal').hide();\n    }).catch(error => {});\n  }\n\n  closeModal(event) {\n    event.preventDefault();\n    $('#deleteEntityModal').hide();\n  }\n\n  render() {\n    return this.state.contractDetails ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"supplierprofile\",\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 boxshade\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 singleClientDetails nopadding\",\n      \"data-child\": this.state.contractDetails._id,\n      id: this.state.contractDetails._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 vendorListTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 33\n      }\n    }, \"Vendor Details\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dots dropdown1 col-lg-1 col-md-1 col-sm-1 col-xs-1 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-ellipsis-h dropbtn1 dropbtn2 buttonDrop3\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-content1 dropdown2-content2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"pdcls ulbtm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      id: this.state.contractDetails._id,\n      className: \"styleContactActbtn\",\n      \"data-index\": true,\n      \"data-id\": this.state.contractDetails._id,\n      onClick: this.editBasicform.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil penmrleft\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 56\n      }\n    }), \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mrflfedit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 130\n      }\n    }, \"Edit\"))), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"styleContactActbtn\",\n      \"data-id\": this.state.contractDetails._id,\n      onClick: this.deleteEntity.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 56\n      }\n    }), \"\\xA0Delete\"))))), this.state.contractDetails.vendor && this.state.contractDetails.vendor.length ? this.state.contractDetails.vendor.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        className: \"col-lg-12 col-md-10 col-sm-10 col-xs-10 listprofile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"detailtitleentity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 53\n        }\n      }, data.companyName, \"(\", data.companyID, \")\"), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-user-o \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 61\n        }\n      }), \" \", data.groupName), data.website ? /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 71\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-globe\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 75\n        }\n      }), \" \", data.website) : null, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-envelope \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 61\n        }\n      }), \" \", data.companyEmail), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 57\n        }\n      }, \"CIN: \", data.CIN ? data.CIN : 'NA'), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 57\n        }\n      }, \"TAN: \", data.TAN ? data.TAN : 'NA')));\n    }) : null), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal\",\n      id: \"deleteEntityModal\",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content adminModal-content col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adminCloseCircleDiv pull-right  col-lg-1 col-lg-offset-11 col-md-1 col-md-offset-11 col-sm-1 col-sm-offset-11 col-xs-12 NOpadding-left NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"adminCloseButton\",\n      \"data-dismiss\": \"modal\",\n      onClick: this.closeModal.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 41\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"blackLightFont textAlignCenter examDeleteFont col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 37\n      }\n    }, \"Are you sure, do you want to delete?\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn adminCancel-btn col-lg-7 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\",\n      \"data-dismiss\": \"modal\",\n      onClick: this.closeModal.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 41\n      }\n    }, \"CANCEL\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn examDelete-btn col-lg-7 col-lg-offset-5 col-md-7 col-md-offset-5 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\",\n      \"data-dismiss\": \"modal\",\n      onClick: this.confirmDelete.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 41\n      }\n    }, \"DELETE\"))))))) : null;\n  }\n\n}\n\nexport default withRouter(VendorAllocationDetails);","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/VendorAllocation/VendorAllocationDetails.js"],"names":["React","Component","$","axios","withRouter","swal","_","VendorAllocationDetails","constructor","props","state","id","loadMore","loadless","isLoaded","componentWillReceiveProps","nextProps","setState","getJoinContract","get","then","response","contractDetails","data","catch","error","componentDidMount","showMore","event","addClass","removeClass","showLess","editBasicform","history","push","currentTarget","getAttribute","deleteEntity","preventDefault","console","log","deleteID","show","confirmDelete","delete","deleted","text","getContracts","hideForm","hide","closeModal","render","_id","bind","vendor","length","map","i","companyName","companyID","groupName","website","companyEmail","CIN","TAN"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport _ from 'underscore';\nimport 'bootstrap/js/tab.js';\nclass VendorAllocationDetails extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            id: '',\n            loadMore: false,\n            loadless: false,\n            \n        };\n        // this.handleChange = this.handleChange.bind(this);\n        this.isLoaded = false\n    }\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            id: nextProps.id\n        }, () => {\n            this.getJoinContract(nextProps.id);\n        })\n    }\n    getJoinContract(id) {\n        axios.get(\"/api/VendorAllocation/get/joinentities/\" + id)\n            .then((response) => {\n                var contractDetails = response.data[0];\n\n                this.setState({\n                    contractDetails: contractDetails\n                })\n            })\n            .catch((error) => {\n            })\n    }\n    componentDidMount() {\n        this.setState({\n            id: this.props.id\n        }, () => {\n            this.getJoinContract(this.props.id);\n        })\n    }\n\n    showMore(event) {\n        $('.listProduct').addClass('showList');\n        $('.listProduct').removeClass('hide');\n        this.setState({\n            'loadless': true,\n        })\n    }\n    showLess(event) {\n        $('.listProduct').addClass('hide');\n        $('.listProduct').removeClass('showList');\n        this.setState({\n            'loadless': false,\n        })\n    }\n    editBasicform(event) {\n        this.props.history.push(\"/vendor_allocation/\" + event.currentTarget.getAttribute('data-id'))\n    }\n    deleteEntity(event) {\n        event.preventDefault();\n        console.log(event.currentTarget.getAttribute('data-id'))\n        this.setState({ deleteID: event.currentTarget.getAttribute('data-id') })\n        $('#deleteEntityModal').show();\n    }\n    confirmDelete(event) {\n        event.preventDefault();\n        axios.delete(\"/api/VendorAllocation/delete/\" + this.state.deleteID)\n            .then((response) => {\n                console.log(response.data.deleted)\n                if (response.data.deleted) {\n                    swal({\n                        text: \"Data is deleted successfully.\",\n                    });\n                } else {\n                    swal({\n                        text: \"Failed to delete.\",\n                    });\n                }\n                this.props.getContracts();\n                this.props.hideForm();\n                $('#deleteEntityModal').hide();\n\n            })\n            .catch((error) => {\n            })\n    }\n    closeModal(event) {\n        event.preventDefault();\n        $('#deleteEntityModal').hide();\n    }\n    render() {\n        return (\n            this.state.contractDetails ?\n                <div>\n                    <div className=\"row\">\n                        <div id=\"supplierprofile\" className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 boxshade\">\n                            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 singleClientDetails nopadding\" data-child={this.state.contractDetails._id} id={this.state.contractDetails._id}>\n                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 vendorListTitle\">Vendor Details</div>\n                                <div className=\"dots dropdown1 col-lg-1 col-md-1 col-sm-1 col-xs-1 pull-right\">\n                                        <i className=\"fa fa-ellipsis-h dropbtn1 dropbtn2 buttonDrop3\" aria-hidden=\"true\"></i>\n                                        <div className=\"dropdown-content1 dropdown2-content2\">\n                                            <ul className=\"pdcls ulbtm\">\n                                                <li id={this.state.contractDetails._id} className=\"styleContactActbtn\" data-index data-id={this.state.contractDetails._id} onClick={this.editBasicform.bind(this)}>\n                                                    <a><i className=\"fa fa-pencil penmrleft\" aria-hidden=\"true\" ></i>&nbsp;&nbsp;<span className=\"mrflfedit\">Edit</span></a>\n                                                </li>\n                                                <li className=\"styleContactActbtn\" data-id={this.state.contractDetails._id} onClick={this.deleteEntity.bind(this)}>\n                                                    <a><i className=\"fa fa-trash-o\" aria-hidden=\"true\" ></i>&nbsp;Delete</a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                \n                                {\n                                    this.state.contractDetails.vendor && this.state.contractDetails.vendor.length ?\n                                        this.state.contractDetails.vendor.map((data, i) => {\n                                            return (\n                                                <div key={i} className=\"col-lg-12 col-md-10 col-sm-10 col-xs-10 listprofile\">\n                                                    <h5 className=\"detailtitleentity\">{data.companyName}({data.companyID})</h5>\n                                                    <ul className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n                                                        <li><i className=\"fa fa-user-o \"></i> {data.groupName}</li>\n                                                       {data.website? <li><i className=\"fa fa-globe\"></i> {data.website}</li>:null}\n                                                        <li><i className=\"fa fa-envelope \"></i> {data.companyEmail}</li>\n                                                        <li>CIN: {data.CIN ? data.CIN : 'NA'}</li>\n                                                        <li>TAN: {data.TAN ? data.TAN : 'NA'}</li>\n                                                    </ul>\n                                                </div>\n                                            );\n                                        })\n                                        :\n                                        null\n                                }\n\n                            </div>\n                            <br />\n\n                        </div>\n                    </div>\n                    <div className=\"modal\" id=\"deleteEntityModal\" role=\"dialog\">\n                        <div className=\"adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                            <div className=\"modal-content adminModal-content col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\">\n                                <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                    <div className=\"adminCloseCircleDiv pull-right  col-lg-1 col-lg-offset-11 col-md-1 col-md-offset-11 col-sm-1 col-sm-offset-11 col-xs-12 NOpadding-left NOpadding-right\">\n                                        <button type=\"button\" className=\"adminCloseButton\" data-dismiss=\"modal\" onClick={this.closeModal.bind(this)}>&times;</button>\n                                    </div>\n                                </div>\n                                <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                    <h4 className=\"blackLightFont textAlignCenter examDeleteFont col-lg-12 col-md-12 col-sm-12 col-xs-12\">Are you sure, do you want to delete?</h4>\n                                </div>\n                                <div className=\"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                    <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                                        <button type=\"button\" className=\"btn adminCancel-btn col-lg-7 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\" onClick={this.closeModal.bind(this)}>CANCEL</button>\n                                    </div>\n                                    <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                                        <button type=\"button\" className=\"btn examDelete-btn col-lg-7 col-lg-offset-5 col-md-7 col-md-offset-5 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\" onClick={this.confirmDelete.bind(this)} >DELETE</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                : null\n        );\n    }\n}\nexport default withRouter(VendorAllocationDetails); \n"]},"metadata":{},"sourceType":"module"}