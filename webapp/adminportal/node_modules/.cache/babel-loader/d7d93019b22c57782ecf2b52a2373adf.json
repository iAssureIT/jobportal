{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/BookingMaster/CompanyList.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport _ from 'underscore';\nimport 'bootstrap/js/tab.js';\n\nclass CompanyList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      entity: props.entity,\n      statename: props.statename,\n      label: props.label,\n      reset: props.reset,\n      companyList: [],\n      company: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      entity: this.props.entity,\n      statename: this.props.statename,\n      label: this.props.label,\n      reset: this.props.reset\n    }, () => {\n      this.getCompany();\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      entity: nextProps.entity,\n      label: nextProps.label,\n      reset: nextProps.reset\n    }, () => {\n      this.getCompany();\n\n      if (this.state.reset == true) {\n        this.setState({\n          company: \"\"\n        });\n      }\n    });\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.props.onSelectedItemsChange(this.state.statename, event.target.value);\n    this.setState({\n      [name]: event.target.value\n    }, () => {\n      var data = {\n        [this.state.statename]: this.state.company\n      };\n      this.props.getCompanyData(data);\n    });\n  }\n\n  getCompany() {\n    axios.get('/api/entitymaster/get/' + this.state.entity).then(response => {\n      this.setState({\n        companyList: response.data\n      });\n    }).catch(function (error) {});\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 14\n      }\n    }, this.state.label), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"company\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.company,\n      ref: \"company\",\n      name: \"company\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }, \"--Select Company--\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"All\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }, \"All\"), this.state.companyList && this.state.companyList.length > 0 ? this.state.companyList.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 35\n        }\n      }, data.companyName, \" \");\n    }) : null));\n  }\n\n}\n\nexport default withRouter(CompanyList);","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/BookingMaster/CompanyList.js"],"names":["React","Component","$","axios","withRouter","_","CompanyList","constructor","props","state","entity","statename","label","reset","companyList","company","handleChange","bind","componentDidMount","setState","getCompany","componentWillReceiveProps","nextProps","event","preventDefault","target","name","onSelectedItemsChange","value","data","getCompanyData","get","then","response","catch","error","render","length","map","i","_id","companyName"],"mappings":"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","sourcesContent":["\nimport React, { Component }   from 'react';\nimport $                      from 'jquery';\nimport axios                  from 'axios';\nimport {withRouter}       from 'react-router-dom';\n\nimport _                      from 'underscore';\nimport 'bootstrap/js/tab.js';\n\nclass CompanyList extends Component {\n  \n  constructor(props) {\n      super(props);\n    \n      this.state = {\n        entity : props.entity,\n        statename : props.statename,\n        label : props.label,\n        reset : props.reset,\n        companyList: [],\n        company:''\n      };\n      this.handleChange = this.handleChange.bind(this);\n  }\n  componentDidMount(){\n    this.setState({\n      entity :this.props.entity,\n      statename :this.props.statename,\n      label :this.props.label,\n      reset :this.props.reset,\n    },()=>{this.getCompany()})\n    \n  }\n\n componentWillReceiveProps(nextProps){\n    this.setState({\n      entity :nextProps.entity,\n      label :nextProps.label,\n      reset :nextProps.reset,\n    },()=>{this.getCompany()\n      if(this.state.reset == true){this.setState({company:\"\"})}\n    })\n    \n  }\n \n  handleChange(event){\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.props.onSelectedItemsChange(this.state.statename,event.target.value)\n    this.setState({\n      [name]: event.target.value\n    },()=>{\n      var data = {\n        [this.state.statename] : this.state.company\n      }\n      this.props.getCompanyData(data)\n      \n    });\n  }\n\n  getCompany() {\n      axios.get('/api/entitymaster/get/'+this.state.entity)\n        .then((response) => {\n          this.setState({\n            companyList: response.data\n          })\n        }).catch(function (error) {\n        });\n    }\n\n  \n  render() {\n        return (  \n          <div>\n             <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\">{this.state.label}</label>\n              <select id=\"company\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.company} ref=\"company\" name=\"company\" onChange={this.handleChange.bind(this)}>\n                  <option disabled value=\"\">--Select Company--</option>\n                  <option value=\"All\">All</option>\n                  {\n                      this.state.companyList && this.state.companyList.length > 0 ?\n                          this.state.companyList.map((data, i)=>{\n                              return(\n                                  <option key={i} value={data._id}>{data.companyName} </option>\n                              );\n                          })\n                      :\n                      null\n                  }\n              </select> \n         </div>     \n      );\n  } \n}\nexport default withRouter(CompanyList); \n"]},"metadata":{},"sourceType":"module"}