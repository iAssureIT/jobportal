{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/TaxRate/TaxRate.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport OneFieldForm from '../../coreadmin/Master/OneFieldForm/OneFieldForm.js';\nimport IAssureTable from '../../coreadmin/IAssureTable/IAssureTable.jsx';\nimport moment from 'moment';\nimport 'bootstrap/js/tab.js';\nvar newDate = new Date();\n\nclass TaxRate extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      taxName: \"\",\n      companyId: \"\",\n      profileCreated: false,\n      \"oneTableHeading\": {\n        taxName: \"Tax Name\",\n        actions: 'Action'\n      },\n      \"fields\": {\n        placeholder: \"Add tax name & press 'Enter' Key.\",\n        title: \"Tax Name\",\n        attributeName: \"taxName\"\n      },\n      \"oneTableObjects\": {\n        deleteMethod: 'delete',\n        apiLink: '/api/taxnamemaster/',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/technicalMaster/tax-rate/tax-name',\n        editUrl1: '/technicalMaster/tax-rate'\n      },\n      // \"oneeditId\"                    : this.props ? this.props.match.params.fieldID : '',\n      \"tableHeading\": {\n        taxName: \"Tax Name\",\n        taxRate: \"Tax Rate\",\n        effectiveFrom: \"Effective From\",\n        effectiveTo: \"Effective To\",\n        actions: 'Action'\n      },\n      \"tableObjects\": {\n        deleteMethod: 'patch',\n        apiLink: '/api/companysettings',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/technicalMaster/tax-rate'\n      },\n      \"startRange\": 0,\n      \"limitRange\": 10,\n      \"effectiveFrom\": moment(newDate).format('YYYY-MM-DD'),\n      \"effectiveTo\": moment(new Date(\"12/12/2999\")).format('YYYY-MM-DD'),\n      \"editId\": '' // \"editId\"                    : this.props.match.params ? this.props.match.params.preferenceID : ''\n\n    };\n  }\n\n  componentDidMount() {\n    // this.getTaxData();\n    axios.get('/api/companysettings/').then(res => {\n      console.log(\"companyInfo\", res);\n      this.setState({\n        \"profileCreated\": true,\n        \"companyInfo\": res.data,\n        \"companyId\": res.data._id\n      }, () => {\n        this.getData(this.state.startRange, this.state.limitRange);\n      });\n    }).catch(error => {}); // var editId = this.props.match.params.preferenceID;\n\n    var editId = this.state.editId;\n    console.log(\"editId\", editId);\n    this.getTaxData();\n    this.edit(editId);\n    window.scrollTo(0, 0);\n    $.validator.addMethod(\"regxA1\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Tax rate should only contain positive number.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#taxRateMaster\").validate({\n      rules: {\n        taxRate: {\n          required: true,\n          regxA1: /^[0-9][0-9]*$/\n        },\n        effectiveFrom: {\n          required: true\n        },\n        effectiveTo: {\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"taxRate\") {\n          error.insertAfter(\"#taxRate\");\n        }\n\n        if (element.attr(\"name\") === \"effectiveFrom\") {\n          error.insertAfter(\"#effectiveFrom\");\n        }\n\n        if (element.attr(\"name\") === \"effectiveTo\") {\n          error.insertAfter(\"#effectiveTo\");\n        }\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.getTaxData(); // var editId = nextProps.match.params.preferenceID;\n    // if(nextProps.match.params.preferenceID){\n    //   this.setState({\n    //     editId : editId\n    //   })\n    //   this.edit(editId);\n    // }\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  submit(event) {\n    event.preventDefault();\n    var formValues = {\n      \"companyId\": this.state.companyId,\n      \"taxSettings\": {\n        \"taxType\": this.state.taxName,\n        \"taxRating\": this.state.taxRate,\n        \"effectiveFrom\": this.state.effectiveFrom,\n        \"effectiveTo\": this.state.effectiveTo\n      }\n    };\n    console.log(\"formValues\", formValues);\n\n    if ($(\"#taxRateMaster\").valid()) {\n      axios.patch('/api/companysettings/taxSettings', formValues).then(response => {\n        this.getData(this.state.startRange, this.state.limitRange);\n        swal(\"Data submitted succesfully \");\n        this.setState({\n          taxName: \"\",\n          taxRate: \"\",\n          effectiveFrom: moment(newDate).format('YYYY-MM-DD'),\n          effectiveTo: moment(new Date(\"12/12/2999\")).format('YYYY-MM-DD')\n        });\n      }).catch(error => {\n        console.log('error', error);\n      });\n    }\n  }\n\n  update(event) {\n    event.preventDefault();\n    console.log(\"editId\", this.state.editId, this.state.companyId);\n    var taxID = this.state.editId ? this.state.editId.split(\".\")[1] : \"\";\n    var companyId = this.state.editId ? this.state.editId.split(\".\")[0] : \"\";\n    var formValues = {\n      \"companyId\": companyId,\n      \"taxId\": taxID,\n      \"taxSettings\": {\n        \"taxType\": this.state.taxName,\n        \"taxRating\": this.state.taxRate,\n        \"effectiveFrom\": this.state.effectiveFrom,\n        \"effectiveTo\": this.state.effectiveTo\n      }\n    };\n    console.log(\"formValues\", formValues);\n\n    if ($(\"#taxRateMaster\").valid()) {\n      axios.patch('/api/companysettings/update_taxDetails', formValues).then(response => {\n        swal(\"Record Updated Succesfully\");\n        this.props.history.push('/technicalMaster/tax-rate');\n        this.getData(this.state.startRange, this.state.limitRange);\n        this.setState({\n          editId: \"\",\n          taxName: \"\",\n          taxRate: \"\",\n          effectiveFrom: moment(newDate).format('YYYY-MM-DD'),\n          effectiveTo: moment(new Date(\"12/12/2999\")).format('YYYY-MM-DD')\n        });\n      }).catch(error => {\n        console.log('error', error);\n      });\n    }\n  }\n  /* getDataCount(){\n       axios.get('/api/preference/get/list')\n       .then((response)=>{\n         this.setState({\n           dataCount : response.data[0].taxDetails.length\n         })\n       })\n       .catch((error)=>{\n         console.log('error', error);\n       });\n   }\n  */\n\n\n  getData(startRange, limitRange) {\n    var data = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    var companyID = this.state.companyId;\n    console.log(\"companyId\", this.state.companyId);\n    axios.get('/api/companysettings/getTaxData/' + companyID).then(response => {\n      console.log(\"response=>\", response); // this.getDataCount();\n\n      var taxName = response.data[0].taxType;\n      var id = response.data[0]._id;\n      var tableData = response.data[0].taxSettings.map((a, i) => {\n        return {\n          _id: id + \".\" + a._id,\n          taxName: a.taxType,\n          taxRate: a.taxRating,\n          effectiveFrom: a.effectiveFrom ? moment(a.effectiveFrom).format('DD-MMM-YYYY') : \"-\",\n          effectiveTo: a.effectiveTo ? moment(a.effectiveTo).format('DD-MMM-YYYY') : \"-\"\n        };\n      });\n      console.log('table', tableData);\n      this.setState({\n        tableData: tableData.reverse()\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getTaxData() {\n    axios.get('/api/taxnamemaster/get/list').then(response => {\n      this.setState({\n        taxNameArray: response.data\n      }, () => {\n        console.log(\"taxNameArray\", this.state.taxNameArray);\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  edit(id) {\n    $(\"#taxRateMaster\").validate().resetForm();\n    var taxId = id ? id.split(\".\")[1] : id;\n    axios.get('/api/companysettings/singleTaxDetails/' + taxId).then(response => {\n      console.log('edit', response.data); // var editData =  response.data.taxDetails.filter(a=>a._id === this.props.match.params.taxRateID)\n\n      this.setState({\n        \"taxName\": response.data.taxSettings[0].taxType,\n        \"taxRate\": response.data.taxSettings[0].taxRating,\n        \"effectiveFrom\": moment(response.data.taxSettings[0].effectiveFrom).format(\"YYYY-MM-DD\"),\n        \"effectiveTo\": moment(response.data.taxSettings[0].effectiveTo).format(\"YYYY-MM-DD\")\n      }); // moment(selectedDate1).subtract(1, \"days\").format(\"YYYY-MM-DD\")\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  render() {\n    var minEffectiveTo = new Date(\"12/12/2099\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 15\n      }\n    }, \"Tax Master\")), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"compySettingHr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 14\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 noPadding\",\n      id: \"taxRateMaster\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-lg-6 col-md-3 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }\n    }, \"Tax Name \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 114\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      id: \"packageType\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"\",\n      className: \"addonDiv col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.taxName,\n      ref: \"taxName\",\n      name: \"taxName\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 25\n      }\n    }, \"--Select--\"), this.state.taxNameArray && this.state.taxNameArray.length > 0 ? this.state.taxNameArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data.taxName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 39\n        }\n      }, data.taxName);\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-addon inputIcon plusIconBooking\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#addOneField\",\n      title: \"Add Tax Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 154\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal\",\n      id: \"addOneField\",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adminModal adminModal-dialog marginTopModal col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content adminModal-content col-lg-8 col-lg-offset-2 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adminCloseCircleDiv pull-right  col-lg-1 col-lg-offset-11 col-md-1 col-md-offset-11 col-sm-1 col-sm-offset-11 col-xs-12 NOpadding-left NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"adminCloseButton\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 35\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body adminModal-body OneFieldModal col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(OneFieldForm, {\n      fields: this.state.fields,\n      tableHeading: this.state.oneTableHeading,\n      tableObjects: this.state.oneTableObjects,\n      editId: this.props.editId,\n      masterFieldForm: true,\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 31\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 29\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-lg-6 col-md-3 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 23\n      }\n    }, \"Tax Rate (%) \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 120\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      min: \"1\",\n      max: \"99\",\n      id: \"taxRate\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.taxRate,\n      ref: \"taxRate\",\n      name: \"taxRate\",\n      onChange: this.handleChange.bind(this),\n      placeholder: \"Enter tax rate..\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-lg-6 col-md-3 col-sm-12 col-xs-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 23\n      }\n    }, \"Effective From\", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 121\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      id: \"effectiveFrom\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.effectiveFrom,\n      ref: \"effectiveFrom\",\n      name: \"effectiveFrom\",\n      onChange: this.handleChange.bind(this),\n      placeholder: \"Select date..\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-lg-6 col-md-3 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 23\n      }\n    }, \"Effective To \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 120\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      id: \"effectiveTo\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.effectiveTo,\n      ref: \"effectiveTo\",\n      name: \"effectiveTo\",\n      onChange: this.handleChange.bind(this),\n      placeholder: \"Select date..\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 19\n      }\n    }, this.state.editId ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.update.bind(this),\n      className: \"btn button3 btn-primary pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 27\n      }\n    }, \"Update\") : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submit.bind(this),\n      className: \"btn button3 btn-primary pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 27\n      }\n    }, \"Submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      twoLevelHeader: this.state.twoLevelHeader,\n      dataCount: this.state.dataCount,\n      tableData: this.state.tableData,\n      getData: this.getData.bind(this),\n      tableObjects: this.state.tableObjects,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 19\n      }\n    })))));\n  }\n\n}\n\nexport default TaxRate;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/TaxRate/TaxRate.js"],"names":["React","Component","$","jQuery","axios","swal","OneFieldForm","IAssureTable","moment","newDate","Date","TaxRate","constructor","props","state","taxName","companyId","profileCreated","actions","placeholder","title","attributeName","deleteMethod","apiLink","paginationApply","searchApply","editUrl","editUrl1","taxRate","effectiveFrom","effectiveTo","format","componentDidMount","get","then","res","console","log","setState","data","_id","getData","startRange","limitRange","catch","error","editId","getTaxData","edit","window","scrollTo","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","required","regxA1","errorPlacement","attr","insertAfter","componentWillReceiveProps","nextProps","handleChange","event","preventDefault","target","name","submit","formValues","valid","patch","response","update","taxID","split","history","push","companyID","taxType","id","tableData","taxSettings","map","a","i","taxRating","reverse","taxNameArray","resetForm","taxId","render","minEffectiveTo","bind","length","fields","oneTableHeading","oneTableObjects","tableHeading","twoLevelHeader","dataCount","tableObjects"],"mappings":"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","sourcesContent":["import React, { Component }   from 'react';\nimport $                      from 'jquery';\nimport jQuery                 from 'jquery';\nimport axios                  from 'axios';\nimport swal                   from 'sweetalert';\nimport OneFieldForm           from '../../coreadmin/Master/OneFieldForm/OneFieldForm.js';\nimport IAssureTable           from '../../coreadmin/IAssureTable/IAssureTable.jsx';\nimport moment from 'moment';\nimport 'bootstrap/js/tab.js';\nvar newDate = new Date();\nclass TaxRate extends Component {\n    constructor(props) {\n        \n        super(props);\n        this.state = {\n            taxName                      : \"\",\n            companyId                    : \"\",\n            profileCreated               : false,\n            \"oneTableHeading\"            : {\n              taxName                    : \"Tax Name\",\n              actions                    : 'Action',\n            },\n            \"fields\" : {\n              placeholder     : \"Add tax name & press 'Enter' Key.\",\n              title           : \"Tax Name\",\n              attributeName   : \"taxName\"\n            },\n            \"oneTableObjects\": {\n              deleteMethod: 'delete',\n              apiLink: '/api/taxnamemaster/',\n              paginationApply: false,\n              searchApply: false,\n              editUrl: '/technicalMaster/tax-rate/tax-name',\n              editUrl1: '/technicalMaster/tax-rate'\n            },\n            // \"oneeditId\"                    : this.props ? this.props.match.params.fieldID : '',\n\n            \"tableHeading\"                 : {\n                taxName                    : \"Tax Name\",\n                taxRate                    : \"Tax Rate\",\n                effectiveFrom              : \"Effective From\",\n                effectiveTo                : \"Effective To\",\n                actions                    : 'Action',\n              },\n              \"tableObjects\"              : {\n                deleteMethod              : 'patch',\n                apiLink                   : '/api/companysettings',\n                paginationApply           : false,\n                searchApply               : false,\n                editUrl                   : '/technicalMaster/tax-rate'\n              },\n              \"startRange\"                : 0,\n              \"limitRange\"                : 10,\n              \"effectiveFrom\"             : moment(newDate).format('YYYY-MM-DD'),\n              \"effectiveTo\"               : moment(new Date(\"12/12/2999\")).format('YYYY-MM-DD'),\n              \"editId\"                    : ''\n              // \"editId\"                    : this.props.match.params ? this.props.match.params.preferenceID : ''\n        };\n        \n    }\n    componentDidMount() {\n        // this.getTaxData();\n        axios.get('/api/companysettings/')\n        .then( (res)=>{   \n            console.log(\"companyInfo\",res)\n          this.setState({\n            \"profileCreated\":true,\n            \"companyInfo\": res.data,\n            \"companyId\":res.data._id\n        },()=>{\n            this.getData(this.state.startRange, this.state.limitRange);\n\n        }) \n        })\n        .catch((error)=>{\n        });\n        // var editId = this.props.match.params.preferenceID;\n        var editId = this.state.editId;\n        console.log(\"editId\",editId)\n        this.getTaxData();\n        this.edit(editId);\n        window.scrollTo(0, 0);\n        $.validator.addMethod(\"regxA1\", function(value, element, regexpr) {          \n        return regexpr.test(value);\n        }, \"Tax rate should only contain positive number.\");\n        \n        jQuery.validator.setDefaults({\n        debug: true,\n        success: \"valid\"\n        });\n        $(\"#taxRateMaster\").validate({\n        rules: {\n            taxRate: {\n                required: true,\n                regxA1: /^[0-9][0-9]*$/,\n            },\n            effectiveFrom: {\n                required: true,\n            },\n            effectiveTo: {\n                required: true,\n            },\n        },\n            errorPlacement: function(error, element) {\n                if (element.attr(\"name\") === \"taxRate\"){\n                    error.insertAfter(\"#taxRate\");\n                }\n                if (element.attr(\"name\") === \"effectiveFrom\"){\n                    error.insertAfter(\"#effectiveFrom\");\n                }\n                if (element.attr(\"name\") === \"effectiveTo\"){\n                    error.insertAfter(\"#effectiveTo\");\n                }\n            }\n        });\n    }  \n    \n    componentWillReceiveProps(nextProps) {\n        this.getTaxData();\n        // var editId = nextProps.match.params.preferenceID;\n        // if(nextProps.match.params.preferenceID){\n        //   this.setState({\n        //     editId : editId\n        //   })\n        //   this.edit(editId);\n        // }\n    }\n    handleChange(event) {\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n        this.setState({\n            [name]: event.target.value\n        });   \n    }\n    submit(event){\n        event.preventDefault();\n        var formValues = {\n            \"companyId\"    : this.state.companyId,\n            \"taxSettings\"   : {\n              \"taxType\"       : this.state.taxName,\n              \"taxRating\" : this.state.taxRate,\n              \"effectiveFrom\" : this.state.effectiveFrom,\n              \"effectiveTo\" : this.state.effectiveTo,\n            }\n                 \n        }\n        console.log(\"formValues\",formValues)\n        if($(\"#taxRateMaster\").valid()){\n            axios.patch('/api/companysettings/taxSettings', formValues)\n            .then((response)=>{\n                this.getData(this.state.startRange, this.state.limitRange);\n                swal(\"Data submitted succesfully \");\n                this.setState({\n                    taxName         : \"\",\n                    taxRate         : \"\",\n                    effectiveFrom   : moment(newDate).format('YYYY-MM-DD'),\n                    effectiveTo     : moment(new Date(\"12/12/2999\")).format('YYYY-MM-DD')\n                })\n            })\n            .catch((error)=>{\n                console.log('error', error);\n            })\n        }\n    }\n    update(event){\n        event.preventDefault();\n        console.log(\"editId\",this.state.editId,this.state.companyId)\n        var taxID = this.state.editId ? this.state.editId.split(\".\")[1] : \"\";\n        var companyId = this.state.editId ? this.state.editId.split(\".\")[0] : \"\";\n        var formValues = {\n            \"companyId\"    : companyId,\n            \"taxId\" : taxID,\n            \"taxSettings\"   : {\n              \"taxType\"       : this.state.taxName,\n              \"taxRating\" : this.state.taxRate,\n              \"effectiveFrom\" : this.state.effectiveFrom,\n              \"effectiveTo\" : this.state.effectiveTo,\n            }\n\n        }\n        console.log(\"formValues\",formValues)\n        if($(\"#taxRateMaster\").valid()){\n            axios.patch('/api/companysettings/update_taxDetails', formValues)\n            .then((response)=>{\n                swal(\"Record Updated Succesfully\");\n                this.props.history.push('/technicalMaster/tax-rate');\n                this.getData(this.state.startRange, this.state.limitRange);\n                this.setState({\n                    editId          : \"\",\n                    taxName         : \"\",\n                    taxRate         : \"\",\n                    effectiveFrom   : moment(newDate).format('YYYY-MM-DD'),\n                    effectiveTo     : moment(new Date(\"12/12/2999\")).format('YYYY-MM-DD')\n                })\n            })\n            .catch((error)=>{\n                console.log('error', error);\n            })\n        }\n    }\n   /* getDataCount(){\n        axios.get('/api/preference/get/list')\n        .then((response)=>{\n          this.setState({\n            dataCount : response.data[0].taxDetails.length\n          })\n        })\n        .catch((error)=>{\n          console.log('error', error);\n        });\n    }\n*/    getData(startRange, limitRange){\n        var data={\n            startRange : startRange,\n            limitRange : limitRange\n        }\n        var companyID = this.state.companyId;\n        console.log(\"companyId\",this.state.companyId)\n        axios.get('/api/companysettings/getTaxData/'+companyID)\n\n        .then((response)=>{\n            console.log(\"response=>\",response);\n            // this.getDataCount();\n            var taxName = response.data[0].taxType;\n            var id = response.data[0]._id;\n            var tableData = response.data[0].taxSettings.map((a, i)=>{\n                return {\n                    _id             : id+\".\"+a._id,\n                    taxName         : a.taxType,\n                    taxRate         : a.taxRating,\n                    effectiveFrom   : a.effectiveFrom ? moment( a.effectiveFrom).format('DD-MMM-YYYY') : \"-\",\n                    effectiveTo     : a.effectiveTo ? moment( a.effectiveTo).format('DD-MMM-YYYY') : \"-\"\n                }\n            })\n            console.log('table', tableData);\n            this.setState({\n                tableData : tableData.reverse()\n            });\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        });\n    }\n    getTaxData(){\n        axios.get('/api/taxnamemaster/get/list')\n        .then((response)=>{\n            this.setState({\n                taxNameArray : response.data\n            },()=>{\n                console.log(\"taxNameArray\",this.state.taxNameArray)\n\n            })\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        });\n    }\n    edit(id){\n        $(\"#taxRateMaster\").validate().resetForm();\n        var taxId = id ? id.split(\".\")[1] : id;\n        axios.get('/api/companysettings/singleTaxDetails/'+taxId)\n        .then((response)=>{\n            console.log('edit', response.data)\n            // var editData =  response.data.taxDetails.filter(a=>a._id === this.props.match.params.taxRateID)\n            this.setState({\n                \"taxName\"                  : response.data.taxSettings[0].taxType,\n                \"taxRate\"                  :  response.data.taxSettings[0].taxRating,\n                \"effectiveFrom\"            : moment( response.data.taxSettings[0].effectiveFrom).format(\"YYYY-MM-DD\"),\n                \"effectiveTo\"              : moment( response.data.taxSettings[0].effectiveTo).format(\"YYYY-MM-DD\")\n            });\n            // moment(selectedDate1).subtract(1, \"days\").format(\"YYYY-MM-DD\")\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        });\n    }\n    render() {\n        var minEffectiveTo = new Date(\"12/12/2099\");\n        return (\n          <div className=\"\">\n        <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 companyDisplayForm\">\n          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n              <h4 className=\"\">Tax Master</h4>\n          </div>\n             <hr className=\"compySettingHr\" />\n             <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n              <form className=\"col-lg-12 col-sm-12 col-xs-12 noPadding\" id=\"taxRateMaster\">\n                  <div className=\"form-group col-lg-6 col-md-3 col-sm-12 col-xs-12\"> \n                    <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Tax Name <i className=\"astrick\">*</i></label>\n                    <div className=\"input-group\" id=\"packageType\" >\n                      <select id=\"\" className=\"addonDiv col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.taxName} ref=\"taxName\" name=\"taxName\" onChange={this.handleChange.bind(this)}>\n                        <option>--Select--</option>\n                        {\n                          this.state.taxNameArray && this.state.taxNameArray.length > 0 ?\n                              this.state.taxNameArray.map((data, i)=>{\n                                  return(\n                                      <option key={i} value={data.taxName}>{data.taxName}</option>\n                                  );\n                              })\n                          :\n                          null\n                        }\n                      </select>\n                      <div className=\"input-group-addon inputIcon plusIconBooking\" data-toggle=\"modal\"  data-target=\"#addOneField\" title=\"Add Tax Name\" ><i className=\"fa fa-plus \"></i>\n                      </div>\n                      <div className=\"modal\" id=\"addOneField\" role=\"dialog\">\n                        <div className=\"adminModal adminModal-dialog marginTopModal col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          <div className=\"modal-content adminModal-content col-lg-8 col-lg-offset-2 col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\">\n                            <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                              <div className=\"adminCloseCircleDiv pull-right  col-lg-1 col-lg-offset-11 col-md-1 col-md-offset-11 col-sm-1 col-sm-offset-11 col-xs-12 NOpadding-left NOpadding-right\">\n                                  <button type=\"button\" className=\"adminCloseButton\" data-dismiss=\"modal\" >&times;</button>\n                             </div>\n                            </div>\n                            <div className=\"modal-body adminModal-body OneFieldModal col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                              <OneFieldForm fields={this.state.fields}\n                                tableHeading={this.state.oneTableHeading}\n                                tableObjects={this.state.oneTableObjects}\n                                editId ={this.props.editId}\n                                masterFieldForm = {true}\n                                history={this.props.history}\n                               />\n                              \n                            </div>\n                            <div className=\"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                              \n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"form-group col-lg-6 col-md-3 col-sm-12 col-xs-12\"> \n                      <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Tax Rate (%) <i className=\"astrick\">*</i></label>\n                      <input type=\"number\" min=\"1\" max=\"99\" id=\"taxRate\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.taxRate}  ref=\"taxRate\" name=\"taxRate\" onChange={this.handleChange.bind(this)} placeholder=\"Enter tax rate..\" required/>\n                  </div>\n                  <div className=\"form-group col-lg-6 col-md-3 col-sm-12 col-xs-12 \"> \n                      <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Effective From<i className=\"astrick\">*</i></label>\n                      <input type=\"date\" id=\"effectiveFrom\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.effectiveFrom}  ref=\"effectiveFrom\" name=\"effectiveFrom\" onChange={this.handleChange.bind(this)} placeholder=\"Select date..\" required/>\n                  </div>\n                  <div className=\"form-group col-lg-6 col-md-3 col-sm-12 col-xs-12\"> \n                      <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Effective To <i className=\"astrick\">*</i></label>\n                      <input type=\"date\" id=\"effectiveTo\"  className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.effectiveTo}  ref=\"effectiveTo\" name=\"effectiveTo\" onChange={this.handleChange.bind(this)} placeholder=\"Select date..\" required/>\n                  </div>\n                  <br/>\n                  <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                      {this.state.editId ?\n                          <button onClick={this.update.bind(this)} className=\"btn button3 btn-primary pull-right\">Update</button>\n                          :\n                          <button onClick={this.submit.bind(this)} className=\"btn button3 btn-primary pull-right\">Submit</button>\n                      }\n                  </div> \n              </form>\n              <div className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\">\n                  <IAssureTable \n                      tableHeading={this.state.tableHeading}\n                      twoLevelHeader={this.state.twoLevelHeader} \n                      dataCount={this.state.dataCount}\n                      tableData={this.state.tableData}\n                      getData={this.getData.bind(this)}\n                      tableObjects={this.state.tableObjects}\n                  /> \n              </div>\n              </div>\n        </div>\n      </div>\n                                 \n        );\n    } \n}\nexport default TaxRate;\n\n"]},"metadata":{},"sourceType":"module"}