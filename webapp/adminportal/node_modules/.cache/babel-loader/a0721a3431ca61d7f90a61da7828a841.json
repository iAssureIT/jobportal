{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/BookingMaster/ChangeRequestList.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport _ from 'underscore';\nimport moment from 'moment';\nimport BookingProfile from './BookingProfile.js';\nimport BookingMaster from './BookingMaster.js';\nimport swal from 'sweetalert';\nimport 'bootstrap/js/tab.js';\n\nclass ChangeRequestList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bookingData: [],\n      id: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.ShowForm = this.ShowForm.bind(this);\n    this.camelCase = this.camelCase.bind(this);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.getData();\n    var createdBy = localStorage.getItem(\"user_ID\");\n    axios.get(\"/api/bookingmaster/get/count/\" + createdBy).then(response => {\n      this.setState({\n        'bookingCount': response.data.count\n      });\n    }).catch(error => {\n      console.log('error: ', error);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.getData();\n  }\n\n  getData() {\n    var createdBy = localStorage.getItem(\"user_ID\");\n    axios.get(\"/api/bookingmaster/get/getBookingsByStatus/Change Request\").then(response => {\n      if (response.data && response.data.length > 0) {\n        this.setState({\n          'bookingData': response.data,\n          // showDetails:true,\n          managerId: response.data[0].managerId1,\n          managerID: response.data[0].managerID1,\n          id: response.data[0]._id,\n          bookingNumber: response.data[0].bookingId,\n          empID: response.data[0].employeeId,\n          estimatedCost: response.data[0].estimatedCost,\n          status: response.data[0].statusValue,\n          bookingDate: moment(response.data[0].createdAt).format('DD/MM/YYYY')\n        }, () => {\n          axios.get('/api/bookingmaster/get/booking/' + this.state.id).then(response => {\n            if (response.data.data[0].purposeOfTravel == \"Other\") {\n              var purpose = response.data.data[0].purposeOfTravelOther;\n            } else {\n              var purpose = response.data.data[0].purposeOfTravel;\n            }\n\n            var array = {\n              from: response.data.data[0].from.address,\n              pickupDate: response.data.data[0].pickupDate,\n              pickupTime: response.data.data[0].pickupTime,\n              returnDate: response.data.data[0].returnDate,\n              to: response.data.data[0].to.address,\n              returnTime: response.data.data[0].returnTime,\n              bookingType: response.data.data[0].tripType,\n              purposeOfTravel: purpose,\n              instructions: response.data.data[0].specialInstruction,\n              selectedVehicle: this.state.category,\n              stopArr: response.data.data[0].intermediateStops,\n              brand: this.state.brand,\n              model: this.state.model,\n              capacity: this.state.capacity\n            };\n            this.setState({\n              'tripArray': array,\n              status: response.data.data[0].statusValue\n            });\n          }).catch(error => {});\n        });\n        document.getElementById(response.data[0]._id).classList.add(\"selectedEmployee\");\n      }\n    }).catch(error => {\n      console.log('error: ', error);\n    });\n  }\n\n  camelCase(str) {\n    return str.toLowerCase().split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\n  }\n\n  ShowForm(event) {\n    event.preventDefault();\n    $(\"html,body\").scrollTop(0);\n    var data = $(event.currentTarget).attr('id');\n    var empId = $(event.currentTarget).attr('name');\n    var bookingNum = $(event.currentTarget).attr('number');\n    var cost = $(event.currentTarget).attr('cost');\n    var date = $(event.currentTarget).attr('dateattr');\n    var manager = $(event.currentTarget).attr('manager');\n    var status = $(event.currentTarget).attr('status');\n    var managerID = $(event.currentTarget).attr('managerID');\n    this.setState({\n      id: data,\n      empID: empId,\n      bookingNumber: bookingNum,\n      estimatedCost: cost,\n      bookingDate: moment(date).format('DD/MM/YYYY'),\n      managerId: manager,\n      status: status,\n      managerID: managerID\n    });\n    $('.commonSup').show();\n    $('.selected').removeClass('selectedEmployee');\n    $(event.currentTarget).addClass('selectedEmployee');\n    axios.get('/api/bookingmaster/get/booking/' + data).then(response => {\n      axios.get(\"/api/categorymaster/get/one/\" + response.data.data[0].vehicleCategoryId).then(res => {\n        this.setState({\n          category: res.data.category // brand:res.data.brand,\n          // model:res.data.model,\n          // capacity:res.data.capacity\n\n        });\n      }).catch(error => {\n        console.log('error: ', error);\n      });\n\n      if (response.data.data[0].purposeOfTravel == \"Other\") {\n        var purpose = response.data.data[0].purposeOfTravelOther;\n      } else {\n        var purpose = response.data.data[0].purposeOfTravel;\n      }\n\n      var array = {\n        from: response.data.data[0].from.address,\n        pickupDate: response.data.data[0].pickupDate,\n        pickupTime: response.data.data[0].pickupTime,\n        returnDate: response.data.data[0].returnDate,\n        to: response.data.data[0].to.address,\n        returnTime: response.data.data[0].returnTime,\n        bookingType: response.data.data[0].tripType,\n        purposeOfTravel: purpose,\n        instructions: response.data.data[0].specialInstruction,\n        selectedVehicle: this.state.category,\n        stopArr: response.data.data[0].intermediateStops // brand:this.state.brand,\n        // model:this.state.model,\n        // capacity:this.state.capacity,\n\n      };\n      this.setState({\n        'tripArray': array,\n        status: response.data.data[0].statusValue\n      });\n    }).catch(error => {\n      console.log('error: ', error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-5 col-md-11 col-xs-11 col-sm-11 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 120\n      }\n    }, \"Change Request List\"))), this.state.bookingData && this.state.bookingData.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 scrollbar\",\n      id: \"style-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"borderlist12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 41\n      }\n    }, this.state.bookingData.map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 empContainer cursorStyle selected activeEmployee\",\n        key: index,\n        onClick: this.ShowForm.bind(this),\n        number: data.bookingId,\n        cost: data.estimatedCost,\n        status: data.statusValue,\n        manager: data.approvalRequired == 'Yes' ? data.managerId1 : null,\n        managerID: data.managerID1,\n        name: data.employeeId,\n        dateattr: data.createdAt,\n        id: data._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-3 col-md-2 col-sm-2 col-xs-2 dateContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"col-lg-12 onlyDay\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 65\n        }\n      }, moment(data.pickupDate).format('ddd')), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"col-lg-12 firstDate\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 65\n        }\n      }, moment(data.pickupDate).format('DD')), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"col-lg-12 dateWith\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 65\n        }\n      }, moment(data.pickupDate).format('MMM'), \" \", moment(data.pickupDate).format('YY'))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-9 col-md-10 col-sm-10 col-xs-10 listprofileEmployee nopadding\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-10 col-md-10 tripDetail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"titleTrip col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 69\n        }\n      }, \"Booking Number: \", data.bookingId), /*#__PURE__*/React.createElement(\"label\", {\n        className: \" tripType col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 69\n        }\n      }, data.from.area, \" To \", data.to.city), /*#__PURE__*/React.createElement(\"label\", {\n        className: \" tripType col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 69\n        }\n      }, \"Pickup At: \", data.pickupTime), /*#__PURE__*/React.createElement(\"span\", {\n        className: data.statusValue == 'New' ? \"label label-primary pull-right statusStyle\" : data.statusValue == 'Manager Approved' ? \"label label-success pull-right statusStyle\" : data.statusValue == 'Manager Rejected' ? \"label label-danger pull-right statusStyle\" : data.statusValue == 'Change Request' ? \"label label-warning pull-right statusStyle\" : \"label label-info pull-right statusStyle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 69\n        }\n      }, data.statusValue)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-2 nopadding\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"addedDivBM col-lg-12 nopadding\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 69\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/images/leftArrow.png\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 73\n        }\n      })))));\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-align-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 41\n      }\n    }, \"No Data Found\")), this.state.id && this.state.bookingData && this.state.bookingData.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12 pickupType nopadding commonSup\",\n      id: this.state.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"col-lg-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 66\n      }\n    }, \"Booking ID\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 85\n      }\n    }, \" #\", this.state.bookingNumber)), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"col-lg-6 titleBooking\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 41\n      }\n    }, \"Booking Details\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"col-lg-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 66\n      }\n    }, \"Booking Date\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 87\n      }\n    }, this.state.bookingDate)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dots dropdown1 marginAjt col-lg-12 col-md-6 col-sm-6 col-xs-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-ellipsis-h dropbtn1 dropbtn2 buttonDrop3\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-content1 dropdown2-content2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"pdcls ulbtm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      id: this.state.id,\n      className: \"styleContactActbtn\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#EditBooking\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil penmrleft\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 60\n      }\n    }), \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mrflfedit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 134\n      }\n    }, \"Edit\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"EditBooking\",\n      className: \"modal col-lg-12\",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 47\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"modal-title col-md-4 modalTitle_trip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 50\n      }\n    }, \"Trip Booking\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 47\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 51\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(BookingMaster, {\n      getData: this.getData.bind(this),\n      bookingId: this.state.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 51\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 49\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 borderDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 40\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(BookingProfile, {\n      id: this.state.id,\n      entity: \"ChangeRequest\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 40\n      }\n    }))) : null)))));\n  }\n\n}\n\nexport default ChangeRequestList;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/BookingMaster/ChangeRequestList.js"],"names":["React","Component","$","axios","_","moment","BookingProfile","BookingMaster","swal","ChangeRequestList","constructor","props","state","bookingData","id","handleChange","bind","ShowForm","camelCase","event","target","name","setState","value","componentDidMount","getData","createdBy","localStorage","getItem","get","then","response","data","count","catch","error","console","log","componentWillReceiveProps","nextProps","length","managerId","managerId1","managerID","managerID1","_id","bookingNumber","bookingId","empID","employeeId","estimatedCost","status","statusValue","bookingDate","createdAt","format","purposeOfTravel","purpose","purposeOfTravelOther","array","from","address","pickupDate","pickupTime","returnDate","to","returnTime","bookingType","tripType","instructions","specialInstruction","selectedVehicle","category","stopArr","intermediateStops","brand","model","capacity","document","getElementById","classList","add","str","toLowerCase","split","map","word","charAt","toUpperCase","slice","join","preventDefault","scrollTop","currentTarget","attr","empId","bookingNum","cost","date","manager","show","removeClass","addClass","vehicleCategoryId","res","render","index","approvalRequired","area","city"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $                    from 'jquery';\nimport axios                from 'axios';\nimport _                    from 'underscore';\nimport moment                   from 'moment';\n\nimport BookingProfile        from './BookingProfile.js';\nimport BookingMaster        from './BookingMaster.js';\n\n\nimport swal                 from 'sweetalert';\nimport 'bootstrap/js/tab.js';\n\nclass ChangeRequestList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bookingData: [],\n            id:\"\",\n            \n        };\n        \n        this.handleChange = this.handleChange.bind(this);\n        this.ShowForm = this.ShowForm.bind(this);\n        this.camelCase = this.camelCase.bind(this);\n    }\n\n    handleChange(event) {\n        const target = event.target;\n        const name = target.name;\n\n        this.setState({\n            [name]: event.target.value\n        });\n    }\n\n    \n\n componentDidMount() {\n\n        this.getData();\n        var createdBy = localStorage.getItem(\"user_ID\")\n        axios.get(\"/api/bookingmaster/get/count/\"+createdBy)\n        .then((response) => {\n            this.setState({'bookingCount':response.data.count})\n        })\n        .catch((error) =>{\n            console.log('error: ',error)\n        })\n        \n    }\n\n\n    componentWillReceiveProps(nextProps){\n      this.getData();\n    }\n\n   \n\n    getData(){\n      var createdBy = localStorage.getItem(\"user_ID\")\n\n        axios.get(\"/api/bookingmaster/get/getBookingsByStatus/Change Request\")\n        .then((response) => {\n          if(response.data && response.data.length > 0){\n            this.setState({'bookingData':response.data,\n                        // showDetails:true,\n                        managerId:response.data[0].managerId1,\n                        managerID:response.data[0].managerID1,\n                        id:response.data[0]._id,\n                        bookingNumber:response.data[0].bookingId,\n                        empID :response.data[0].employeeId,\n                        estimatedCost :response.data[0].estimatedCost,\n                        status :response.data[0].statusValue,\n\n                        bookingDate:moment(response.data[0].createdAt).format('DD/MM/YYYY') },()=>{  \n                            axios.get('/api/bookingmaster/get/booking/'+this.state.id)\n                            .then((response) => {\n                                  if(response.data.data[0].purposeOfTravel == \"Other\"){\n                                    var purpose = response.data.data[0].purposeOfTravelOther\n                                  }else{\n                                    var purpose = response.data.data[0].purposeOfTravel\n                                  }\n                                var array = {\n                                  from    : response.data.data[0].from.address,\n                                  pickupDate : response.data.data[0].pickupDate,\n                                  pickupTime : response.data.data[0].pickupTime,\n                                  returnDate : response.data.data[0].returnDate,\n                                  to         : response.data.data[0].to.address,\n                                  returnTime : response.data.data[0].returnTime,\n                                  bookingType : response.data.data[0].tripType,\n                                  purposeOfTravel: purpose,\n                                  instructions  :response.data.data[0].specialInstruction,\n                                  selectedVehicle  :this.state.category,\n                                  stopArr : response.data.data[0].intermediateStops,\n                                  brand:this.state.brand,\n                                  model:this.state.model,\n                                  capacity:this.state.capacity,\n                                }\n                                this.setState({'tripArray':array,status:response.data.data[0].statusValue})\n                            })\n                            .catch((error) =>{\n\n                            })\n                        });\n            document.getElementById(response.data[0]._id).classList.add(\"selectedEmployee\")\n         }\n        })\n        .catch((error) =>{\n            console.log('error: ',error)\n        })\n    }\n    \n    \n    camelCase(str) {\n        return str\n            .toLowerCase()\n            .split(' ')\n            .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n            .join(' ');\n    }\n    \n    ShowForm(event) {\n        event.preventDefault();\n        $(\"html,body\").scrollTop(0);\n        var data = $(event.currentTarget).attr('id');\n        var empId = $(event.currentTarget).attr('name');\n        var bookingNum = $(event.currentTarget).attr('number');\n        var cost = $(event.currentTarget).attr('cost');\n        var date = $(event.currentTarget).attr('dateattr');\n        var manager = $(event.currentTarget).attr('manager');\n        var status = $(event.currentTarget).attr('status');\n        var managerID = $(event.currentTarget).attr('managerID');\n        this.setState({ id: data, empID:empId, bookingNumber:bookingNum , \n            estimatedCost:cost,bookingDate:moment(date).format('DD/MM/YYYY'),\n            managerId : manager , status : status,managerID:managerID\n            });\n\n        $('.commonSup').show()\n        $('.selected').removeClass('selectedEmployee');\n        $(event.currentTarget).addClass('selectedEmployee');\n\n        axios.get('/api/bookingmaster/get/booking/'+data)\n            .then((response) => {\n                axios.get(\"/api/categorymaster/get/one/\"+response.data.data[0].vehicleCategoryId)\n                    .then((res) => {\n                        this.setState({\n                          category  :res.data.category,\n                          // brand:res.data.brand,\n                          // model:res.data.model,\n                          // capacity:res.data.capacity\n                        })\n                    })\n                    .catch((error) => {\n                        console.log('error: ',error)\n                    })\n                    if(response.data.data[0].purposeOfTravel == \"Other\"){\n                      var purpose = response.data.data[0].purposeOfTravelOther\n                    }else{\n                      var purpose = response.data.data[0].purposeOfTravel\n                    }\n                var array = {\n                  from    : response.data.data[0].from.address,\n                  pickupDate : response.data.data[0].pickupDate,\n                  pickupTime : response.data.data[0].pickupTime,\n                  returnDate : response.data.data[0].returnDate,\n                  to         : response.data.data[0].to.address,\n                  returnTime : response.data.data[0].returnTime,\n                  bookingType : response.data.data[0].tripType,\n                  purposeOfTravel: purpose,\n                  instructions  :response.data.data[0].specialInstruction,\n                  selectedVehicle  :this.state.category,\n                  stopArr : response.data.data[0].intermediateStops,\n                  // brand:this.state.brand,\n                  // model:this.state.model,\n                  // capacity:this.state.capacity,\n                }\n                this.setState({'tripArray':array,status:response.data.data[0].statusValue})\n            })\n            .catch((error) =>{\n                console.log('error: ',error)\n            })\n\n    }\n\n    \n       \n    render() {\n        return (\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <div className=\"row\">\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOPadding\">\n                        <section className=\"content\">\n                            <div className=\"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                                    <h4 className=\"weighttitle col-lg-5 col-md-11 col-xs-11 col-sm-11 NOpadding-right\"><span className=\"\">Change Request List</span></h4>\n                                </div>\n                               \n                                \n                                {this.state.bookingData && this.state.bookingData.length > 0 ?\n                                    <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 scrollbar\" id=\"style-2\">\n                                        <div className=\"borderlist12\">\n                                            {\n                                                this.state.bookingData.map((data, index) => {\n                                                    \n                                                    return (\n                                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 empContainer cursorStyle selected activeEmployee\" key={index} onClick={this.ShowForm.bind(this)} number={data.bookingId} cost={data.estimatedCost} status={data.statusValue} manager={data.approvalRequired == 'Yes' ? data.managerId1 : null} managerID={data.managerID1} name={data.employeeId} dateattr={data.createdAt} id={data._id}>\n                                                            <div className=\"col-lg-3 col-md-2 col-sm-2 col-xs-2 dateContainer\">\n                                                                <label className=\"col-lg-12 onlyDay\">{moment(data.pickupDate).format('ddd')}</label>\n                                                                <label className=\"col-lg-12 firstDate\">{moment(data.pickupDate).format('DD')}</label>\n                                                                <label className=\"col-lg-12 dateWith\">{moment(data.pickupDate).format('MMM')} {moment(data.pickupDate).format('YY')}</label>\n                                                            </div>\n                                                            <div className=\"col-lg-9 col-md-10 col-sm-10 col-xs-10 listprofileEmployee nopadding\">\n                                                                <div className=\"col-lg-10 col-md-10 tripDetail\">\n                                                                    <label className=\"titleTrip col-lg-12\">Booking Number: {data.bookingId}</label>\n                                                                    <label className=\" tripType col-lg-12\">{data.from.area} To {data.to.city}</label>\n                                                                    <label className=\" tripType col-lg-12\">Pickup At: {data.pickupTime}</label>\n                                                                    <span className={data.statusValue == 'New'? \"label label-primary pull-right statusStyle\" : data.statusValue == 'Manager Approved' ? \"label label-success pull-right statusStyle\":data.statusValue == 'Manager Rejected' ? \"label label-danger pull-right statusStyle\":data.statusValue == 'Change Request' ? \"label label-warning pull-right statusStyle\": \"label label-info pull-right statusStyle\"}>{data.statusValue}</span>\n                                                                  \n                                                                </div>\n                                                                <div className=\"col-lg-2 nopadding\">\n                                                                    <div className=\"addedDivBM col-lg-12 nopadding\">\n                                                                        <img src=\"/images/leftArrow.png\"/>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    );\n                                                })\n                                            }\n                                        </div>\n                                    </div>\n                                    :\n                                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-align-center\">\n                                        <h5>No Data Found</h5>\n                                    </div>\n                                }\n                                { this.state.id && this.state.bookingData && this.state.bookingData.length > 0 ?\n                                    <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12 pickupType nopadding commonSup\" id={this.state.id}>\n                                       <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding\">\n                                        <ul className=\"col-lg-3\"><li>Booking ID</li><li> #{this.state.bookingNumber}</li></ul>\n                                        <h5 className=\"col-lg-6 titleBooking\">Booking Details</h5>\n                                        <ul className=\"col-lg-3\"><li>Booking Date</li><li>{this.state.bookingDate}</li></ul>\n                                        \n                                        <div className=\"dots dropdown1 marginAjt col-lg-12 col-md-6 col-sm-6 col-xs-6\">\n                                            <i className=\"fa fa-ellipsis-h dropbtn1 dropbtn2 buttonDrop3\" aria-hidden=\"true\"></i>\n                                            <div className=\"dropdown-content1 dropdown2-content2\">\n                                                <ul className=\"pdcls ulbtm\">\n                                                    <li id={this.state.id} className=\"styleContactActbtn\" data-toggle=\"modal\"  data-target=\"#EditBooking\"> \n                                                        <a><i className=\"fa fa-pencil penmrleft\" aria-hidden=\"true\" ></i>&nbsp;&nbsp;<span className=\"mrflfedit\">Edit</span></a>\n                                                    </li>\n                                                </ul>\n                                            </div>\n                                          {/*Modal*/}\n                                          <div id=\"EditBooking\" className=\"modal col-lg-12\" role=\"dialog\">\n                                            <div className=\"modal-dialog\">\n\n                                              <div className=\"modal-content\">\n                                                <div className=\"modal-header\">\n                                                 <h5 className=\"modal-title col-md-4 modalTitle_trip\">Trip Booking</h5>\n                                              <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                                  <span aria-hidden=\"true\">&times;</span>\n                                                </button>\n                                                </div>\n                                                <div className=\"modal-body\">\n                                                  <BookingMaster getData={this.getData.bind(this)} bookingId={this.state.id} />\n                                                </div>\n                                                <div className=\"modal-footer\">\n                                                </div>\n                                              </div>\n                                               \n                                            </div>\n                                          </div>\n                                          {/*Modal*/}\n                                        </div>\n                                       </div>\n                                       <div className=\"col-lg-12 borderDiv\"></div>\n\n                                      \n                                       \n                                       <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding\">\n                                       <BookingProfile id={this.state.id} entity=\"ChangeRequest\" />                   \n                                      </div>\n                                      \n                                    </div>\n                                    :\n                                    null\n                                }\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nexport default ChangeRequestList;"]},"metadata":{},"sourceType":"module"}