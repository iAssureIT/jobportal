{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/userManagement/UM/UserProfile.js\";\nimport React, { Component } from 'react';\nimport PhoneInput from 'react-phone-input-2';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport { withRouter, Link } from 'react-router-dom';\nimport S3FileUpload from 'react-s3';\nimport \"./userManagement.css\";\n\nclass EditUserProfile extends Component {\n  constructor(props) {\n    super(props);\n    var UserId = this.props.match.params.id;\n    this.state = {\n      UserId: UserId,\n      fullname: \"\",\n      username: \"\",\n      mobNumber: \"\",\n      profileImage: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      centerName: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  isNumberKey(event) {\n    var charCode = event.which ? event.which : event.keyCode;\n\n    if (charCode > 31 && (charCode < 48 || charCode > 57) && (charCode < 96 || charCode > 105)) {\n      event.preventDefault();\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if ($('#editUser').valid()) {\n      var userid = this.state.UserId;\n      var formvalues = {\n        \"firstname\": this.refs.firstName.value,\n        \"lastname\": this.refs.lastName.value,\n        \"mobNumber\": this.state.mobNumber,\n        \"image\": this.state.profileImage // \"companyID\" :\"1\"\n\n      };\n      var fullname = this.refs.firstName.value + ' ' + this.refs.lastName.value;\n      var profileImg = this.state.profileImage;\n      localStorage.setItem(\"fullname\", fullname);\n      localStorage.setItem(\"profileImg\", profileImg);\n      console.log(\"image formvalues==>\", formvalues);\n      axios.patch('/api/users/patch/profile/' + userid, formvalues).then(response => {\n        console.log('response', response);\n\n        if (response.data = \"USER_UPDATED\") {\n          swal({\n            title: \" \",\n            text: \"User updated successfully\"\n          });\n          this.props.history.push('/dashboard');\n          window.location.reload();\n        } else {\n          // updated : false\n          swal({\n            title: \" \",\n            text: \"User not modified\"\n          });\n        }\n      }).catch(error => {});\n    }\n  }\n\n  handleChange(event) {\n    const target = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: target\n    }, () => {});\n  }\n\n  componentDidMount() {\n    var userid = this.state.UserId;\n    axios.get('/api/users/get/' + userid).then(res => {\n      console.log(\"res.data.image==>\", res);\n      this.setState({\n        firstName: res.data.firstname,\n        lastName: res.data.lastname,\n        username: res.data.email,\n        mobNumber: res.data.mobile,\n        profileImage: res.data.image,\n        companyID: res.data.companyID\n      });\n    }).catch(error => {});\n  }\n\n  imgBrowse(event) {\n    event.preventDefault();\n    var profileImage = \"\";\n\n    if (event.currentTarget.files && event.currentTarget.files[0]) {\n      var file = event.currentTarget.files[0];\n      console.log(\"file==>\", file);\n\n      if (file) {\n        var fileName = file.name;\n        console.log(\"fileName==>\", fileName);\n        var ext = fileName.split('.').pop();\n\n        if (ext === \"jpg\" || ext === \"png\" || ext === \"jpeg\" || ext === \"JPG\" || ext === \"PNG\" || ext === \"JPEG\") {\n          if (file) {\n            var objTitle = {\n              fileInfo: file\n            };\n            profileImage = objTitle;\n          } else {\n            console.log(\"not==>\");\n            swal(\"Images not uploaded\");\n          } //file\n\n        } else {\n          console.log(\"format==>\");\n          swal(\"Allowed images formats are (jpg,png,jpeg)\");\n        } //file types\n\n      } //file\n\n\n      if (event.currentTarget.files) {\n        main().then(formValues => {\n          var profileImage = this.state.profileImage; //   for(var k = 0; k < formValues.length; k++){\n\n          profileImage = formValues.profileImage; //   }\n\n          this.setState({\n            profileImage: profileImage\n          });\n        });\n\n        async function main() {\n          var formValues = []; // for(var j = 0; j < profileImage.length; j++){\n\n          var config = await getConfig();\n          var s3url = await s3upload(profileImage.fileInfo, config, this);\n          const formValue = {\n            \"profileImage\": s3url,\n            \"status\": \"New\"\n          };\n          formValues = formValue; // }\n\n          return Promise.resolve(formValues);\n        }\n\n        function s3upload(image, configuration) {\n          return new Promise(function (resolve, reject) {\n            S3FileUpload.uploadFile(image, configuration).then(Data => {\n              resolve(Data.location);\n            }).catch(error => {});\n          });\n        }\n\n        function getConfig() {\n          return new Promise(function (resolve, reject) {\n            axios.get('/api/projectsettings/get/S3').then(response => {\n              const config = {\n                bucketName: response.data.bucket,\n                dirName: 'propertiesImages',\n                region: response.data.region,\n                accessKeyId: response.data.key,\n                secretAccessKey: response.data.secret\n              };\n              resolve(config);\n            }).catch(function (error) {});\n          });\n        }\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"formWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-xs-12 col-sm-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 10\n      }\n    }, \"My Profile\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-xs-12 col-sm-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pull-right\",\n      \"data-toggle\": \"modal\",\n      \"aria-labelledby\": \"myModals\",\n      \"data-target\": \"#myModals\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/reset-password\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"btn btnhvr btn-Profile \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, \"Reset Password\"))))), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"hr-head container-fluid row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"editUser\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2 col-sm-2 col-xs-12 col-md-12 form-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 14\n      }\n    }, \"Profile Photo \", /*#__PURE__*/React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 97\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding marginsBottom\",\n      id: \"hide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 profilelogos\",\n      id: \"ProfileImageUpOne\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"profileimg\",\n      src: this.state.profileImage ? this.state.profileImage : \"/images/person.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      multiple: true,\n      onChange: this.imgBrowse.bind(this),\n      id: \"LogoImageUp\",\n      type: \"file\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      title: \"Upload/Change Image for SuperAdmin profile picture.\",\n      name: \"profileImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 16\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-9 col-sm-9 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 16\n      }\n    }, \"First Name \", /*#__PURE__*/React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 96\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      id: \"firstNameErr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        textTransform: 'capitalize'\n      },\n      className: \"form-control\",\n      id: \"firstName\",\n      ref: \"firstName\",\n      name: \"firstName\",\n      value: this.state.firstName,\n      onChange: this.handleChange,\n      placeholder: \"First Name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 16\n      }\n    }, \"Last Name \", /*#__PURE__*/React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 95\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      id: \"lastNameErr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"lastName\",\n      ref: \"lastName\",\n      name: \"lastName\",\n      value: this.state.lastName,\n      onChange: this.handleChange,\n      placeholder: \"Last Name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 16\n      }\n    }, \"Username/Email \", /*#__PURE__*/React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 100\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\",\n      id: \"usernameErr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      disabled: true,\n      value: this.state.username,\n      onChange: this.handleChange,\n      className: \"form-control\",\n      ref: \"username\",\n      name: \"username\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 16\n      }\n    }, \"Mobile Number \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 38\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"tel\",\n      minlength: \"10\",\n      maxlength: \"11\",\n      required: true,\n      pattern: \"[0-9]{3}-[0-9]{3}-[0-9]{4}\",\n      onKeyDown: this.isNumberKey.bind(this),\n      className: \"formFloatingLabels form-control  newinputbox\",\n      ref: \"mobNumber\",\n      name: \"mobNumber\",\n      id: \"mobNumber\",\n      \"data-text\": \"mobNumber\",\n      onChange: this.handleChange,\n      value: this.state.mobNumber,\n      placeholder: \"Mobile Number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 16\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 16\n      }\n    }, \"Company ID \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"requiredsign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 34\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      disabled: true,\n      className: \"formFloatingLabels form-control  newinputbox\",\n      ref: \"companyID\",\n      name: \"companyID\",\n      id: \"companyID\",\n      \"data-text\": \"companyID\",\n      onChange: this.handleChange,\n      value: this.state.companyID,\n      placeholder: \"Company ID\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 16\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-12 col-sm-12 col-xs-12 col-md-12 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleSubmit.bind(this),\n      className: \"col-lg-2 col-sm-2 col-xs-2 col-md-2 btn resetBtn pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 14\n      }\n    }, \"Update\")))))))))));\n  }\n\n}\n\nexport default EditUserProfile;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/userManagement/UM/UserProfile.js"],"names":["React","Component","PhoneInput","axios","swal","$","withRouter","Link","S3FileUpload","EditUserProfile","constructor","props","UserId","match","params","id","state","fullname","username","mobNumber","profileImage","firstName","lastName","centerName","handleChange","bind","isNumberKey","event","charCode","which","keyCode","preventDefault","handleSubmit","valid","userid","formvalues","refs","value","profileImg","localStorage","setItem","console","log","patch","then","response","data","title","text","history","push","window","location","reload","catch","error","target","name","setState","componentDidMount","get","res","firstname","lastname","email","mobile","image","companyID","imgBrowse","currentTarget","files","file","fileName","ext","split","pop","objTitle","fileInfo","main","formValues","config","getConfig","s3url","s3upload","formValue","Promise","resolve","configuration","reject","uploadFile","Data","bucketName","bucket","dirName","region","accessKeyId","key","secretAccessKey","secret","render","textTransform"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PhoneInput from 'react-phone-input-2';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport { withRouter ,Link} from 'react-router-dom';\nimport S3FileUpload from 'react-s3';\nimport \"./userManagement.css\";\nclass EditUserProfile extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tvar UserId = this.props.match.params.id;\n\t\tthis.state = {\n\t\t\tUserId: UserId,\n\t\t\tfullname: \"\",\n\t\t\tusername: \"\",\n\t\t\tmobNumber: \"\",\n\t\t\tprofileImage: \"\",\n\t\t\tfirstName: \"\",\n\t\t\tlastName: \"\",\n\t\t\tcenterName: \"\",\n\t\t}\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tisNumberKey(event)\n\t   {\n\n\t   var charCode = (event.which) ? event.which : event.keyCode\n\n\t   if (charCode > 31 && (charCode < 48 || charCode > 57)  && (charCode < 96 || charCode > 105))\n\t   {\n\t    event.preventDefault();\n\t      return false;\n\t    }\n\t    else{\n\t      return true;\n\t    }\n\t  }\n\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tif ($('#editUser').valid()) {\n\t\t\tvar userid = this.state.UserId;\n\n\t\t\tvar formvalues = {\n\t\t\t\t\"firstname\": this.refs.firstName.value,\n\t\t\t\t\"lastname\": this.refs.lastName.value,\n\t\t\t\t\"mobNumber\": this.state.mobNumber,\n\t\t\t\t\"image\": this.state.profileImage,\n\t\t\t\t// \"companyID\" :\"1\"\n\t\t\t}\n\t\t\tvar fullname = this.refs.firstName.value+' '+this.refs.lastName.value\n\t\t\tvar profileImg = this.state.profileImage\n\n            localStorage.setItem(\"fullname\", fullname);\n            localStorage.setItem(\"profileImg\", profileImg);\n\n\t\t\tconsole.log(\"image formvalues==>\", formvalues)\n\t\t\taxios.patch('/api/users/patch/profile/' + userid, formvalues)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log('response',response);\n\t\t\t\t\tif (response.data=\"USER_UPDATED\") {\n\t\t\t\t\t\tswal({\n\t\t\t\t\t\t\ttitle: \" \",\n\t\t\t\t\t\t\ttext: \"User updated successfully\",\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.props.history.push('/dashboard');\n\t\t\t\t\t\twindow.location.reload();\n                    }else{\n\t\t\t\t\t// updated : false\n\t\t\t\t\tswal({\n\t\t\t\t\t\t\ttitle: \" \",\n\t\t\t\t\t\t\ttext: \"User not modified\",\n\t\t\t\t\t\t});\n\n                    }\n\t\t\t\t})\n\t\t\t\t.catch((error) => {});\n\t\t}\n\t}\n\n\n\thandleChange(event) {\n\t\tconst target = event.target.value;\n\t\tconst name = event.target.name;\n\t\tthis.setState({\n\t\t\t[name]: target,\n\t\t}, () => {\n\t\t})\n\t}\n\n\tcomponentDidMount() {\n\t\tvar userid = this.state.UserId;\n\t\taxios.get('/api/users/get/' + userid)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(\"res.data.image==>\", res);\n\t\t\t\tthis.setState({\n\t\t\t\t\tfirstName: res.data.firstname,\n\t\t\t\t\tlastName: res.data.lastname,\n\t\t\t\t\tusername: res.data.email,\n\t\t\t\t\tmobNumber: res.data.mobile,\n\t\t\t\t\tprofileImage: res.data.image,\n\t\t\t\t\tcompanyID: res.data.companyID\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t});\n\t}\n\timgBrowse(event) {\n\t\tevent.preventDefault();\n\t\tvar profileImage = \"\";\n\t\tif (event.currentTarget.files && event.currentTarget.files[0]) {\n\t\t\tvar file = event.currentTarget.files[0];\n\t\t\tconsole.log(\"file==>\", file);\n\t\t\tif (file) {\n\t\t\t\tvar fileName = file.name;\n\t\t\t\tconsole.log(\"fileName==>\", fileName);\n\t\t\t\tvar ext = fileName.split('.').pop();\n\t\t\t\tif (ext === \"jpg\" || ext === \"png\" || ext === \"jpeg\" || ext === \"JPG\" || ext === \"PNG\" || ext === \"JPEG\") {\n\t\t\t\t\tif (file) {\n\t\t\t\t\t\tvar objTitle = { fileInfo: file }\n\t\t\t\t\t\tprofileImage = objTitle;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"not==>\");\n\t\t\t\t\t\tswal(\"Images not uploaded\");\n\t\t\t\t\t}//file\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"format==>\");\n\t\t\t\t\tswal(\"Allowed images formats are (jpg,png,jpeg)\");\n\t\t\t\t}//file types\n\t\t\t}//file\n\t\t\tif (event.currentTarget.files) {\n\t\t\t\tmain().then(formValues => {\n\t\t\t\t\tvar profileImage = this.state.profileImage;\n\t\t\t\t\t//   for(var k = 0; k < formValues.length; k++){\n\t\t\t\t\tprofileImage = formValues.profileImage\n\t\t\t\t\t//   }\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tprofileImage: profileImage\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tasync function main() {\n\t\t\t\t\tvar formValues = [];\n\t\t\t\t\t// for(var j = 0; j < profileImage.length; j++){\n\t\t\t\t\tvar config = await getConfig();\n\t\t\t\t\tvar s3url = await s3upload(profileImage.fileInfo, config, this);\n\t\t\t\t\tconst formValue = {\n\t\t\t\t\t\t\"profileImage\": s3url,\n\t\t\t\t\t\t\"status\": \"New\"\n\t\t\t\t\t};\n\t\t\t\t\tformValues = formValue;\n\t\t\t\t\t// }\n\t\t\t\t\treturn Promise.resolve(formValues);\n\t\t\t\t}\n\t\t\t\tfunction s3upload(image, configuration) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tS3FileUpload\n\t\t\t\t\t\t\t.uploadFile(image, configuration)\n\t\t\t\t\t\t\t.then((Data) => {\n\t\t\t\t\t\t\t\tresolve(Data.location);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tfunction getConfig() {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\taxios\n\t\t\t\t\t\t\t.get('/api/projectsettings/get/S3')\n\t\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\t\tconst config = {\n\t\t\t\t\t\t\t\t\tbucketName: response.data.bucket,\n\t\t\t\t\t\t\t\t\tdirName: 'propertiesImages',\n\t\t\t\t\t\t\t\t\tregion: response.data.region,\n\t\t\t\t\t\t\t\t\taccessKeyId: response.data.key,\n\t\t\t\t\t\t\t\t\tsecretAccessKey: response.data.secret,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresolve(config);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function (error) {})\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container-fluid\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"formWrapper\">\n\t\t\t\t\t\t<section className=\"content\">\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent \">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6 col-xs-12 col-sm-12 \">\n\t\t\t\t\t\t\t\t\t\tMy Profile\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6 col-xs-12 col-sm-12 \">\n\t\t\t\t\t\t\t\t\t{/* <button onClick={this.handleSubmit.bind(this)} className=\"col-lg-4 col-sm-4 col-xs-2 col-md-2 btn resetBtn resetBtncss pull-right\">Reset Password</button> */}\n\t\t\t\t\t\t\t\t\t\t<div className=\"pull-right\" data-toggle=\"modal\" aria-labelledby=\"myModals\" data-target=\"#myModals\" aria-hidden=\"true\">\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/reset-password\" aria-expanded=\"false\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"btn btnhvr btn-Profile \">Reset Password</p>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<hr className=\"hr-head container-fluid row\" />\n\t\t\t\t\t\t\t\t<div className=\"box-body\">\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t<form id=\"editUser\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-2 col-xs-12 col-md-12 form-margin\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">Profile Photo <label className=\"requiredsign\">&nbsp;</label></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding marginsBottom\" id=\"hide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 profilelogos\" id=\"ProfileImageUpOne\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <div className=\"\" style={{\"backgroundImage\":`url(`+ (this.state.profileImage ? this.state.profileImage : \"/images/person.png\")+`)`, \"height\": \"100%\", \"backgroundSize\":\"100% 100%\"}}></div>\u001c */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"profileimg\" src={this.state.profileImage ? this.state.profileImage : \"/images/person.png\"} ></img>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input multiple onChange={this.imgBrowse.bind(this)} id=\"LogoImageUp\" type=\"file\" className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" title=\"Upload/Change Image for SuperAdmin profile picture.\" name=\"profileImage\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-9 col-sm-9 col-xs-12 col-md-12 NOpadding\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">First Name <label className=\"requiredsign\">*</label></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\" id=\"firstNameErr\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" style={{ textTransform: 'capitalize' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"firstName\" ref=\"firstName\" name=\"firstName\" value={this.state.firstName} onChange={this.handleChange} placeholder=\"First Name\" required/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">Last Name <label className=\"requiredsign\">*</label></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\" id=\"lastNameErr\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"lastName\" ref=\"lastName\" name=\"lastName\" value={this.state.lastName} onChange={this.handleChange} placeholder=\"Last Name\" required/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-6 col-md-6 col-xs-6 col-sm-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\">Username/Email <label className=\"requiredsign\">*</label></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12 col-xs-12 col-md-12 NOpadding\" id=\"usernameErr\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" disabled value={this.state.username} onChange={this.handleChange} className=\"form-control\" ref=\"username\" name=\"username\" required />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label >Mobile Number <span className=\"requiredsign\">*</span></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"tel\" minlength=\"10\" maxlength=\"11\" required pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\" onKeyDown={this.isNumberKey.bind(this)} className=\"formFloatingLabels form-control  newinputbox\" ref=\"mobNumber\" name=\"mobNumber\" id=\"mobNumber\" data-text=\"mobNumber\" onChange={this.handleChange} value={this.state.mobNumber}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Mobile Number\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-6 col-md-6 col-xs-12 col-sm-12  valid_box\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Company ID <span className=\"requiredsign\">*</span></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" disabled className=\"formFloatingLabels form-control  newinputbox\" ref=\"companyID\" name=\"companyID\" id=\"companyID\" data-text=\"companyID\" onChange={this.handleChange} value={this.state.companyID}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Company ID\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-margin col-lg-12 col-sm-12 col-xs-12 col-md-12 pull-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button onClick={this.handleSubmit.bind(this)} className=\"col-lg-2 col-sm-2 col-xs-2 col-md-2 btn resetBtn pull-right\">Update</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default EditUserProfile;\n\n\n"]},"metadata":{},"sourceType":"module"}