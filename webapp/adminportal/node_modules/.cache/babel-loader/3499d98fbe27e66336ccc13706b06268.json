{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/Master/EmployeeVehicalMapping/EmployeeVehicalMapping.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport IAssureTable from '../../IAssureTable/IAssureTable.jsx';\nimport { withRouter } from 'react-router-dom';\nimport { CheckBoxSelection, Inject, MultiSelectComponent } from '@syncfusion/ej2-react-dropdowns';\nimport \"./EmployeeVehicalMapping.css\";\n\nclass EmployeeVehicalMapping extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"user_ID\": localStorage.getItem(\"user_ID\"),\n      \"company_Id\": localStorage.getItem(\"company_Id\"),\n      \"id\": \"\",\n      \"secondField\": \"\",\n      empCategory: \"\",\n      VehicleCategory: \"\",\n      company: \"\",\n      \"secondFieldData\": [],\n      \"companyArray\": [],\n      \"selectedIndex\": \"\",\n      \"vehicalAvailable\": true,\n      \"tableHeading\": {\n        empCategory: \"Employee Category\",\n        company: \"Corporate Name\",\n        vehicalCategory: \"Vehical Category\",\n        actions: 'Action'\n      },\n      \"tableObjects\": {\n        deleteMethod: 'delete',\n        apiLink: '/api/VehicleEmployeeMapping/',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/project-master-data'\n      },\n      \"startRange\": 0,\n      \"limitRange\": 10,\n      \"categoryID\": ''\n    };\n  }\n\n  componentDidMount() {\n    this.getVehicals();\n    this.getCompany();\n    this.getData();\n\n    if (this.state.categoryID) {\n      this.edit(this.state.categoryID);\n    }\n\n    $.validator.addMethod(\"regxonefield\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid field value\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#empVehicalCategory\").validate({\n      rules: {\n        empCategory: {\n          required: true\n        },\n        company: {\n          required: true\n        }\n        /* vehicalCategory: {\n           required: true,\n         },*/\n\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"empCategory\") {\n          error.insertAfter(\"#empCategory\");\n        }\n        /*if (element.attr(\"name\") === \"vehicalCategory\") {\n          error.insertAfter(\"#vehicalCategory\");\n        }*/\n\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.editId) {\n      this.edit(nextProps.editId);\n    }\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  submitCategory(event) {\n    event.preventDefault();\n    var vehicleCatArray = this.state.VehicleCategory;\n    var result = [];\n\n    for (var i = 0; i < vehicleCatArray.length; i++) {\n      result.push({\n        category_id: vehicleCatArray[i]\n      });\n    } //i\n\n\n    var formvalue = {\n      empCategory: this.state.empCategory,\n      company: this.state.company,\n      VehicleCategory: result,\n      createdBy: localStorage.getItem(\"user_ID\")\n    };\n\n    if (this.state.VehicleCategory) {\n      this.setState({\n        vehicalAvailable: true\n      });\n    } else {\n      this.setState({\n        vehicalAvailable: false\n      });\n    }\n\n    if ($('#empVehicalCategory').valid() && this.state.vehicalAvailable) {\n      axios.post('/api/VehicleEmployeeMapping/post', formvalue).then(response => {\n        if (response.data.duplicated == true) {\n          swal({\n            text: \"Duplicate Entry\"\n          });\n        } else {\n          swal({\n            text: \"Details added successfully!\"\n          });\n        }\n\n        this.dropDownListObject.value = null;\n        this.setState({\n          empCategory: \"\",\n          VehicleCategory: \"\",\n          company: \"\"\n        });\n        this.getData();\n      }).catch(error => {\n        console.log(\"Error in Post API of Two field = \", error);\n      });\n    }\n  }\n\n  updateCategory(event) {\n    event.preventDefault();\n    var vehicleCatArray = this.state.VehicleCategory;\n    var result = [];\n\n    for (var i = 0; i < vehicleCatArray.length; i++) {\n      result.push({\n        category_id: vehicleCatArray[i]\n      });\n    } //i\n\n\n    var formvalues = {\n      id: this.state.id,\n      empCategory: this.state.empCategory,\n      company: this.state.company,\n      VehicleCategory: result,\n      updatedBy: localStorage.getItem(\"user_ID\")\n    };\n\n    if ($('#empVehicalCategory').valid()) {\n      axios.patch('/api/VehicleEmployeeMapping/patch', formvalues).then(response => {\n        swal(\" \", \"Record updated Successfully\");\n        $('#empCategory').prop('disabled', false);\n        $('#company').prop('disabled', false);\n        this.dropDownListObject.value = null;\n        this.setState({\n          empCategory: \"\",\n          VehicleCategory: \"\",\n          company: \"\",\n          id: \"\"\n        }, () => {\n          this.getData();\n          this.props.history.push(\"/project-master-data\");\n        });\n      }).catch(error => {\n        swal(\" \", \"Failed to Update Record\");\n      });\n    }\n  }\n\n  getData() {\n    axios.post('/api/VehicleEmployeeMapping/list').then(response => {\n      var tableData = response.data.map((value, i) => {\n        return {\n          _id: value._id,\n          empCategory: value.empCategory,\n          company: value.company[0].companyName,\n          vehicalCategory: value.vehicle ? value.vehicle.map((a, i) => {\n            return a.category;\n          }) : \"-NA-\"\n        };\n      });\n      this.setState({\n        tableData: tableData\n      });\n    }).catch(error => {});\n  }\n\n  edit(id) {\n    if (id) {\n      $(\"html,body\").scrollTop(0);\n      $('#empCategory').prop('disabled', true);\n      $('#company').prop('disabled', true);\n      axios.get('/api/VehicleEmployeeMapping/get/one/' + id).then(response => {\n        //console.log('response: ',response)\n        var data = response.data.VehicleCategory;\n        var array = [];\n\n        for (var i = 0; i < data.length; i++) {\n          array.push(data[i].category_id);\n        } //i\n\n\n        this.dropDownListObject.value = array;\n        this.setState({\n          id: response.data._id,\n          empCategory: response.data.empCategory,\n          company: response.data.company,\n          VehicleCategory: array\n        });\n      }).catch(error => {});\n    }\n  }\n\n  getVehicals() {\n    axios.get(\"/api/categorymaster/get/list\").then(response => {\n      var vehicalArray = [];\n      response.data.map((data, ind) => {\n        vehicalArray.push({\n          id: data._id,\n          VehicleCategory: data.category\n        });\n      });\n      this.setState({\n        vehicalArray: vehicalArray\n      });\n    }).catch(error => {});\n  }\n\n  getCompany() {\n    axios.get('/api/entitymaster/get/corporate').then(response => {\n      this.setState({\n        companyArray: response.data\n      }, () => {});\n    }).catch(function (error) {});\n  }\n\n  handleChangeFilter(event) {\n    if (event.value) {\n      this.setState({\n        VehicleCategory: event.value\n      }, () => {\n        if (this.state.VehicleCategory) {\n          this.setState({\n            vehicalAvailable: true\n          });\n        } else {\n          this.setState({\n            vehicalAvailable: false\n          });\n        }\n      });\n    }\n  }\n\n  closeModal(event) {\n    event.preventDefault();\n    $(\"#oneField\").hide();\n    $(\".modal-backdrop\").remove();\n    this.props.history.push('/project-master-data');\n  }\n\n  render() {\n    const vehicalfields = {\n      text: 'VehicleCategory',\n      value: 'id'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"companyDisplayForm col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"col-md-12 pageContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-12 col-md-11 col-xs-11 col-sm-11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 22\n      }\n    }, \"Employee Vehical Mapping\")), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"empVehicalCategory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 driver person employee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"company\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 41\n      }\n    }, \"Corporate\", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 134\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"customSelect col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.company,\n      ref: \"company\",\n      name: \"company\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 45\n      }\n    }, \"--Select Company--\"), this.state.companyArray && this.state.companyArray.length > 0 ? this.state.companyArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: data.companyID,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 61\n        }\n      }, data.companyName, \" \");\n    }) : null))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 driver person employee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"empCategory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 43\n      }\n    }, \"Employee Category \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 145\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"customSelect col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      ref: \"empCategory\",\n      value: this.state.empCategory,\n      name: \"empCategory\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      className: \"colorChange\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 45\n      }\n    }, \"Select Category\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 45\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 45\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 45\n      }\n    }, \"3\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"vehicalCategory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-xs-12 col-sm-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 45\n      }\n    }, \"Vehicals\", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 123\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(MultiSelectComponent, {\n      id: \"categoryChange\",\n      ref: scope => {\n        this.dropDownListObject = scope;\n      },\n      dataSource: this.state.vehicalArray,\n      change: this.handleChangeFilter.bind(this),\n      mode: \"box\",\n      fields: vehicalfields,\n      placeholder: \"Select Vehicle category\",\n      mode: \"CheckBox\",\n      selectAllText: \"Select All\",\n      unSelectAllText: \"Unselect All\",\n      showSelectAll: true,\n      hideSelectedItem: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Inject, {\n      services: [CheckBoxSelection],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"errorMsg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 41\n      }\n    }, this.state.vehicalAvailable == true ? \"\" : \"This field is required\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 34\n      }\n    }, this.state.categoryID ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn button3 pull-right\",\n      onClick: this.updateCategory.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 39\n      }\n    }, \"Update\\xA0\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn button3 pull-right\",\n      onClick: this.submitCategory.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 39\n      }\n    }, \"Submit\\xA0\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"oneFieldTable col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      dataCount: this.state.dataCount,\n      tableData: this.state.tableData,\n      getData: this.getData.bind(this),\n      tableObjects: this.state.tableObjects,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 33\n      }\n    }))));\n  }\n\n}\n\nexport default EmployeeVehicalMapping;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/coreadmin/Master/EmployeeVehicalMapping/EmployeeVehicalMapping.js"],"names":["React","Component","$","jQuery","axios","swal","IAssureTable","withRouter","CheckBoxSelection","Inject","MultiSelectComponent","EmployeeVehicalMapping","constructor","props","state","localStorage","getItem","empCategory","VehicleCategory","company","vehicalCategory","actions","deleteMethod","apiLink","paginationApply","searchApply","editUrl","componentDidMount","getVehicals","getCompany","getData","categoryID","edit","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","required","errorPlacement","error","attr","insertAfter","componentWillReceiveProps","nextProps","editId","handleChange","event","preventDefault","target","name","setState","submitCategory","vehicleCatArray","result","i","length","push","category_id","formvalue","createdBy","vehicalAvailable","valid","post","then","response","data","duplicated","text","dropDownListObject","catch","console","log","updateCategory","formvalues","id","updatedBy","patch","prop","history","tableData","map","_id","companyName","vehicle","a","category","scrollTop","get","array","vehicalArray","ind","companyArray","handleChangeFilter","closeModal","hide","remove","render","vehicalfields","bind","companyID","scope","tableHeading","dataCount","tableObjects"],"mappings":"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","sourcesContent":["import React, { Component }     from 'react';\nimport $                        from 'jquery';\nimport jQuery                   from 'jquery';\nimport axios                    from 'axios';\nimport swal                     from 'sweetalert';\nimport IAssureTable             from '../../IAssureTable/IAssureTable.jsx';\nimport { withRouter }           from 'react-router-dom';\nimport { CheckBoxSelection, Inject, MultiSelectComponent } from '@syncfusion/ej2-react-dropdowns';\nimport \"./EmployeeVehicalMapping.css\";\nclass EmployeeVehicalMapping extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \"user_ID\"              :  localStorage.getItem(\"user_ID\"),\n            \"company_Id\"              : localStorage.getItem(\"company_Id\"),\n            \"id\"              : \"\",\n            \"secondField\"          : \"\",\n            empCategory:\"\",\n            VehicleCategory:\"\",\n            company:\"\",\n            \"secondFieldData\"      : [], \n            \"companyArray\"      : [], \n            \"selectedIndex\"        : \"\",\n            \"vehicalAvailable\"     :true,\n            \"tableHeading\": {\n                empCategory: \"Employee Category\",\n                company: \"Corporate Name\",\n                vehicalCategory : \"Vehical Category\",\n                actions: 'Action',\n            },\n            \"tableObjects\": {\n                deleteMethod: 'delete',\n                apiLink: '/api/VehicleEmployeeMapping/',\n                paginationApply: false,\n                searchApply: false,\n                editUrl: '/project-master-data'\n            },\n            \"startRange\": 0,\n            \"limitRange\": 10,\n            \"categoryID\"           : '',\n        };\n    }   \n    componentDidMount() {\n        this.getVehicals();\n        this.getCompany();\n        this.getData();\n        if(this.state.categoryID){  \n            this.edit(this.state.categoryID);\n        }\n\n        \n        $.validator.addMethod(\"regxonefield\", function (value, element, regexpr) {\n          return regexpr.test(value);\n        }, \"Please enter valid field value\");\n        \n        jQuery.validator.setDefaults({\n          debug: true,\n          success: \"valid\"\n        });\n        $(\"#empVehicalCategory\").validate({\n        rules: {\n            empCategory: {\n              required: true,\n            },\n            company: {\n              required: true,\n            },\n           /* vehicalCategory: {\n              required: true,\n            },*/\n        },\n        errorPlacement: function (error, element) {            \n            if (element.attr(\"name\") === \"empCategory\") {\n              error.insertAfter(\"#empCategory\");\n            }\n            /*if (element.attr(\"name\") === \"vehicalCategory\") {\n              error.insertAfter(\"#vehicalCategory\");\n            }*/\n          }\n        });\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.editId)\n        {\n         this.edit(nextProps.editId);\n        }\n         \n    }\n\n    handleChange(event) {\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n        this.setState({\n            [name] : event.target.value\n        });\n    }\n   \n    submitCategory(event) {\n        event.preventDefault();\n        var vehicleCatArray = this.state.VehicleCategory;\n      var result = [];\n      for(var i=0 ; i<vehicleCatArray.length ; i++){\n        result.push({category_id:vehicleCatArray[i]})\n      }//i\n        var formvalue ={\n          empCategory    : this.state.empCategory, \n          company    : this.state.company, \n          VehicleCategory : result, \n          createdBy : localStorage.getItem(\"user_ID\")\n        }\n        if(this.state.VehicleCategory)\n        {\n            this.setState({\n                vehicalAvailable:true\n            })\n        }else{\n             this.setState({\n                vehicalAvailable:false\n            })\n        }\n        if ($('#empVehicalCategory').valid() && this.state.vehicalAvailable) {\n            axios.post('/api/VehicleEmployeeMapping/post',formvalue)\n            .then((response) => {\n                if(response.data.duplicated == true){\n                    swal({                \n                    text: \"Duplicate Entry\",\n                  });\n                }else{\n              swal({                \n                    text: \"Details added successfully!\",\n                  });\n            }\n            this.dropDownListObject.value = null;\n             this.setState({\n                empCategory    : \"\", \n                VehicleCategory : \"\", \n                company : \"\", \n              })\n              this.getData();\n            })\n            .catch((error) => {\n                console.log(\"Error in Post API of Two field = \",error);\n            })\n        }      \n    }\n    updateCategory(event) {\n        event.preventDefault();\n        var vehicleCatArray = this.state.VehicleCategory;\n        var result = [];\n          for(var i=0 ; i<vehicleCatArray.length ; i++){\n            result.push({category_id:vehicleCatArray[i]})\n          }//i\n          var formvalues ={\n            id: this.state.id,\n            empCategory    : this.state.empCategory, \n            company    : this.state.company, \n            VehicleCategory : result,\n            updatedBy : localStorage.getItem(\"user_ID\")\n          }\n       if ($('#empVehicalCategory').valid()) {\n            axios.patch('/api/VehicleEmployeeMapping/patch',formvalues)\n            .then((response) => {\n                swal(\" \",\"Record updated Successfully\");\n                $('#empCategory').prop('disabled', false);\n                $('#company').prop('disabled', false);\n                this.dropDownListObject.value = null;\n                this.setState({\n                     empCategory    : \"\", \n                      VehicleCategory : \"\", \n                      \n                      company : \"\", \n                      id:\"\"\n                },()=>{\n                    this.getData();\n                    this.props.history.push(\"/project-master-data\");\n                })\n            })\n            .catch((error) => {\n                swal(\" \",\"Failed to Update Record\");\n            })\n        }       \n    }\n  \n    getData() {\n        axios.post('/api/VehicleEmployeeMapping/list')\n        .then((response) => {\n            var tableData = response.data.map((value,i)=>{\n                return{\n                    _id : value._id,\n                    empCategory: value.empCategory,\n                    company: value.company[0].companyName,\n                    vehicalCategory: value.vehicle ? value.vehicle.map((a,i)=>{return (a.category)}):\"-NA-\"\n                }\n\n            })\n            this.setState({\n                tableData: tableData\n            })\n        })\n        .catch((error) => {          \n        });\n    }\n   \n    edit(id) {\n        if(id){\n            $(\"html,body\").scrollTop(0);\n            $('#empCategory').prop('disabled', true);\n            $('#company').prop('disabled', true);\n        axios.get('/api/VehicleEmployeeMapping/get/one/'+id)\n          .then((response) => {\n            //console.log('response: ',response)\n            var data = response.data.VehicleCategory;\n            var array = []\n            for(var i=0 ; i<data.length ; i++){\n                array.push(data[i].category_id)\n            }//i\n            this.dropDownListObject.value = array;\n              this.setState({ \n                id : response.data._id,\n                empCategory : response.data.empCategory,\n                company : response.data.company,\n                VehicleCategory : array,\n              });\n          })\n          .catch((error) => {});\n        }\n    }\n    getVehicals() {\n        axios.get(\"/api/categorymaster/get/list\")\n            .then((response) => {\n                var vehicalArray = [];\n                response.data.map((data, ind) => {\n                    vehicalArray.push({ id: data._id, VehicleCategory: data.category })\n                });\n                this.setState({ vehicalArray: vehicalArray })\n            })\n            .catch((error) => {\n            })\n    }\n    getCompany() {\n        axios.get('/api/entitymaster/get/corporate')\n          .then((response) => {\n            this.setState({\n              companyArray: response.data\n            }, () => {\n            })\n          }).catch(function (error) {\n          });\n    }\n    handleChangeFilter(event){\n        if (event.value) {\n            this.setState({\n                VehicleCategory: event.value\n            },()=>{\n                if(this.state.VehicleCategory)\n                {\n                    this.setState({\n                        vehicalAvailable:true\n                    })\n                }else{\n                     this.setState({\n                        vehicalAvailable:false\n                    })\n                }\n            })                   \n        }\n    }\n    closeModal(event){\n        event.preventDefault();\n        $(\"#oneField\").hide(); \n        $(\".modal-backdrop\").remove();\n        this.props.history.push('/project-master-data')\n    }\n\n\n    render() {\n        const vehicalfields: object = { text: 'VehicleCategory', value: 'id'};\n        return (\n            <div className=\"companyDisplayForm col-md-12\">\n                <section className=\"col-md-12 pageContent\">\n                    <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                     <h4 className=\"weighttitle col-lg-12 col-md-11 col-xs-11 col-sm-11\">Employee Vehical Mapping</h4>\n                    </div>\n                            <form className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"empVehicalCategory\" >\n                               \n\n                                <div className=\"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left NOpadding-right\">\n                                    <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 driver person employee\">\n                                        <div id=\"company\">\n                                        <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Corporate<i className=\"astrick\">*</i></label>\n                                        <select className=\"customSelect col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.company} ref=\"company\" name=\"company\" onChange={this.handleChange.bind(this)}>\n                                            <option disabled value=\"\">--Select Company--</option>\n                                            {\n                                                this.state.companyArray && this.state.companyArray.length > 0 ?\n                                                    this.state.companyArray.map((data, i)=>{\n                                                        return(\n                                                            <option key={i} value={data.companyID}>{data.companyName} </option>\n                                                        );\n                                                    })\n                                                :\n                                                null\n                                            }\n                                        </select>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 driver person employee\">\n                                        <div id=\"empCategory\">\n                                          <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding-left\">Employee Category <i className=\"astrick\">*</i></label>\n                                          <select className=\"customSelect col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                                            ref=\"empCategory\" value={this.state.empCategory} name=\"empCategory\"\n                                            onChange={this.handleChange.bind(this)} >\n                                            <option value=\"\" disabled={true} className=\"colorChange\">Select Category</option>\n                                            <option value=\"1\">1</option>\n                                            <option value=\"2\">2</option>\n                                            <option value=\"3\">3</option>\n                                          </select>\n                                        </div>\n                                      </div>\n                                      <div className=\"col-lg-4 col-md-4 col-xs-12 col-sm-12\">\n                                        <div id=\"vehicalCategory\">\n                                            <label className=\"labelform col-lg-12 col-md-12 col-xs-12 col-sm-12 \">Vehicals<i className=\"astrick\">*</i></label>\n                                           {/*} <MultiSelectComponent  \n                                                className=\"form-control\"\n                                                name=\"vehicalCategory\"\n                                                dataSource={this.state.vehicalArray}\n                                                value={this.state.vehicalCategory}\n                                                change={this.handleChangeFilter.bind(this)}\n                                                fields={vehicalfields} placeholder=\"Select Vehical\" \n                                                mode=\"CheckBox\" selectAllText=\"Select All\" \n                                                unSelectAllText=\"Unselect All\" showSelectAll={true}>\n                                                <Inject services={[CheckBoxSelection]} />\n                                            </MultiSelectComponent>*/}\n                                            <MultiSelectComponent id=\"categoryChange\" ref={(scope) => { this.dropDownListObject = scope; }}\n                                                dataSource={this.state.vehicalArray}\n                                                change={this.handleChangeFilter.bind(this)} mode='box'\n                                                fields={vehicalfields} placeholder=\"Select Vehicle category\" \n                                                mode=\"CheckBox\" selectAllText=\"Select All\" \n                                                unSelectAllText=\"Unselect All\" showSelectAll={true} hideSelectedItem={false}>\n                                                <Inject services={[CheckBoxSelection]} />\n                                            </MultiSelectComponent>\n                                        </div>\n                                        <label className=\"errorMsg\">{this.state.vehicalAvailable == true?\"\":\"This field is required\"}</label>\n                                    </div>\n                                </div>\n                                 <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt\">\n                                  {\n                                    this.state.categoryID ?\n                                      <button className=\"btn button3 pull-right\" onClick={this.updateCategory.bind(this)} >Update&nbsp;</button>\n                                      :\n                                      <button className=\"btn button3 pull-right\" onClick={this.submitCategory.bind(this)} >Submit&nbsp;</button>\n                                  }\n                                </div>\n                            </form> \n                            <div className=\"oneFieldTable col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                <IAssureTable\n                                    tableHeading={this.state.tableHeading}\n                                    dataCount={this.state.dataCount}\n                                    tableData={this.state.tableData}\n                                    getData={this.getData.bind(this)}\n                                    tableObjects={this.state.tableObjects}\n                                />\n                            </div>\n                            \n                </section>\n            </div>\n        );\n    }\n}\nexport default EmployeeVehicalMapping;\n\n"]},"metadata":{},"sourceType":"module"}