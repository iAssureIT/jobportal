{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/TaxName/TaxName.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport IAssureTable from '../../coreadmin/IAssureTable/IAssureTable.jsx';\nimport OneFieldForm from '../../coreadmin/Master/OneFieldForm/OneFieldForm.js';\nimport _ from 'underscore';\nimport 'bootstrap/js/tab.js';\n\nclass TaxName extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      taxName: \"\",\n      profileCreated: false,\n      \"tableHeading\": {\n        taxName: \"Tax Name\",\n        actions: 'Action'\n      },\n      \"fields\": {\n        placeholder: \"Add tax name & press 'Enter' Key.\",\n        title: \"Tax Name\",\n        attributeName: \"taxName\"\n      },\n      \"tableObjects\": {\n        deleteMethod: 'delete',\n        apiLink: '/api/taxnamemaster/',\n        paginationApply: false,\n        searchApply: false,\n        editUrl: '/technicalMaster/tax-name'\n      },\n      \"startRange\": 0,\n      \"limitRange\": 10,\n      \"editId\": this.props.match.params ? this.props.match.params.fieldID : ''\n    };\n  }\n\n  componentDidMount() {\n    var editId = this.props.match.params.fieldID;\n    this.setState({\n      editId: editId\n    });\n    var editId = this.props.match.params.fieldID;\n    axios.get('/api/companysettings/').then(res => {\n      this.setState({\n        profileCreated: true,\n        companyInfo: res.data\n      });\n    }).catch(error => {}); // this.getData(this.state.startRange, this.state.limitRange);\n    // this.edit(editId);\n\n    window.scrollTo(0, 0);\n    $.validator.addMethod(\"regxA1\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Tax Name should only contain letters & number.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#taxMaster\").validate({\n      rules: {\n        taxName: {\n          required: true,\n          regxA1: /^[A-Za-z_0-9 ][A-Za-z\\d_ ]*$/\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"taxName\") {\n          error.insertAfter(\"#taxName\");\n        }\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    var editId = nextProps.match.params.fieldID;\n\n    if (nextProps.match.params.fieldID) {\n      this.setState({\n        editId: editId\n      });\n    }\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n  /* submit(event){\n       event.preventDefault();\n       var formValues = {\n           \"taxName\" : this.refs.taxName.value\n       }\n       if($(\"#taxMaster\").valid()){\n           axios.post('/api/preference/post', formValues)\n           .then((response)=>{\n               this.getData(this.state.startRange, this.state.limitRange);\n               swal(response.data.message);\n               this.setState({\n                   taxName : \"\"\n               })\n           })\n           .catch((error)=>{\n               console.log('error', error);\n           })\n       }\n   }\n   update(event){\n       event.preventDefault();\n       var formValues = {\n           \"preferenceID\" : this.state.editId,\n           \"taxName\" : this.refs.taxName.value\n       }\n       if($(\"#taxMaster\").valid()){\n           axios.patch('/api/preference/patch', formValues)\n           .then((response)=>{\n               this.props.history.push('/taxname');\n               swal(response.data.message);\n               this.getData(this.state.startRange, this.state.limitRange);\n               this.setState({\n                   taxName : \"\",\n                   editId : \"\"\n               })\n           })\n           .catch((error)=>{\n               console.log('error', error);\n           })\n       }\n   }\n   getDataCount(){\n       axios.get('/api/preference/get/count')\n       .then((response)=>{\n         this.setState({\n           dataCount : response.data.dataCount\n         })\n       })\n       .catch((error)=>{\n         console.log('error', error);\n       });\n   }\n   getData(startRange, limitRange){\n       var data={\n           startRange : startRange,\n           limitRange : limitRange\n       }\n        axios.patch('/api/preference/get/list', data)\n       .then((response)=>{\n           this.getDataCount();\n           var tableData = response.data.map((a, i)=>{\n               return {\n                   _id : a._id,\n                   taxName : a.taxName,\n               }\n           })\n           console.log('table', tableData);\n           this.setState({\n               tableData : tableData\n           })\n           console.log(response.data);\n       })\n       .catch((error)=>{\n           console.log('error', error);\n       });\n   }\n   edit(id){\n       $(\"#taxMaster\").validate().resetForm();\n       axios.get('/api/preference/get/one/'+id)\n       .then((response)=>{\n           console.log('res', response);\n           this.setState({\n               \"taxName\"                  : response.data.taxName,\n           });\n           \n       })\n       .catch((error)=>{\n           console.log('error', error);\n       });\n   }*/\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"formWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 titleaddcontact NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 25\n      }\n    }, \"Technical Masters\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"boxMinHeight boxMinHeighttab addMarginTop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-3 col-xs-12 col-sm-12 noPadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }\n    }, this.state.profileCreated ? /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav nav-tabs tabs-left sideways\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"tabLeft lettersp tablefthr\",\n      href: \"/technicalMaster/tax-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 92\n      }\n    }, \"Tax Master\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"tabLeft lettersp tablefthr\",\n      href: \"/technicalMaster/tax-rate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 86\n      }\n    }, \"Tax Rate Master\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"tabLeft lettersp tablefthr\",\n      href: \"/technicalMaster/location-type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 85\n      }\n    }, \"Location Types\"))) : /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav nav-tabs tabs-left sideways\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"tabLeft lettersp tablefthr\",\n      href: \"/technicalMaster/tax-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 92\n      }\n    }, \"Tax Master\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"tabLeft lettersp tablefthr\",\n      href: \"/technicalMaster/tax-rate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 86\n      }\n    }, \"Tax Rate Master\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"tabLeft lettersp tablefthr\",\n      href: \"/technicalMaster/location-type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 85\n      }\n    }, \"Location Types\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-content col-lg-9 col-md-9 col-xs-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-pane active\",\n      id: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(OneFieldForm, {\n      fields: this.state.fields,\n      tableHeading: this.state.tableHeading,\n      tableObjects: this.state.tableObjects,\n      editId: this.props.match.params.fieldID,\n      masterFieldForm: true,\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 27\n      }\n    })))))))))));\n  }\n\n}\n\nexport default TaxName;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/TaxName/TaxName.js"],"names":["React","Component","$","jQuery","axios","swal","IAssureTable","OneFieldForm","_","TaxName","constructor","props","state","taxName","profileCreated","actions","placeholder","title","attributeName","deleteMethod","apiLink","paginationApply","searchApply","editUrl","match","params","fieldID","componentDidMount","editId","setState","get","then","res","companyInfo","data","catch","error","window","scrollTo","validator","addMethod","value","element","regexpr","test","setDefaults","debug","success","validate","rules","required","regxA1","errorPlacement","attr","insertAfter","componentWillReceiveProps","nextProps","handleChange","event","preventDefault","target","name","render","fields","tableHeading","tableObjects","history"],"mappings":"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","sourcesContent":["import React, { Component }   from 'react';\nimport $                      from 'jquery';\nimport jQuery                 from 'jquery';\nimport axios                  from 'axios';\nimport swal                   from 'sweetalert';\nimport IAssureTable           from '../../coreadmin/IAssureTable/IAssureTable.jsx';\nimport OneFieldForm             from '../../coreadmin/Master/OneFieldForm/OneFieldForm.js';\nimport _                      from 'underscore';\nimport 'bootstrap/js/tab.js';\n\nclass TaxName extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            taxName                        : \"\",\n            profileCreated                 : false,\n            \"tableHeading\"                 : {\n                taxName                    : \"Tax Name\",\n                actions                    : 'Action',\n              },\n              \"fields\" : {\n                placeholder     : \"Add tax name & press 'Enter' Key.\",\n                title           : \"Tax Name\",\n                attributeName   : \"taxName\"\n            },\n              \"tableObjects\": {\n                deleteMethod: 'delete',\n                apiLink: '/api/taxnamemaster/',\n                paginationApply: false,\n                searchApply: false,\n                editUrl: '/technicalMaster/tax-name'\n            },\n              \"startRange\"                : 0,\n              \"limitRange\"                : 10,\n              \"editId\"                    : this.props.match.params ? this.props.match.params.fieldID : ''\n        };\n    }\n    componentDidMount() {\n        var editId = this.props.match.params.fieldID;\n         this.setState({\n            editId: editId\n        })\n        var editId = this.props.match.params.fieldID;\n       \n         axios.get('/api/companysettings/')\n        .then( (res)=>{   \n          this.setState({profileCreated:true, companyInfo: res.data}) \n        })\n        .catch((error)=>{\n        });\n       // this.getData(this.state.startRange, this.state.limitRange);\n\n       // this.edit(editId);\n        window.scrollTo(0, 0);\n        $.validator.addMethod(\"regxA1\", function(value, element, regexpr) {          \n        return regexpr.test(value);\n        }, \"Tax Name should only contain letters & number.\");\n        \n        jQuery.validator.setDefaults({\n        debug: true,\n        success: \"valid\"\n        });\n        $(\"#taxMaster\").validate({\n        rules: {\n            taxName: {\n            required: true,\n            regxA1: /^[A-Za-z_0-9 ][A-Za-z\\d_ ]*$/,\n            },\n        },\n            errorPlacement: function(error, element) {\n                if (element.attr(\"name\") === \"taxName\"){\n                    error.insertAfter(\"#taxName\");\n                }\n            }\n        });\n    }  \n      componentWillReceiveProps(nextProps) {\n        var editId = nextProps.match.params.fieldID;\n        if (nextProps.match.params.fieldID) {\n            this.setState({\n                editId: editId\n            })\n        }\n    }\n\n    \n    handleChange(event) {\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n        this.setState({\n            [name]: event.target.value\n        });   \n    }\n   /* submit(event){\n        event.preventDefault();\n        var formValues = {\n            \"taxName\" : this.refs.taxName.value\n        }\n        if($(\"#taxMaster\").valid()){\n            axios.post('/api/preference/post', formValues)\n            .then((response)=>{\n                this.getData(this.state.startRange, this.state.limitRange);\n                swal(response.data.message);\n                this.setState({\n                    taxName : \"\"\n                })\n            })\n            .catch((error)=>{\n                console.log('error', error);\n            })\n        }\n    }\n    update(event){\n        event.preventDefault();\n        var formValues = {\n            \"preferenceID\" : this.state.editId,\n            \"taxName\" : this.refs.taxName.value\n        }\n        if($(\"#taxMaster\").valid()){\n            axios.patch('/api/preference/patch', formValues)\n            .then((response)=>{\n                this.props.history.push('/taxname');\n                swal(response.data.message);\n                this.getData(this.state.startRange, this.state.limitRange);\n                this.setState({\n                    taxName : \"\",\n                    editId : \"\"\n                })\n            })\n            .catch((error)=>{\n                console.log('error', error);\n            })\n        }\n    }\n    getDataCount(){\n        axios.get('/api/preference/get/count')\n        .then((response)=>{\n          this.setState({\n            dataCount : response.data.dataCount\n          })\n        })\n        .catch((error)=>{\n          console.log('error', error);\n        });\n    }\n    getData(startRange, limitRange){\n        var data={\n            startRange : startRange,\n            limitRange : limitRange\n        }\n\n        axios.patch('/api/preference/get/list', data)\n        .then((response)=>{\n            this.getDataCount();\n            var tableData = response.data.map((a, i)=>{\n                return {\n                    _id : a._id,\n                    taxName : a.taxName,\n                }\n            })\n            console.log('table', tableData);\n            this.setState({\n                tableData : tableData\n            })\n            console.log(response.data);\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        });\n    }\n    edit(id){\n        $(\"#taxMaster\").validate().resetForm();\n        axios.get('/api/preference/get/one/'+id)\n        .then((response)=>{\n            console.log('res', response);\n            this.setState({\n                \"taxName\"                  : response.data.taxName,\n            });\n            \n        })\n        .catch((error)=>{\n            console.log('error', error);\n        });\n    }*/\n    render() {\n        return (\n            <div className=\"container-fluid col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n               <div className=\"row\">\n          <div className=\"formWrapper\">\n            <section className=\"content\">\n              <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent \">\n                <div className=\"row\">\n                  <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 titleaddcontact NOpadding\">\n                    <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right \">\n                        <h4 className=\"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\">Technical Masters</h4>\n                    </div>\n                  </div>     \n                  <div className=\"boxMinHeight boxMinHeighttab addMarginTop\">\n                    <div  className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 \">\n                      <div className=\"col-lg-3 col-md-3 col-xs-12 col-sm-12 noPadding\"> \n                          {\n                          this.state.profileCreated ?\n                          <ul className=\"nav nav-tabs tabs-left sideways\">\n                            <li className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 active\"><a className=\"tabLeft lettersp tablefthr\" href=\"/technicalMaster/tax-name\" >Tax Master</a></li>\n                            <li className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 \"><a className=\"tabLeft lettersp tablefthr\" href=\"/technicalMaster/tax-rate\" >Tax Rate Master</a></li>\n                            <li className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\"><a className=\"tabLeft lettersp tablefthr\" href=\"/technicalMaster/location-type\" >Location Types</a></li>\n                          </ul>\n                          :\n                          <ul className=\"nav nav-tabs tabs-left sideways\">\n                            <li className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 active\"><a className=\"tabLeft lettersp tablefthr\" href=\"/technicalMaster/tax-name\" >Tax Master</a></li>\n                            <li className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 \"><a className=\"tabLeft lettersp tablefthr\" href=\"/technicalMaster/tax-rate\" >Tax Rate Master</a></li>\n                            <li className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\"><a className=\"tabLeft lettersp tablefthr\" href=\"/technicalMaster/location-type\" >Location Types</a></li>\n                          </ul>\n                        }\n                      </div>\n                      <div className=\"tab-content col-lg-9 col-md-9 col-xs-12 col-sm-12\">             \n\n                        <div className=\"tab-pane active\" id=\"\">\n                          <OneFieldForm fields={this.state.fields}\n                            tableHeading={this.state.tableHeading}\n                            tableObjects={this.state.tableObjects}\n                            editId ={this.props.match.params.fieldID}\n                            masterFieldForm = {true}\n                            history={this.props.history} />  \n                        </div>                            \n                      </div> \n                    </div>\n                  </div>\n                </div>\n              </div>\n            </section>\n          </div>\n        </div> \n            </div> \n        );\n    } \n}\nexport default TaxName;\n\n"]},"metadata":{},"sourceType":"module"}