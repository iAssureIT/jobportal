{"ast":null,"code":"var _jsxFileName = \"/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/VendorAllocation/VendorAllocation.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport _ from 'underscore';\nimport 'bootstrap/js/tab.js';\nimport 'react-phone-input-2/lib/style.css';\nimport moment from 'moment';\nimport { stat } from 'fs';\nimport './vendorAllocation.css';\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng } from \"react-places-autocomplete\";\n\nclass VendorAllocation extends Component {\n  constructor(props) {\n    super(props);\n\n    this.initMap = () => {\n      this.setState({\n        gmapsLoaded: true\n      });\n    };\n\n    this.handleChangePlaces = address => {\n      this.setState({\n        city: address,\n        vendorArray: []\n      });\n    };\n\n    this.handleSelectLocation = address => {\n      geocodeByAddress(address).then(results => {\n        for (var i = 0; i < results[0].address_components.length; i++) {\n          for (var b = 0; b < results[0].address_components[i].types.length; b++) {\n            switch (results[0].address_components[i].types[b]) {\n              case 'sublocality_level_1':\n                var area = results[0].address_components[i].long_name;\n                break;\n\n              case 'sublocality_level_2':\n                var area = results[0].address_components[i].long_name;\n                break;\n\n              case 'locality':\n                var city = results[0].address_components[i].long_name;\n                break;\n\n              case 'administrative_area_level_1':\n                var state = results[0].address_components[i].long_name;\n                break;\n\n              case 'country':\n                var country = results[0].address_components[i].long_name;\n                break;\n\n              case 'postal_code':\n                var pincode = results[0].address_components[i].long_name;\n                break;\n            }\n          }\n        }\n      }).catch(error => console.error('Error', error));\n      geocodeByAddress(address).then(results => getLatLng(results[0])).then(latLng => this.setState({\n        'fromLatLng': latLng\n      })).catch(error => console.error('Error', error));\n      this.setState({\n        city: address ? address.split(\",\")[0] : \"\"\n      }, () => {\n        console.log('this.state.city:', this.state.city);\n        this.getVendor(this.state.city);\n      });\n    };\n\n    this.keyPressNumber = e => {\n      if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 189]) !== -1 || // Allow: Ctrl+A, Command+A\n      e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true) || e.keyCode === 86 && (e.ctrlKey === true || e.metaKey === true) || e.keyCode === 67 && (e.ctrlKey === true || e.metaKey === true) || // Allow: home, end, left, right, down, up\n      e.keyCode >= 35 && e.keyCode <= 40 || e.keyCode === 189 || e.keyCode === 32) {\n        // let it happen, don't do anything\n        return;\n      } // Ensure that it is a number and stop the keypress\n\n\n      if ((e.shiftKey || e.keyCode < 48 || e.keyCode > 58) && (e.keyCode < 96 || e.keyCode > 105 || e.keyCode === 190 || e.keyCode === 46)) {\n        e.preventDefault();\n      }\n    };\n\n    this.state = {\n      \"selectedVendor\": [],\n      \"mappingArray\": [],\n      gmapsLoaded: false,\n      city: \"\",\n      vendorArray: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  // getGoogleAPIKey(){\n  //     axios.get(\"/api/projectSettings/get/GOOGLE\",)\n  //     .then((response) => {\n  //         this.setState({\n  //             googleAPIKey : response.data.googleapikey\n  //         },()=>{\n  //             window.initMap = this.initMap\n  //             const gmapScriptEl = document.createElement(`script`)\n  //             gmapScriptEl.src = `https://maps.googleapis.com/maps/api/js?key=`+this.state.googleAPIKey+`&libraries=places&callback=initMap`\n  //             document.querySelector(`body`).insertAdjacentElement(`beforeend`, gmapScriptEl)\n  //         });\n  //     })\n  //     .catch((error) =>{\n  //         swal(error)\n  //     })\n  // }\n  componentDidMount() {\n    // this.getGoogleAPIKey();\n    this.getContract();\n    this.setState({\n      mappingID: this.props.match.params.id\n    }, () => {\n      this.edit();\n    });\n    window.scrollTo(0, 0);\n    $.validator.addMethod(\"regxcorporate\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the corporate\");\n    $.validator.addMethod(\"regxcorporateLocation\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the corporate location\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#VendorAllocation\").validate({\n      rules: {\n        city: {\n          required: true\n        },\n        vendor: {\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") === \"city\") {\n          error.insertAfter(\"#city\");\n        }\n\n        if (element.attr(\"name\") === \"vendor\") {\n          error.insertAfter(\"#vendor\");\n        }\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    $(\"script[src='/js/adminLte.js']\").remove();\n    $(\"link[href='/css/dashboard.css']\").remove();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.match.params.id) {\n      this.setState({\n        mappingID: nextProps.match.params.id\n      }, () => {\n        this.edit();\n      });\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  edit() {\n    window.scrollTo(0, 0);\n    var mappingID = this.props.match.params.id;\n\n    if (mappingID) {\n      axios.get('/api/VendorAllocation/get/one/' + mappingID).then(response => {\n        $(\"#city\").prop('disabled', true);\n        document.getElementById(\"submitbtn\").innerHTML = \"Update\";\n        this.setState({\n          \"mappingID\": this.props.match.params.id,\n          \"city\": response.data.city,\n          \"selectedVendor\": response.data.vendor\n        }, () => {\n          this.getVendor(this.state.city);\n        });\n\n        for (var i = 0; i < response.data.vendor.length; i++) {\n          this.setState({\n            [response.data.vendor[i].vendorID]: true,\n            [\"assignedPercent-\" + response.data.vendor[i].vendorID]: response.data.vendor[i].assignedPercent\n          });\n        }\n      }).catch(error => {});\n    }\n  }\n\n  handlePercentChange(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    }, () => {});\n  }\n\n  submit(event) {\n    event.preventDefault();\n\n    if ($('#VendorAllocation').valid() && this.state.selectedVendor.length > 0) {\n      var selectedVendor = this.state.selectedVendor;\n      var allocatedCount = 10;\n\n      for (var i = 0; i < selectedVendor.length; i++) {\n        selectedVendor[i].assignedPercent = this.state[\"assignedPercent-\" + selectedVendor[i].vendorID] ? this.state[\"assignedPercent-\" + selectedVendor[i].vendorID] : 0;\n        var total = selectedVendor[i].assignedPercent / 100 * allocatedCount;\n        selectedVendor[i].total = Math.round(total);\n      }\n\n      var formValues = {\n        \"mappingID\": this.props.match.params.id,\n        \"city\": this.state.city,\n        \"vendor\": selectedVendor\n      };\n      var y = 0;\n      selectedVendor.forEach(num => {\n        y = y + Math.round(num.assignedPercent);\n        return y;\n      });\n\n      if (y > 100) {\n        swal(\"Total Percent for selected vendor should be 100\");\n      } else {\n        if (this.props.match.params.id) {\n          axios.patch('/api/VendorAllocation/patch', formValues).then(response => {\n            this.setState({\n              \"city\": \"\",\n              \"vendor\": \"\",\n              \"selectedVendor\": [],\n              vendorArray: []\n            });\n            swal(\"City and Vendor mapped successfully.\");\n            document.getElementById(\"submitbtn\").innerHTML = \"Submit\";\n            $(\"#city\").prop('disabled', false);\n            $('input:checkbox:checked').prop('checked', false);\n\n            if (selectedVendor.length && selectedVendor.length > 0) {\n              for (var i = 0; i < selectedVendor.length; i++) {\n                this.setState({\n                  [selectedVendor[i].vendorID]: false\n                });\n              } //i\n\n            }\n\n            this.getContract();\n            this.props.history.push(\"/vendor_allocation\");\n          }).catch(error => {\n            console.log('error patch: ', error);\n          });\n        } else {\n          axios.post('/api/VendorAllocation/post', formValues).then(response => {\n            if (response.data.duplicate === true) {\n              swal(\"Mapping already exist for selected city.\");\n            } else {\n              if (selectedVendor.length && selectedVendor.length > 0) {\n                for (var i = 0; i < selectedVendor.length; i++) {\n                  this.setState({\n                    [selectedVendor[i].vendorID]: false\n                  });\n                } //i\n\n              }\n\n              this.setState({\n                \"city\": \"\",\n                \"vendor\": \"\",\n                \"selectedVendor\": [],\n                vendorArray: []\n              });\n              swal(\"City and Vendor mapped successfully.\");\n              $('input:checkbox:checked').prop('checked', false);\n              document.getElementsByClassName(\"mycheckbox\").checked = false;\n              this.getContract();\n              this.props.history.push(\"/vendor_allocation\");\n            }\n          }).catch(error => {\n            console.log('error post: ', error);\n          });\n        }\n      }\n    } else {\n      $(event.target).parent().parent().find('.inputText.error:first').focus();\n      this.setState({\n        checkBoxError: \"Please select atleast one vendor.\"\n      });\n    }\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    var value = event.target.value;\n    this.setState({\n      [name]: event.target.value\n    }, () => {\n      this.getVendor(this.state.city);\n      this.setState({\n        vendorArray: []\n      });\n    });\n  }\n\n  getVendor(city) {\n    axios.get('/api/entitymaster/get/getAllCitywiseVendors/' + city).then(response => {\n      if (!this.props.match.params.id) {\n        var assignedPercent = (100 / response.data.length).toFixed(2);\n\n        for (var i = 0; i < response.data.length; i++) {\n          this.setState({\n            [\"assignedPercent-\" + response.data[i].id]: Math.round(assignedPercent)\n          });\n        }\n      }\n\n      this.setState({\n        vendorArray: response.data\n      });\n    }).catch(error => {\n      console.log('error getting vendor: ', error);\n    });\n  }\n\n  getContract() {\n    axios.get(\"/api/VendorAllocation/get/joinentitieslist\").then(response => {\n      this.setState({\n        mappingArray: response.data\n      });\n    }).catch(error => {\n      console.log('error getting data:', error);\n    });\n  }\n\n  delete(event) {\n    var mappingID = event.target.id;\n    axios.delete(\"/api/VendorAllocation/delete/\" + mappingID).then(response => {\n      this.getContract();\n      this.props.history.push(\"/vendor_allocation\");\n      this.setState({\n        \"city\": \"\",\n        \"vendor\": \"\",\n        \"vendorLocation\": \"\",\n        \"selectedVendor\": [],\n        vendorArray: []\n      });\n      document.getElementById(\"submitbtn\").innerHTML = \"Submit\";\n      swal(\"Data deleted successfully.\");\n    }).catch(error => {\n      console.log('Delete Error: ', error);\n    });\n  }\n\n  selectVendor(event) {\n    var check = event.target.checked;\n    var id = event.target.id;\n    var ID = $('#' + id).attr('dataid');\n    var value = event.target.value;\n    var selectedVendor = this.state.selectedVendor;\n    this.setState({\n      [event.target.name]: this.state[event.target.name] ? false : true\n    }, () => {\n      if (check === true) {\n        selectedVendor.push({\n          vendorID: id,\n          ID: ID // \"assignedPercent\" : this.state[\"assignedPercent-\"+id] ? this.state[\"assignedPercent-\"+id] : 0\n\n        });\n      } else {\n        var index = selectedVendor.findIndex(x => x.packageID === id);\n        selectedVendor.splice(index, 1);\n      }\n\n      this.setState({\n        selectedVendor: selectedVendor,\n        checkBoxError: this.state.selectedVendor.length > 0 ? \"\" : \"Please select atleast one vendor.\"\n      });\n    });\n  }\n\n  render() {\n    const searchOptions = {\n      types: ['(cities)'],\n      componentRestrictions: {\n        country: \"in\"\n      }\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 37\n      }\n    }, \"Map City and Vendor\")), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"Content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"VendorAllocation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 submitForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 73\n      }\n    }, \"City \", /*#__PURE__*/React.createElement(\"sup\", {\n      className: \"astrick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 147\n      }\n    }, \"*\")), this.props.match.params.id ? /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      value: this.state.city,\n      ref: \"city\",\n      name: \"city\",\n      id: \"city\",\n      placeholder: \"Enter City\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 78\n      }\n    }) : /*#__PURE__*/React.createElement(PlacesAutocomplete, {\n      value: this.state.city,\n      name: \"city\",\n      ref: \"city\",\n      onChange: this.handleChangePlaces,\n      onSelect: this.handleSelectLocation,\n      searchOptions: searchOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 73\n      }\n    }, ({\n      getInputProps,\n      suggestions,\n      getSuggestionItemProps,\n      loading\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 79\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps({\n      placeholder: 'Search cities ...',\n      className: 'location-search-input col-lg-12 form-control',\n      id: \"city\"\n    }), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 81\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"autocomplete-dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 81\n      }\n    }, loading && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 95\n      }\n    }, \"Loading...\"), suggestions.map(suggestion => {\n      const className = suggestion.active ? 'suggestion-item--active' : 'suggestion-item'; // inline style for demonstration purpose\n\n      const style = suggestion.active ? {\n        backgroundColor: '#fafafa',\n        cursor: 'pointer'\n      } : {\n        backgroundColor: '#ffffff',\n        cursor: 'pointer'\n      };\n      return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, getSuggestionItemProps(suggestion, {\n        className,\n        style\n      }), {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 87\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 85\n        }\n      }, suggestion.description ? suggestion.description.split(\",\")[0] : \"\"));\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-sm-12 col-md-12 col-xs-12 NOpadding form-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table iAssureITtable-bordered table-striped table-hover fixedTable tableStyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"tempTableHeader fixedHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"tempTableHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 85\n      }\n    }, \"Vendor\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 85\n      }\n    }, \"Cars\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 85\n      }\n    }, \"Allocation(%)\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 77\n      }\n    }, this.state.vendorArray && this.state.vendorArray.length > 0 ? this.state.vendorArray.map((data, i) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 93\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 97\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        id: data.id,\n        dataid: data.ID,\n        className: \"mycheckbox col-md-1 col-xs-12\",\n        value: data.id,\n        name: data.id,\n        checked: this.state[data.id] ? true : false,\n        onChange: this.selectVendor.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 101\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"wordBreak\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 101\n        }\n      }, \"\\xA0\\xA0\", data.companyName), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 101\n        }\n      }, this.state.checkBoxError)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 97\n        }\n      }, data.carCount), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 97\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        max: \"100\",\n        title: \"Percentage must be less than or equal to 100\",\n        style: {\n          \"width\": \"80px\",\n          \"height\": \"25px\"\n        },\n        ref: \"assignedPercent-\" + data.id,\n        name: \"assignedPercent-\" + data.id,\n        value: this.state[\"assignedPercent-\" + data.id],\n        onKeyDown: event => event.target.value > 100 ? (event.which ? event.which : event.keyCode) !== 8 ? (event.preventDefault(), true) : false : true,\n        onChange: this.handlePercentChange.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 101\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 101\n        }\n      }, \"\\xA0%\")));\n    }) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"centerAlign\",\n      colSpan: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 85\n      }\n    }, \"No Data Found\"))))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"submitbtn\",\n      className: \"btn button3 pull-right\",\n      onClick: this.submit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 61\n      }\n    }, \"Submit\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 41\n      }\n    }, this.state.mappingArray && this.state.mappingArray.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-sm-12 foothd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"MasterBudgetTitle col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 14\n      }\n    }, \"Mapping Details\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table iAssureITtable-bordered table-striped table-hover fixedTable tableStyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"tempTableHeader fixedHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"tempTableHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 69\n      }\n    }, \"City\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 69\n      }\n    }, \"Vendors\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 69\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 61\n      }\n    }, this.state.mappingArray && this.state.mappingArray.length > 0 ? this.state.mappingArray.map((data, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 69\n        }\n      }, data.city), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 69\n        }\n      }, data.vendor && data.vendor.length > 0 ? data.vendor.map((a, i) => {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 89\n          }\n        }, a.companyName, \" \");\n      }) : null), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 69\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"col-md-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 73\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/vendor_allocation/\" + data._id,\n        title: \"Edit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 100\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-pencil penmrleft\",\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 154\n        }\n      }))), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"col-md-1\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": `#${data._id}-rm`,\n        id: data._id,\n        title: \"Delete\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 73\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-trash-o\",\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 182\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        id: `${data._id}-rm`,\n        role: \"dialog\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 69\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \" modal-dialog adminModal adminModal-dialog\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 73\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-content adminModal-content col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 78\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 85\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"CreateTempModal col-lg-11 col-md-11 col-sm-11 col-xs-11\",\n        id: \"exampleModalLabel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 89\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-1 NOpadding-left NOpadding-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 89\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"adminCloseButton\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 93\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 95\n        }\n      }, \"\\xD7\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 83\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"blackFont textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12 examDeleteFont\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 86\n        }\n      }, \"Are you sure you want to delete this?\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 83\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 88\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\",\n        \"data-dismiss\": \"modal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 93\n        }\n      }, \"CANCEL\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 88\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.delete.bind(this),\n        id: data._id,\n        type: \"button\",\n        className: \"btn examDelete-btn col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\",\n        \"data-dismiss\": \"modal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 93\n        }\n      }, \"DELETE\")))))));\n    }) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"centerAlign\",\n      colSpan: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 77\n      }\n    }, \"No Data Found\"))))))) : null))))))));\n  }\n\n}\n\nexport default VendorAllocation;","map":{"version":3,"sources":["/home/mani/projects/jobportal/webapp/adminportal/src/projectadmin/VendorAllocation/VendorAllocation.js"],"names":["React","Component","$","jQuery","axios","swal","_","moment","stat","PlacesAutocomplete","geocodeByAddress","getLatLng","VendorAllocation","constructor","props","initMap","setState","gmapsLoaded","handleChangePlaces","address","city","vendorArray","handleSelectLocation","then","results","i","address_components","length","b","types","area","long_name","state","country","pincode","catch","error","console","latLng","split","log","getVendor","keyPressNumber","e","inArray","keyCode","ctrlKey","metaKey","shiftKey","preventDefault","handleChange","bind","submit","componentDidMount","getContract","mappingID","match","params","id","edit","window","scrollTo","validator","addMethod","value","element","arg","setDefaults","debug","success","validate","rules","required","vendor","errorPlacement","attr","insertAfter","componentWillUnmount","remove","componentWillReceiveProps","nextProps","get","response","prop","document","getElementById","innerHTML","data","vendorID","assignedPercent","handlePercentChange","event","target","name","valid","selectedVendor","allocatedCount","total","Math","round","formValues","y","forEach","num","patch","history","push","post","duplicate","getElementsByClassName","checked","parent","find","focus","checkBoxError","toFixed","mappingArray","delete","selectVendor","check","ID","index","findIndex","x","packageID","splice","render","searchOptions","componentRestrictions","getInputProps","suggestions","getSuggestionItemProps","loading","placeholder","className","map","suggestion","active","style","backgroundColor","cursor","description","companyName","carCount","which","a","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport _ from 'underscore';\nimport 'bootstrap/js/tab.js';\nimport 'react-phone-input-2/lib/style.css';\nimport moment from 'moment';\nimport { stat } from 'fs';\nimport './vendorAllocation.css';\nimport PlacesAutocomplete, {\n  geocodeByAddress,\n  getLatLng\n} from \"react-places-autocomplete\";\n\n\nclass VendorAllocation extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \"selectedVendor\"            : [],\n            \"mappingArray\"             : [],\n            gmapsLoaded                : false,\n            city                       :\"\",\n            vendorArray                : []\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.submit = this.submit.bind(this);\n    }\n\n    initMap = () => {\n      this.setState({\n        gmapsLoaded: true,\n      })\n    }\n\n    // getGoogleAPIKey(){\n    //     axios.get(\"/api/projectSettings/get/GOOGLE\",)\n    //     .then((response) => {\n    //         this.setState({\n    //             googleAPIKey : response.data.googleapikey\n    //         },()=>{\n    //             window.initMap = this.initMap\n    //             const gmapScriptEl = document.createElement(`script`)\n    //             gmapScriptEl.src = `https://maps.googleapis.com/maps/api/js?key=`+this.state.googleAPIKey+`&libraries=places&callback=initMap`\n    //             document.querySelector(`body`).insertAdjacentElement(`beforeend`, gmapScriptEl)\n    //         });\n    //     })\n    //     .catch((error) =>{\n    //         swal(error)\n    //     })\n    // }\n    componentDidMount() {\n        // this.getGoogleAPIKey();\n        this.getContract();\n        this.setState({\n            mappingID: this.props.match.params.id\n        }, () => {\n            this.edit();\n        })\n        window.scrollTo(0, 0);\n        $.validator.addMethod(\"regxcorporate\", function (value, element, arg) {\n            return arg !== value;\n        }, \"Please select the corporate\");\n        $.validator.addMethod(\"regxcorporateLocation\", function (value, element, arg) {\n            return arg !== value;\n        }, \"Please select the corporate location\");\n\n        jQuery.validator.setDefaults({\n            debug: true,\n            success: \"valid\"\n        });\n        $(\"#VendorAllocation\").validate({\n            rules: {\n                city: {\n                    required: true,\n                },\n                vendor: {\n                    required: true,\n                },\n            },\n            errorPlacement: function (error, element) {\n                if (element.attr(\"name\") === \"city\") {\n                    error.insertAfter(\"#city\");\n                }\n                if (element.attr(\"name\") === \"vendor\") {\n                    error.insertAfter(\"#vendor\");\n                }\n            }\n        });\n    }\n    componentWillUnmount() {\n        $(\"script[src='/js/adminLte.js']\").remove();\n        $(\"link[href='/css/dashboard.css']\").remove();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.match.params.id){\n            this.setState({\n                mappingID: nextProps.match.params.id\n            }, () => {\n                this.edit();\n            })\n        }\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n    edit() {\n        window.scrollTo(0, 0);\n        var mappingID = this.props.match.params.id;\n        if (mappingID) {\n            axios.get('/api/VendorAllocation/get/one/' + mappingID)\n            .then((response) => {\n                $(\"#city\").prop('disabled', true);\n                document.getElementById(\"submitbtn\").innerHTML = \"Update\";\n                this.setState({\n                    \"mappingID\"                  : this.props.match.params.id,\n                    \"city\"                   : response.data.city,\n                    \"selectedVendor\"                      : response.data.vendor,\n                },()=>{this.getVendor(this.state.city)})\n                for(var i=0; i<response.data.vendor.length; i++){\n                    this.setState({\n                        [response.data.vendor[i].vendorID] : true,\n                        [\"assignedPercent-\"+response.data.vendor[i].vendorID] :response.data.vendor[i].assignedPercent\n                    })\n                }\n            })\n            .catch((error) => {\n            })\n        }\n    }\n    \n    handlePercentChange(event) {\n        const target = event.target;\n        const name = target.name;\n\n        this.setState({\n            [name]: event.target.value\n        },()=>{\n\n        });\n    }\n    handleChangePlaces = address => {\n    this.setState({ city : address, vendorArray:[] });\n    };\n\n    handleSelectLocation = address => {\n        \n    geocodeByAddress(address)\n     .then((results) =>{ \n\n      for (var i = 0; i < results[0].address_components.length; i++) {\n          for (var b = 0; b < results[0].address_components[i].types.length; b++) {\n              switch (results[0].address_components[i].types[b]) {\n                  case 'sublocality_level_1':\n                      var area = results[0].address_components[i].long_name;\n                      break;\n                  case 'sublocality_level_2':\n                      var area = results[0].address_components[i].long_name;\n                      break;\n                  case 'locality':\n                      var city = results[0].address_components[i].long_name;\n                      break;\n                  case 'administrative_area_level_1':\n                      var state = results[0].address_components[i].long_name;\n                      break;\n                  case 'country':\n                     var country = results[0].address_components[i].long_name;\n                      break;\n                  case 'postal_code':\n                     var pincode = results[0].address_components[i].long_name;\n                      break;\n              }\n          }\n        }\n    })\n    .catch(error => console.error('Error', error));\n    geocodeByAddress(address)\n      .then(results => getLatLng(results[0]))\n      .then(latLng => this.setState({'fromLatLng': latLng}))\n      .catch(error => console.error('Error', error));\n      \n      this.setState({ city : address ? address.split(\",\")[0] :\"\" },()=>{\n        console.log('this.state.city:',this.state.city)\n        this.getVendor(this.state.city)\n      });\n    };\n    submit(event) {\n        event.preventDefault();\n        if ($('#VendorAllocation').valid() && this.state.selectedVendor.length > 0) {\n            var selectedVendor =  this.state.selectedVendor;\n            var allocatedCount = 10\n            for(var i=0; i<selectedVendor.length; i++){\n                selectedVendor[i].assignedPercent = this.state[\"assignedPercent-\"+selectedVendor[i].vendorID] ? this.state[\"assignedPercent-\"+selectedVendor[i].vendorID] : 0\n                var total = ((selectedVendor[i].assignedPercent)/100)*allocatedCount;\n                selectedVendor[i].total = Math.round(total)\n            }\n            var formValues = {\n                \"mappingID\"                  : this.props.match.params.id,\n                \"city\"                 : this.state.city,\n                \"vendor\"                    : selectedVendor,\n            }\n            var y = 0;\n            selectedVendor.forEach((num) => {y = y+Math.round(num.assignedPercent); return y;});\n            if(y > 100){\n                swal(\"Total Percent for selected vendor should be 100\")\n            }else{\n                if(this.props.match.params.id) {\n                    axios.patch('/api/VendorAllocation/patch', formValues)\n                    .then((response) => {\n                        this.setState({\n                            \"city\"                 : \"\",\n                            \"vendor\"                    : \"\",\n                            \"selectedVendor\"              : [],\n                            vendorArray:[]\n                        })\n                        swal(\"City and Vendor mapped successfully.\");\n                        document.getElementById(\"submitbtn\").innerHTML = \"Submit\";\n                        $(\"#city\").prop('disabled', false); \n                        $('input:checkbox:checked').prop('checked', false);\n                        if(selectedVendor.length && selectedVendor.length>0){\n                                for(var i=0; i<selectedVendor.length; i++){\n                                    this.setState({\n                                        [selectedVendor[i].vendorID]:false\n                                    })\n                                }//i\n                            }\n                         this.getContract();\n                        this.props.history.push(\"/vendor_allocation\");\n                    })\n                    .catch((error) => {\n                        console.log('error patch: ',error)\n                    })\n                }else{\n                    axios.post('/api/VendorAllocation/post', formValues)\n                    .then((response) => {\n                        if(response.data.duplicate === true){\n                            swal(\"Mapping already exist for selected city.\");\n                        }else{\n                            if(selectedVendor.length && selectedVendor.length>0){\n                                for(var i=0; i<selectedVendor.length; i++){\n                                    this.setState({\n                                        [selectedVendor[i].vendorID]:false\n                                    })\n                                }//i\n                            }\n                            this.setState({\n                                \"city\"                 : \"\",\n                                \"vendor\"                    : \"\",\n                                \"selectedVendor\"              : [],\n                                vendorArray:[]\n                            })\n                            swal(\"City and Vendor mapped successfully.\");\n                            $('input:checkbox:checked').prop('checked', false);\n                            document.getElementsByClassName(\"mycheckbox\").checked = false;\n                             this.getContract();\n                            this.props.history.push(\"/vendor_allocation\");\n                        }\n                    })\n                    .catch((error) => {\n                        console.log('error post: ',error)\n                    })\n                }\n            }\n        } else {\n            $(event.target).parent().parent().find('.inputText.error:first').focus();\n            this.setState({\n                checkBoxError : \"Please select atleast one vendor.\"\n            })\n        }\n\n    }\n    \n    handleChange(event) {\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n        var value = event.target.value;\n        this.setState({\n            [name]: event.target.value\n        },()=>{\n            this.getVendor(this.state.city)\n            this.setState({vendorArray:[]})\n        });\n    }\n    \n    getVendor(city){\n         axios.get('/api/entitymaster/get/getAllCitywiseVendors/'+city)\n\t\t.then((response) => {\n            if(!this.props.match.params.id){\n                var assignedPercent = (100/response.data.length).toFixed(2);\n                for(var i=0; i<response.data.length; i++){\n                    this.setState({\n                        [\"assignedPercent-\"+response.data[i].id] : Math.round(assignedPercent)\n                    })\n                }\n            }\n\t\t\tthis.setState({\n\t\t\t\tvendorArray: response.data\n\t\t\t})\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log('error getting vendor: ',error)\n\t\t})\n    }\n    getContract(){\n        axios.get(\"/api/VendorAllocation/get/joinentitieslist\")\n        .then((response)=>{\n            this.setState({\n                mappingArray : response.data\n            })\n        })\n        .catch((error)=>{\n            console.log('error getting data:',error)\n        })\n    }\n    delete(event){\n        var mappingID = event.target.id;\n        axios.delete(\"/api/VendorAllocation/delete/\"+mappingID)\n        .then((response)=>{\n            this.getContract();\n            this.props.history.push(\"/vendor_allocation\");\n            this.setState({\n                \"city\"                 : \"\",\n                \"vendor\"                    : \"\",\n                \"vendorLocation\"            : \"\",\n                \"selectedVendor\"            : [],\n                vendorArray:[]\n            })\n            document.getElementById(\"submitbtn\").innerHTML = \"Submit\";\n            swal(\"Data deleted successfully.\")\n        })\n        .catch((error)=>{\n            console.log('Delete Error: ',error)\n        })\n    }\n    keyPressNumber = (e) => {\n        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 189]) !== -1 ||\n          // Allow: Ctrl+A, Command+A\n          (e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) ||\n          (e.keyCode === 86 && (e.ctrlKey === true || e.metaKey === true)) ||\n          (e.keyCode === 67 && (e.ctrlKey === true || e.metaKey === true)) ||\n          // Allow: home, end, left, right, down, up\n          (e.keyCode >= 35 && e.keyCode <= 40) || e.keyCode === 189 || e.keyCode === 32) {\n          // let it happen, don't do anything\n          return;\n        }\n        // Ensure that it is a number and stop the keypress\n        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 58)) && (e.keyCode < 96 || e.keyCode > 105 || e.keyCode === 190 || e.keyCode === 46)) {\n          e.preventDefault();\n        }\n    }\n    selectVendor(event){\n        var check = event.target.checked;\n        var id = event.target.id;\n        var ID = $('#'+id).attr('dataid');\n        var value = event.target.value;\n        var selectedVendor = this.state.selectedVendor;\n        this.setState({\n            [event.target.name] : this.state[event.target.name] ? false : true\n        },()=>{\n            if(check === true){\n                selectedVendor.push({\n                    vendorID    : id,\n                    ID          : ID,\n                    // \"assignedPercent\" : this.state[\"assignedPercent-\"+id] ? this.state[\"assignedPercent-\"+id] : 0\n                });\n            }else{\n                var index = selectedVendor.findIndex(x => x.packageID === id);\n                selectedVendor.splice(index, 1);\n            }\n            this.setState({\n                selectedVendor : selectedVendor,\n                checkBoxError : this.state.selectedVendor.length > 0 ? \"\" : \"Please select atleast one vendor.\"\n            })\n        })\n    }\n    render() {\n        const searchOptions = {\n          types: ['(cities)'],\n          componentRestrictions: {country: \"in\"}\n        }\n        return (\n            <div className=\"\">\n                <div className=\"row\">\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                        <section className=\"content\">\n                            <div className=\"pageContent col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                <div className=\"box-header with-border col-lg-12 col-md-12 col-xs-12 col-sm-12 NOpadding-right\">\n                                    <h4 className=\"weighttitle col-lg-11 col-md-11 col-xs-11 col-sm-11 NOpadding-right\">Map City and Vendor</h4>\n                                </div>\n                                \n                                <section className=\"Content\">\n                                    <div className=\"row\">\n                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                            <form id=\"VendorAllocation\">\n                                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                                                    <div className=\"col-lg-12 col-md-12 col-sm-12 submitForm\">\n                                                        <div className=\"col-lg-12 col-md-12 col-sm-12\">\n                                                            <br />\n                                                        </div>\n                                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n                                                            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  NOpadding\">\n                                                                <div className=\"form-margin col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n                                                                    <div className=\"col-lg-6 col-md-6 col-sm-12 col-xs-12\" >\n                                                                        <label className=\"labelform col-lg-12 col-md-12 col-sm-12 col-xs-12\">City <sup className=\"astrick\">*</sup></label>\n                                                                        {this.props.match.params.id ?\n                                                                             <input type=\"text\"  className=\"form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" value={this.state.city} ref=\"city\" name=\"city\" id=\"city\" placeholder=\"Enter City\" disabled />\n                                                                             :\n                                                                        <PlacesAutocomplete\n                                                                            value={this.state.city}\n                                                                            name=\"city\"\n                                                                            ref=\"city\"\n                                                                            onChange={this.handleChangePlaces}\n                                                                            onSelect={this.handleSelectLocation}\n                                                                            searchOptions={searchOptions}\n\n                                                                          >\n                                                                            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n                                                                              <div>\n                                                                                <input\n                                                                                  {...getInputProps({\n                                                                                    placeholder: 'Search cities ...',\n                                                                                    className: 'location-search-input col-lg-12 form-control',\n                                                                                    id:\"city\"\n                                                                                  })}\n                                                                                />\n                                                                                <div className=\"autocomplete-dropdown-container\">\n                                                                                  {loading && <div>Loading...</div>}\n                                                                                  {suggestions.map(suggestion => {\n                                                                                    const className = suggestion.active\n                                                                                      ? 'suggestion-item--active'\n                                                                                      : 'suggestion-item';\n                                                                                    // inline style for demonstration purpose\n                                                                                    const style = suggestion.active\n                                                                                      ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                                                                                      : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                                                                                    return (\n                                                                                      <div\n                                                                                        {...getSuggestionItemProps(suggestion, {\n                                                                                          className,\n                                                                                          style,\n                                                                                        })}\n                                                                                      >\n                                                                                        {/*<span>{suggestion.description}</span>*/}\n                                                                                    <span>{(suggestion.description ? suggestion.description.split(\",\")[0]:\"\")}</span>\n\n                                                                                      </div>\n                                                                                    );\n                                                                                  })}\n                                                                                </div>\n                                                                              </div>\n                                                                            )}\n                                                                        </PlacesAutocomplete>\n                                                                       \n                                                                    }\n                                                                    </div>\n                                                                    \n                                                                </div>\n                                                                <div className=\"col-lg-12 col-sm-12 col-md-12 col-xs-12 NOpadding form-margin\">\n                                                                    <div className=\"table-responsive\">\n                                                                        <table className=\"table iAssureITtable-bordered table-striped table-hover fixedTable tableStyle\">\n                                                                            <thead className=\"tempTableHeader fixedHeader\">\n                                                                                <tr className=\"tempTableHeader\">\n                                                                                    <th>Vendor</th>\n                                                                                    <th>Cars</th>\n                                                                                    <th>Allocation(%)</th>\n                                                                                </tr>\n                                                                            </thead>\n                                                                            <tbody>\n                                                                               {\n                                                                                this.state.vendorArray && this.state.vendorArray.length > 0 ?\n                                                                                    this.state.vendorArray.map((data, i)=>{\n                                                                                        \n                                                                                        return(\n                                                                                            <tr key={i} >\n                                                                                                <td>\n                                                                                                    <input  type=\"checkbox\" id={data.id} \n                                                                                                            dataid={data.ID}\n                                                                                                            className=\"mycheckbox col-md-1 col-xs-12\"\n                                                                                                            value={data.id} \n                                                                                                            name={data.id} \n                                                                                                            checked={this.state[data.id] ? true : false}\n                                                                                                            onChange={this.selectVendor.bind(this)} />\n\n                                                                                                    <span className=\"wordBreak\">&nbsp;&nbsp;{data.companyName}</span>\n                                                                                                    <label className=\"error\">{this.state.checkBoxError}</label>\n                                                                                                </td>\n                                                                                                <td>{data.carCount}</td>\n                                                                                                <td>\n                                                                                                    <input  type=\"number\"\n                                                                                                            max=\"100\"\n                                                                                                            title=\"Percentage must be less than or equal to 100\"\n                                                                                                            style={{\"width\" : \"80px\", \"height\": \"25px\"}}   \n                                                                                                            ref={\"assignedPercent-\"+data.id}\n                                                                                                            name={\"assignedPercent-\"+data.id} \n                                                                                                            value={this.state[\"assignedPercent-\"+data.id]} \n                                                                                                            onKeyDown={(event)=>(event.target.value > 100 ? (((event.which ? event.which : event.keyCode) !== 8) ? (event.preventDefault(), true) : false) : true)}\n                                                                                                            onChange={this.handlePercentChange.bind(this)} /> \n                                                                                                    <span>&nbsp;%</span>\n                                                                                                </td> \n                                                                                            </tr>\n                                                                                        );\n                                                                                    })\n                                                                                :\n                                                                                <tr><td className=\"centerAlign\" colSpan=\"3\">No Data Found</td></tr>\n                                                                            } \n                                                                            </tbody>\n                                                                        </table>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt\">\n                                                            <button id=\"submitbtn\" className=\"btn button3 pull-right\" onClick={this.submit.bind(this)} >Submit</button>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </form>\n                                        </div>\n                                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t\t{this.state.mappingArray && this.state.mappingArray.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-sm-12 foothd\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"MasterBudgetTitle col-lg-12\">Mapping Details</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                    <div className=\"table-responsive\">\n                                                        <table className=\"table iAssureITtable-bordered table-striped table-hover fixedTable tableStyle\">\n                                                            <thead className=\"tempTableHeader fixedHeader\">\n                                                                <tr className=\"tempTableHeader\">\n                                                                    <th>City</th>\n                                                                    <th>Vendors</th>\n                                                                    <th>Action</th>\n                                                                </tr>\n                                                            </thead>\n                                                            <tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.mappingArray && this.state.mappingArray.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.mappingArray.map((data, index) => {\n                                                            return(\n                                                                <tr key={index} >\n                                                                    <td>{data.city}</td>\n                                                                    <td>\n                                                                        {\n                                                                            data.vendor && data.vendor.length > 0?\n                                                                                data.vendor.map((a, i)=>{\n                                                                                    return(\n                                                                                        <li>{a.companyName} </li>\n                                                                                    );\n                                                                                })\n                                                                            :\n                                                                            null\n                                                                        }\n                                                                    </td>\n                                                                    <td>\n                                                                        <span className=\"col-md-1\"><a href={\"/vendor_allocation/\"+data._id} title=\"Edit\"><i className=\"fa fa-pencil penmrleft\" aria-hidden=\"true\"></i></a></span>\n                                                                        <span className=\"col-md-1\" data-toggle=\"modal\" data-target={`#${data._id}-rm`}  id={data._id} title=\"Delete\"><i className=\"fa fa-trash-o\" aria-hidden=\"true\"></i></span>\n                                                                    </td>\n                                                                    <div className=\"modal col-lg-12 col-md-12 col-sm-12 col-xs-12\" id={`${data._id}-rm`}  role=\"dialog\">\n                                                                        <div className=\" modal-dialog adminModal adminModal-dialog\">\n                                                                             <div className=\"modal-content adminModal-content col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n                                                                                    <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                                                        <h4 className=\"CreateTempModal col-lg-11 col-md-11 col-sm-11 col-xs-11\" id=\"exampleModalLabel\"></h4>\n                                                                                        <div className=\"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-1 NOpadding-left NOpadding-right\">\n                                                                                            <button type=\"button\" className=\"adminCloseButton\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                                                                              <span aria-hidden=\"true\">&times;</span>\n                                                                                            </button>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                  <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\n                                                                                     <h4 className=\"blackFont textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12 examDeleteFont\">Are you sure you want to delete this?</h4>\n                                                                                  </div>\n                                                                                  \n                                                                                  <div className=\"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                                                       <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                                                                                            <button type=\"button\" className=\"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\">CANCEL</button>\n                                                                                       </div>\n                                                                                       <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                                                                                            <button onClick={this.delete.bind(this)} id={data._id} type=\"button\" className=\"btn examDelete-btn col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\">DELETE</button>\n                                                                                       </div>\n                                                                                  </div>\n                                                                             </div>\n                                                                        </div>\n                                                                   </div>\n                                                                    </tr>\n                                                                                );\n                                                                            })\n                                                                        :\n                                                                        <tr><td className=\"centerAlign\" colSpan=\"3\">No Data Found</td></tr>\n                                                                    } \n                                                                    </tbody>\n                                                                </table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</div>\n                                        </div>\n                                        </div>\n                                        :\n                                        null\n                                    }\n                                    </div>\n                                    </div>\n                                </section>\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nexport default VendorAllocation;"]},"metadata":{},"sourceType":"module"}